(()=>{var Sh=(fe,ue)=>()=>(ue||fe((ue={exports:{}}).exports,ue),ue.exports);var Qv=Sh((Kp,Kv)=>{var Xv=class{constructor(ue,le){this.url=ue,this.options=le}async rawRequest(ue,le){return await(await fetch(this.url,{...this.options,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...this.options.headers},body:JSON.stringify({query:ue,variables:le})})).json()}async request(ue,le){let _e=await this.rawRequest(ue,le),{data:ee}=this.checkResult(_e);return ee}checkResult(ue){if(ue.errors&&ue.errors.length)throw new Error(`GraphQL query resulted in the following errors:
    ${ue.errors?ue.errors.map(({message:le})=>`* ${le}`).join(`
`):JSON.stringify(ue,null,2)}`);return ue}};function Op(fe,...ue){return fe.reduce((le,_e,ee)=>`${le}${_e}${ee in ue?ue[ee]:""}`,"")}Kv.exports={GraphQLClient:Xv,gql:Op}});var ep=Sh((Qp,Jv)=>{var{GraphQLClient:Sp,gql:od}=Qv(),Zv=class{constructor({token:ue}){let le="https://api.github.com/graphql";this.graphql=new Sp(le,{headers:{authorization:`token ${ue}`}})}async getIssueOrPullRequest({owner:ue,repo:le,number:_e}){let ee=`
      title
      body
      author {
        login
        avatarUrl
      }
      timelineItems(first: 100, itemTypes: [CROSS_REFERENCED_EVENT]) {
        nodes {
          ... on CrossReferencedEvent {
            source {
              ... on Issue {
                repository {
                  owner {
                    login
                  }
                  name
                }
                number
              }
              
              ... on PullRequest {
                repository {
                  owner {
                    login
                  }
                  name
                }
                number
              }
            }
          }
        }
      }
      comments(first: 100) {
        nodes {
          author {
            url
          }
          body
        }
      }
    `;return(await this.graphql.request(od`
      query ($owner: String!, $repo: String!, $number: Int!) {
        repository(owner: $owner, name: $repo) {
          issueOrPullRequest(number: $number) {
            ... on UniformResourceLocatable {
              url
            }
            
            ... on PullRequest {
              pullRequestState: state
              isDraft
              ${ee}
            }
            
            ... on Issue {
              issueState: state
              ${ee}
            }
          }
        }
      }
      `,{owner:ue,repo:le,number:_e})).repository.issueOrPullRequest}getRepositories({organization:ue}){return this.paginate(async le=>(await this.graphql.request(od`
          query ($organization: String!, $cursor: String) {
            organization(login: $organization) {
              repositories(first: 10, after: $cursor) {
                edges {
                  node {
                    id
                    databaseId
                    url
                    name
                    description
                    homepageUrl
                    isArchived
                    isDisabled
                    isEmpty
                    isFork
                    isLocked
                    isMirror
                    isPrivate
                    updatedAt
                    pushedAt
                  }
                }
                pageInfo {
                  endCursor
                  hasNextPage
                }
              }
            }
          }
        `,{organization:ue,cursor:le})).organization.repositories)}getIssues({owner:ue,repo:le}){return this.paginate(async _e=>(await this.graphql.request(od`
          query ($owner: String!, $repo: String!, $cursor: String) {
            repository(owner: $owner, name: $repo) {
              issues(first: 100, after: $cursor) {
                pageInfo {
                  endCursor
                  hasNextPage
                }
                edges {
                  node {
                    repository {
                      url
                    }
                    id
                    databaseId
                    url
                    title
                    body
                    state
                    updatedAt
                    createdAt
                    author {
                      url
                    }
                  }
                }
              }
            }
          }
        `,{owner:ue,repo:le,cursor:_e})).repository.issues)}getPullRequests({owner:ue,repo:le}){return this.paginate(async _e=>(await this.graphql.request(od`
          query ($owner: String!, $repo: String!, $cursor: String) {
            repository(owner: $owner, name: $repo) {
              pullRequests(first: 100, after: $cursor) {
                pageInfo {
                  endCursor
                  hasNextPage
                }
                edges {
                  node {
                    repository {
                      url
                    }
                    id
                    databaseId
                    url
                    title
                    body
                    state
                    updatedAt
                    createdAt
                    author {
                      url
                    }
                  }
                }
              }
            }
          }
        `,{owner:ue,repo:le,cursor:_e})).repository.pullRequests)}getTeams({organization:ue}){return this.paginate(async le=>{let _e=await this.graphql.rawRequest(od`
          query ($organization: String!, $cursor: String) {
            organization(login: $organization) {
              teams(first: 10, after: $cursor) {
                edges {
                  node {
                    id
                    url
                    name
                    slug
                    updatedAt
                    createdAt
                    parentTeam {
                      url
                    }
                    repositories(first: 100) {
                      edges {
                        permission
                        node {
                          url
                        }
                      }
                    }
                    members(first: 100, membership: IMMEDIATE) {
                      edges {
                        role
                        node {
                          url
                        }
                      }
                    }
                  }
                }
                pageInfo {
                  endCursor
                  hasNextPage
                }
              }
            }
          }
        `,{organization:ue,cursor:le});return _e.errors&&(_e.errors=_e.errors.filter(({type:ee})=>ee!=="INTERNAL")),this.graphql.checkResult(_e),_e.data.organization.teams.edges&&(_e.data.organization.teams.edges=_e.data.organization.teams.edges.filter(({node:ee})=>ee)),_e.data.organization.teams})}getUsers({organization:ue}){return this.paginate(async le=>(await this.graphql.request(od`
          query ($organization: String!, $cursor: String) {
            organization(login: $organization) {
              membersWithRole(first: 100, after: $cursor) {
                edges {
                  role
                  node {
                    id
                    databaseId
                    name
                    login
                    url
                    updatedAt
                    createdAt
                  }
                }
                pageInfo {
                  endCursor
                  hasNextPage
                }
              }
            }
          }
        `,{organization:ue,cursor:le})).organization.membersWithRole)}async*paginate(ue){let le=null;do{let{pageInfo:_e,edges:ee}=await ue(le);for(let J of ee)yield J;le=_e.hasNextPage?_e.endCursor:null}while(le)}};Jv.exports={GitHubClient:Zv}});var ip=Sh((Xf,tp)=>{(function(fe,ue){typeof Xf=="object"&&typeof tp!="undefined"?ue(Xf):typeof define=="function"&&define.amd?define(["exports"],ue):ue((fe=typeof globalThis!="undefined"?globalThis:fe||self).vis=fe.vis||{})})(Xf,function(fe){var ue=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function le(u){var d={exports:{}};return u(d,d.exports),d.exports}var _e=function(u){return u&&u.Math==Math&&u},ee=_e(typeof globalThis=="object"&&globalThis)||_e(typeof window=="object"&&window)||_e(typeof self=="object"&&self)||_e(typeof ue=="object"&&ue)||function(){return this}()||Function("return this")(),J=function(u){try{return!!u()}catch(d){return!0}},re=!J(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),tt={}.propertyIsEnumerable,Gn=Object.getOwnPropertyDescriptor,Hi={f:Gn&&!tt.call({1:2},1)?function(u){var d=Gn(this,u);return!!d&&d.enumerable}:tt},_t=function(u,d){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:d}},jt={}.toString,Ct=function(u){return jt.call(u).slice(8,-1)},cn="".split,gi=J(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return Ct(u)=="String"?cn.call(u,""):Object(u)}:Object,Yr=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u},Ht=function(u){return gi(Yr(u))},ot=function(u){return typeof u=="object"?u!==null:typeof u=="function"},Ue=function(u,d){if(!ot(u))return u;var f,v;if(d&&typeof(f=u.toString)=="function"&&!ot(v=f.call(u))||typeof(f=u.valueOf)=="function"&&!ot(v=f.call(u))||!d&&typeof(f=u.toString)=="function"&&!ot(v=f.call(u)))return v;throw TypeError("Can't convert object to primitive value")},Tt={}.hasOwnProperty,qe=function(u,d){return Tt.call(u,d)},Ye=ee.document,Xe=ot(Ye)&&ot(Ye.createElement),qs=function(u){return Xe?Ye.createElement(u):{}},il=!re&&!J(function(){return Object.defineProperty(qs("div"),"a",{get:function(){return 7}}).a!=7}),Us=Object.getOwnPropertyDescriptor,Eo={f:re?Us:function(u,d){if(u=Ht(u),d=Ue(d,!0),il)try{return Us(u,d)}catch(f){}if(qe(u,d))return _t(!Hi.f.call(u,d),u[d])}},xo=/#|\.prototype\./,Ja=function(u,d){var f=ad[yr(u)];return f==sd||f!=es&&(typeof d=="function"?J(d):!!d)},yr=Ja.normalize=function(u){return String(u).replace(xo,".").toLowerCase()},ad=Ja.data={},es=Ja.NATIVE="N",sd=Ja.POLYFILL="P",ud=Ja,at={},je=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u},dn=function(u,d,f){if(je(u),d===void 0)return u;switch(f){case 0:return function(){return u.call(d)};case 1:return function(v){return u.call(d,v)};case 2:return function(v,b){return u.call(d,v,b)};case 3:return function(v,b,k){return u.call(d,v,b,k)}}return function(){return u.apply(d,arguments)}},Me=function(u){if(!ot(u))throw TypeError(String(u)+" is not an object");return u},At=Object.defineProperty,Vt={f:re?At:function(u,d,f){if(Me(u),d=Ue(d,!0),Me(f),il)try{return At(u,d,f)}catch(v){}if("get"in f||"set"in f)throw TypeError("Accessors not supported");return"value"in f&&(u[d]=f.value),u}},st=re?function(u,d,f){return Vt.f(u,d,_t(1,f))}:function(u,d,f){return u[d]=f,u},$i=Eo.f,ld=function(u){var d=function(f,v,b){if(this instanceof u){switch(arguments.length){case 0:return new u;case 1:return new u(f);case 2:return new u(f,v)}return new u(f,v,b)}return u.apply(this,arguments)};return d.prototype=u.prototype,d},De=function(u,d){var f,v,b,k,O,I,C,F,U=u.target,W=u.global,he=u.stat,ye=u.proto,Te=W?ee:he?ee[U]:(ee[U]||{}).prototype,xe=W?at:at[U]||(at[U]={}),Oe=xe.prototype;for(b in d)f=!ud(W?b:U+(he?".":"#")+b,u.forced)&&Te&&qe(Te,b),O=xe[b],f&&(I=u.noTargetGet?(F=$i(Te,b))&&F.value:Te[b]),k=f&&I?I:d[b],f&&typeof O==typeof k||(C=u.bind&&f?dn(k,ee):u.wrap&&f?ld(k):ye&&typeof k=="function"?dn(Function.call,k):k,(u.sham||k&&k.sham||O&&O.sham)&&st(C,"sham",!0),xe[b]=C,ye&&(qe(at,v=U+"Prototype")||st(at,v,{}),at[v][b]=k,u.real&&Oe&&!Oe[b]&&st(Oe,b,k)))},ke=Array.isArray||function(u){return Ct(u)=="Array"},hd=Math.ceil,cd=Math.floor,ze=function(u){return isNaN(u=+u)?0:(u>0?cd:hd)(u)},mr=Math.min,Gt=function(u){return u>0?mr(ze(u),9007199254740991):0},Ih=function(u,d,f,v,b,k,O,I){for(var C,F=b,U=0,W=!!O&&dn(O,I,3);U<v;){if(U in f){if(C=W?W(f[U],U,d):f[U],k>0&&ke(C))F=Ih(u,d,C,Gt(C.length),F,k-1)-1;else{if(F>=9007199254740991)throw TypeError("Exceed the acceptable array length");u[F]=C}F++}U++}return F},Vs=Ih,Yt=function(u){return Object(Yr(u))},Wi="__core-js_shared__",Yn=ee[Wi]||function(u,d){try{st(ee,u,d)}catch(f){ee[u]=d}return d}(Wi,{}),fn=le(function(u){(u.exports=function(d,f){return Yn[d]||(Yn[d]=f!==void 0?f:{})})("versions",[]).push({version:"3.7.0",mode:"pure",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})}),Ei=0,Ph=Math.random(),br=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++Ei+Ph).toString(36)},ri=!!Object.getOwnPropertySymbols&&!J(function(){return!String(Symbol())}),vn=ri&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Mt=fn("wks"),Xn=ee.Symbol,Ch=vn?Xn:Xn&&Xn.withoutSetter||br,xt=function(u){return qe(Mt,u)||(ri&&qe(Xn,u)?Mt[u]=Xn[u]:Mt[u]=Ch("Symbol."+u)),Mt[u]},pt=xt("species"),ha=function(u,d){var f;return ke(u)&&(typeof(f=u.constructor)!="function"||f!==Array&&!ke(f.prototype)?ot(f)&&(f=f[pt])===null&&(f=void 0):f=void 0),new(f===void 0?Array:f)(d===0?0:d)};De({target:"Array",proto:!0},{flatMap:function(u){var d,f=Yt(this),v=Gt(f.length);return je(u),(d=ha(f,0)).length=Vs(d,f,f,v,0,1,u,arguments.length>1?arguments[1]:void 0),d}});var Dn,Xr,zt=function(u){return at[u+"Prototype"]},nt=zt("Array").flatMap,Ah=Array.prototype,ts=function(u){var d=u.flatMap;return u===Ah||u instanceof Array&&d===Ah.flatMap?nt:d},Z=[].push,wr=function(u){var d=u==1,f=u==2,v=u==3,b=u==4,k=u==6,O=u==5||k;return function(I,C,F,U){for(var W,he,ye=Yt(I),Te=gi(ye),xe=dn(C,F,3),Oe=Gt(Te.length),me=0,Ve=U||ha,Ke=d?Ve(I,Oe):f?Ve(I,0):void 0;Oe>me;me++)if((O||me in Te)&&(he=xe(W=Te[me],me,ye),u)){if(d)Ke[me]=he;else if(he)switch(u){case 3:return!0;case 5:return W;case 6:return me;case 2:Z.call(Ke,W)}else if(b)return!1}return k?-1:v||b?b:Ke}},Kr={forEach:wr(0),map:wr(1),filter:wr(2),some:wr(3),every:wr(4),find:wr(5),findIndex:wr(6)},Gs=function(u){return typeof u=="function"?u:void 0},Qr=function(u,d){return arguments.length<2?Gs(at[u])||Gs(ee[u]):at[u]&&at[u][d]||ee[u]&&ee[u][d]},is=Qr("navigator","userAgent")||"",nl=ee.process,_r=nl&&nl.versions,Zr=_r&&_r.v8;Zr?Xr=(Dn=Zr.split("."))[0]+Dn[1]:is&&(!(Dn=is.match(/Edge\/(\d+)/))||Dn[1]>=74)&&(Dn=is.match(/Chrome\/(\d+)/))&&(Xr=Dn[1]);var ns=Xr&&+Xr,Jr=xt("species"),xi=function(u){return ns>=51||!J(function(){var d=[];return(d.constructor={})[Jr]=function(){return{foo:1}},d[u](Boolean).foo!==1})},Dh=Object.defineProperty,Oo={},So=function(u){throw u},$t=function(u,d){if(qe(Oo,u))return Oo[u];d||(d={});var f=[][u],v=!!qe(d,"ACCESSORS")&&d.ACCESSORS,b=qe(d,0)?d[0]:So,k=qe(d,1)?d[1]:void 0;return Oo[u]=!!f&&!J(function(){if(v&&!re)return!0;var O={length:-1};v?Dh(O,1,{enumerable:!0,get:So}):O[1]=1,f.call(O,b,k)})},Ys=Kr.map,rs=xi("map"),Mh=$t("map");De({target:"Array",proto:!0,forced:!rs||!Mh},{map:function(u){return Ys(this,u,arguments.length>1?arguments[1]:void 0)}});var Mn=zt("Array").map,Fh=Array.prototype,yi=function(u){var d=u.map;return u===Fh||u instanceof Array&&d===Fh.map?Mn:d},ca=Kr.filter,Kn=xi("filter"),Xs=$t("filter");De({target:"Array",proto:!0,forced:!Kn||!Xs},{filter:function(u){return ca(this,u,arguments.length>1?arguments[1]:void 0)}});var dd=zt("Array").filter,To=Array.prototype,Kt=function(u){var d=u.filter;return u===To||u instanceof Array&&d===To.filter?dd:d},rl=function(u){return function(d,f,v,b){je(f);var k=Yt(d),O=gi(k),I=Gt(k.length),C=u?I-1:0,F=u?-1:1;if(v<2)for(;;){if(C in O){b=O[C],C+=F;break}if(C+=F,u?C<0:I<=C)throw TypeError("Reduce of empty array with no initial value")}for(;u?C>=0:I>C;C+=F)C in O&&(b=f(b,O[C],C,k));return b}},fd={left:rl(!1),right:rl(!0)},kr=function(u,d){var f=[][u];return!!f&&J(function(){f.call(null,d||function(){throw 1},1)})},Qt=Ct(ee.process)=="process",Ks=fd.left,qi=kr("reduce"),Nh=$t("reduce",{1:0});De({target:"Array",proto:!0,forced:!qi||!Nh||!Qt&&ns>79&&ns<83},{reduce:function(u){return Ks(this,u,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Rh=zt("Array").reduce,ol=Array.prototype,Io=function(u){var d=u.reduce;return u===ol||u instanceof Array&&d===ol.reduce?Rh:d},al=[].slice,Bt={},eo=function(u,d,f){if(!(d in Bt)){for(var v=[],b=0;b<d;b++)v[b]="a["+b+"]";Bt[d]=Function("C,a","return new C("+v.join(",")+")")}return Bt[d](u,f)},os=Function.bind||function(u){var d=je(this),f=al.call(arguments,1),v=function(){var b=f.concat(al.call(arguments));return this instanceof v?eo(d,b.length,b):d.apply(u,b)};return ot(d.prototype)&&(v.prototype=d.prototype),v};De({target:"Function",proto:!0},{bind:os});var da=zt("Function").bind,sl=Function.prototype,to=function(u){var d=u.bind;return u===sl||u instanceof Function&&d===sl.bind?da:d},Ui=function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")};De({target:"Object",stat:!0,forced:!re,sham:!re},{defineProperty:Vt.f});var ul=le(function(u){var d=at.Object,f=u.exports=function(v,b,k){return d.defineProperty(v,b,k)};d.defineProperty.sham&&(f.sham=!0)}),ll=ul;function io(u,d){for(var f=0;f<d.length;f++){var v=d[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),ll(u,v.key,v)}}var oi=function(u,d,f){return d&&io(u.prototype,d),f&&io(u,f),u},jh=function(){function u(d,f,v){var b,k,O;Ui(this,u),this._source=d,this._transformers=f,this._target=v,this._listeners={add:to(b=this._add).call(b,this),remove:to(k=this._remove).call(k,this),update:to(O=this._update).call(O,this)}}return oi(u,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(d){var f;return Io(f=this._transformers).call(f,function(v,b){return b(v)},d)}},{key:"_add",value:function(d,f){f!=null&&this._target.add(this._transformItems(this._source.get(f.items)))}},{key:"_update",value:function(d,f){f!=null&&this._target.update(this._transformItems(this._source.get(f.items)))}},{key:"_remove",value:function(d,f){f!=null&&this._target.remove(this._transformItems(f.oldData))}}]),u}(),as=function(){function u(d){Ui(this,u),this._source=d,this._transformers=[]}return oi(u,[{key:"filter",value:function(d){return this._transformers.push(function(f){return Kt(f).call(f,d)}),this}},{key:"map",value:function(d){return this._transformers.push(function(f){return yi(f).call(f,d)}),this}},{key:"flatMap",value:function(d){return this._transformers.push(function(f){return ts(f).call(f,d)}),this}},{key:"to",value:function(d){return new jh(this._source,this._transformers,d)}}]),u}(),Po=ul,zh=Math.max,Ft=Math.min,no=function(u,d){var f=ze(u);return f<0?zh(f+d,0):Ft(f,d)},Qs=function(u){return function(d,f,v){var b,k=Ht(d),O=Gt(k.length),I=no(v,O);if(u&&f!=f){for(;O>I;)if((b=k[I++])!=b)return!0}else for(;O>I;I++)if((u||I in k)&&k[I]===f)return u||I||0;return!u&&-1}},Zs={includes:Qs(!0),indexOf:Qs(!1)},Er={},hl=Zs.indexOf,cl=function(u,d){var f,v=Ht(u),b=0,k=[];for(f in v)!qe(Er,f)&&qe(v,f)&&k.push(f);for(;d.length>b;)qe(v,f=d[b++])&&(~hl(k,f)||k.push(f));return k},Qn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Zn=Object.keys||function(u){return cl(u,Qn)},Jn=re?Object.defineProperties:function(u,d){Me(u);for(var f,v=Zn(d),b=v.length,k=0;b>k;)Vt.f(u,f=v[k++],d[f]);return u};De({target:"Object",stat:!0,forced:!re,sham:!re},{defineProperties:Jn});var dl=le(function(u){var d=at.Object,f=u.exports=function(v,b){return d.defineProperties(v,b)};d.defineProperties.sham&&(f.sham=!0)}),Js=Qn.concat("length","prototype"),pn={f:Object.getOwnPropertyNames||function(u){return cl(u,Js)}},Co={f:Object.getOwnPropertySymbols},eu=Qr("Reflect","ownKeys")||function(u){var d=pn.f(Me(u)),f=Co.f;return f?d.concat(f(u)):d},Vi=function(u,d,f){var v=Ue(d);v in u?Vt.f(u,v,_t(0,f)):u[v]=f};De({target:"Object",stat:!0,sham:!re},{getOwnPropertyDescriptors:function(u){for(var d,f,v=Ht(u),b=Eo.f,k=eu(v),O={},I=0;k.length>I;)(f=b(v,d=k[I++]))!==void 0&&Vi(O,d,f);return O}});var Bh=at.Object.getOwnPropertyDescriptors,Ao=Eo.f,vd=J(function(){Ao(1)});De({target:"Object",stat:!0,forced:!re||vd,sham:!re},{getOwnPropertyDescriptor:function(u,d){return Ao(Ht(u),d)}});var fl,tu=le(function(u){var d=at.Object,f=u.exports=function(v,b){return d.getOwnPropertyDescriptor(v,b)};d.getOwnPropertyDescriptor.sham&&(f.sham=!0)}),ss=Qr("document","documentElement"),Fn=fn("keys"),xr=function(u){return Fn[u]||(Fn[u]=br(u))},vl=xr("IE_PROTO"),us=function(){},er=function(u){return"<script>"+u+"<\/script>"},iu=function(){try{fl=document.domain&&new ActiveXObject("htmlfile")}catch(v){}var u,d;iu=fl?function(v){v.write(er("")),v.close();var b=v.parentWindow.Object;return v=null,b}(fl):((d=qs("iframe")).style.display="none",ss.appendChild(d),d.src=String("javascript:"),(u=d.contentWindow.document).open(),u.write(er("document.F=Object")),u.close(),u.F);for(var f=Qn.length;f--;)delete iu.prototype[Qn[f]];return iu()};Er[vl]=!0;var Gi=Object.create||function(u,d){var f;return u!==null?(us.prototype=Me(u),f=new us,us.prototype=null,f[vl]=u):f=iu(),d===void 0?f:Jn(f,d)},Do=pn.f,tr={}.toString,fa=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pl={f:function(u){return fa&&tr.call(u)=="[object Window]"?function(d){try{return Do(d)}catch(f){return fa.slice()}}(u):Do(Ht(u))}},nu=function(u,d,f,v){v&&v.enumerable?u[d]=f:st(u,d,f)},ls={f:xt},pd=Vt.f,Wt=function(u){var d=at.Symbol||(at.Symbol={});qe(d,u)||pd(d,u,{value:ls.f(u)})},ru={};ru[xt("toStringTag")]="z";var gl=String(ru)==="[object z]",Mo=xt("toStringTag"),Lh=Ct(function(){return arguments}())=="Arguments",Oi=gl?Ct:function(u){var d,f,v;return u===void 0?"Undefined":u===null?"Null":typeof(f=function(b,k){try{return b[k]}catch(O){}}(d=Object(u),Mo))=="string"?f:Lh?Ct(d):(v=Ct(d))=="Object"&&typeof d.callee=="function"?"Arguments":v},gd=gl?{}.toString:function(){return"[object "+Oi(this)+"]"},Hh=Vt.f,Or=xt("toStringTag"),va=function(u,d,f,v){if(u){var b=f?u:u.prototype;qe(b,Or)||Hh(b,Or,{configurable:!0,value:d}),v&&!gl&&st(b,"toString",gd)}},ou=Function.toString;typeof Yn.inspectSource!="function"&&(Yn.inspectSource=function(u){return ou.call(u)});var hs,pa,au,yl=Yn.inspectSource,$h=ee.WeakMap,ml=typeof $h=="function"&&/native code/.test(yl($h)),Nn=ee.WeakMap;if(ml){var ro=Yn.state||(Yn.state=new Nn),Wh=ro.get,bl=ro.has,su=ro.set;hs=function(u,d){return d.facade=u,su.call(ro,u,d),d},pa=function(u){return Wh.call(ro,u)||{}},au=function(u){return bl.call(ro,u)}}else{var oo=xr("state");Er[oo]=!0,hs=function(u,d){return d.facade=u,st(u,oo,d),d},pa=function(u){return qe(u,oo)?u[oo]:{}},au=function(u){return qe(u,oo)}}var Yi={set:hs,get:pa,has:au,enforce:function(u){return au(u)?pa(u):hs(u,{})},getterFor:function(u){return function(d){var f;if(!ot(d)||(f=pa(d)).type!==u)throw TypeError("Incompatible receiver, "+u+" required");return f}}},Fo=Kr.forEach,Lt=xr("hidden"),gn="Symbol",Rn=xt("toPrimitive"),uu=Yi.set,yn=Yi.getterFor(gn),Xi=Object.prototype,Ki=ee.Symbol,No=Qr("JSON","stringify"),lu=Eo.f,ir=Vt.f,wl=pl.f,Nt=Hi.f,Sr=fn("symbols"),Tr=fn("op-symbols"),hu=fn("string-to-symbol-registry"),gt=fn("symbol-to-string-registry"),Ir=fn("wks"),Ro=ee.QObject,Zt=!Ro||!Ro.prototype||!Ro.prototype.findChild,ga=re&&J(function(){return Gi(ir({},"a",{get:function(){return ir(this,"a",{value:7}).a}})).a!=7})?function(u,d,f){var v=lu(Xi,d);v&&delete Xi[d],ir(u,d,f),v&&u!==Xi&&ir(Xi,d,v)}:ir,cu=function(u,d){var f=Sr[u]=Gi(Ki.prototype);return uu(f,{type:gn,tag:u,description:d}),re||(f.description=d),f},_l=vn?function(u){return typeof u=="symbol"}:function(u){return Object(u)instanceof Ki},mn=function(u,d,f){u===Xi&&mn(Tr,d,f),Me(u);var v=Ue(d,!0);return Me(f),qe(Sr,v)?(f.enumerable?(qe(u,Lt)&&u[Lt][v]&&(u[Lt][v]=!1),f=Gi(f,{enumerable:_t(0,!1)})):(qe(u,Lt)||ir(u,Lt,_t(1,{})),u[Lt][v]=!0),ga(u,v,f)):ir(u,v,f)},bn=function(u,d){Me(u);var f=Ht(d),v=Zn(f).concat(nr(f));return Fo(v,function(b){re&&!Si.call(f,b)||mn(u,b,f[b])}),u},Si=function(u){var d=Ue(u,!0),f=Nt.call(this,d);return!(this===Xi&&qe(Sr,d)&&!qe(Tr,d))&&(!(f||!qe(this,d)||!qe(Sr,d)||qe(this,Lt)&&this[Lt][d])||f)},jo=function(u,d){var f=Ht(u),v=Ue(d,!0);if(f!==Xi||!qe(Sr,v)||qe(Tr,v)){var b=lu(f,v);return!b||!qe(Sr,v)||qe(f,Lt)&&f[Lt][v]||(b.enumerable=!0),b}},zo=function(u){var d=wl(Ht(u)),f=[];return Fo(d,function(v){qe(Sr,v)||qe(Er,v)||f.push(v)}),f},nr=function(u){var d=u===Xi,f=wl(d?Tr:Ht(u)),v=[];return Fo(f,function(b){!qe(Sr,b)||d&&!qe(Xi,b)||v.push(Sr[b])}),v};if(ri||(nu((Ki=function(){if(this instanceof Ki)throw TypeError("Symbol is not a constructor");var u=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,d=br(u),f=function(v){this===Xi&&f.call(Tr,v),qe(this,Lt)&&qe(this[Lt],d)&&(this[Lt][d]=!1),ga(this,d,_t(1,v))};return re&&Zt&&ga(Xi,d,{configurable:!0,set:f}),cu(d,u)}).prototype,"toString",function(){return yn(this).tag}),nu(Ki,"withoutSetter",function(u){return cu(br(u),u)}),Hi.f=Si,Vt.f=mn,Eo.f=jo,pn.f=pl.f=zo,Co.f=nr,ls.f=function(u){return cu(xt(u),u)},re&&ir(Ki.prototype,"description",{configurable:!0,get:function(){return yn(this).description}})),De({global:!0,wrap:!0,forced:!ri,sham:!ri},{Symbol:Ki}),Fo(Zn(Ir),function(u){Wt(u)}),De({target:gn,stat:!0,forced:!ri},{for:function(u){var d=String(u);if(qe(hu,d))return hu[d];var f=Ki(d);return hu[d]=f,gt[f]=d,f},keyFor:function(u){if(!_l(u))throw TypeError(u+" is not a symbol");if(qe(gt,u))return gt[u]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),De({target:"Object",stat:!0,forced:!ri,sham:!re},{create:function(u,d){return d===void 0?Gi(u):bn(Gi(u),d)},defineProperty:mn,defineProperties:bn,getOwnPropertyDescriptor:jo}),De({target:"Object",stat:!0,forced:!ri},{getOwnPropertyNames:zo,getOwnPropertySymbols:nr}),De({target:"Object",stat:!0,forced:J(function(){Co.f(1)})},{getOwnPropertySymbols:function(u){return Co.f(Yt(u))}}),No){var qh=!ri||J(function(){var u=Ki();return No([u])!="[null]"||No({a:u})!="{}"||No(Object(u))!="{}"});De({target:"JSON",stat:!0,forced:qh},{stringify:function(u,d,f){for(var v,b=[u],k=1;arguments.length>k;)b.push(arguments[k++]);if(v=d,(ot(d)||u!==void 0)&&!_l(u))return ke(d)||(d=function(O,I){if(typeof v=="function"&&(I=v.call(this,O,I)),!_l(I))return I}),b[1]=d,No.apply(null,b)}})}Ki.prototype[Rn]||st(Ki.prototype,Rn,Ki.prototype.valueOf),va(Ki,gn),Er[Lt]=!0;var cs,rr,ya,Bo=at.Object.getOwnPropertySymbols,ui={},ds=!J(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}),du=xr("IE_PROTO"),kl=Object.prototype,wn=ds?Object.getPrototypeOf:function(u){return u=Yt(u),qe(u,du)?u[du]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?kl:null},fu=(xt("iterator"),!1);[].keys&&("next"in(ya=[].keys())?(rr=wn(wn(ya)))!==Object.prototype&&(cs=rr):fu=!0),cs==null&&(cs={});var fs={IteratorPrototype:cs,BUGGY_SAFARI_ITERATORS:fu},vu=fs.IteratorPrototype,ma=function(){return this},jn=Object.setPrototypeOf||("__proto__"in{}?function(){var u,d=!1,f={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(f,[]),d=f instanceof Array}catch(v){}return function(v,b){return Me(v),function(k){if(!ot(k)&&k!==null)throw TypeError("Can't set "+String(k)+" as a prototype")}(b),d?u.call(v,b):v.__proto__=b,v}}():void 0),vs=fs.IteratorPrototype,Jt=fs.BUGGY_SAFARI_ITERATORS,ao=xt("iterator"),or="keys",_n="values",El="entries",Uh=function(){return this},Ti=function(u,d,f,v,b,k,O){(function(me,Ve,Ke){var Ze=Ve+" Iterator";me.prototype=Gi(vu,{next:_t(1,Ke)}),va(me,Ze,!1,!0),ui[Ze]=ma})(f,d,v);var I,C,F,U=function(me){if(me===b&&xe)return xe;if(!Jt&&me in ye)return ye[me];switch(me){case or:case _n:case El:return function(){return new f(this,me)}}return function(){return new f(this)}},W=d+" Iterator",he=!1,ye=u.prototype,Te=ye[ao]||ye["@@iterator"]||b&&ye[b],xe=!Jt&&Te||U(b),Oe=d=="Array"&&ye.entries||Te;if(Oe&&(I=wn(Oe.call(new u)),vs!==Object.prototype&&I.next&&(va(I,W,!0,!0),ui[W]=Uh)),b==_n&&Te&&Te.name!==_n&&(he=!0,xe=function(){return Te.call(this)}),O&&ye[ao]!==xe&&st(ye,ao,xe),ui[d]=xe,b)if(C={values:U(_n),keys:k?xe:U(or),entries:U(El)},O)for(F in C)(Jt||he||!(F in ye))&&nu(ye,F,C[F]);else De({target:d,proto:!0,forced:Jt||he},C);return C},Rt="Array Iterator",ba=Yi.set,Pr=Yi.getterFor(Rt);Ti(Array,"Array",function(u,d){ba(this,{type:Rt,target:Ht(u),index:0,kind:d})},function(){var u=Pr(this),d=u.target,f=u.kind,v=u.index++;return!d||v>=d.length?(u.target=void 0,{value:void 0,done:!0}):f=="keys"?{value:v,done:!1}:f=="values"?{value:d[v],done:!1}:{value:[v,d[v]],done:!1}},"values"),ui.Arguments=ui.Array;var kn=xt("toStringTag");for(var ps in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var gs=ee[ps],ae=gs&&gs.prototype;ae&&Oi(ae)!==kn&&st(ae,kn,ps),ui[ps]=ui.Array}var Lo=function(u){return function(d,f){var v,b,k=String(Yr(d)),O=ze(f),I=k.length;return O<0||O>=I?u?"":void 0:(v=k.charCodeAt(O))<55296||v>56319||O+1===I||(b=k.charCodeAt(O+1))<56320||b>57343?u?k.charAt(O):v:u?k.slice(O,O+2):b-56320+(v-55296<<10)+65536}},pu={codeAt:Lo(!1),charAt:Lo(!0)}.charAt,ve="String Iterator",gu=Yi.set,yu=Yi.getterFor(ve);Ti(String,"String",function(u){gu(this,{type:ve,string:String(u),index:0})},function(){var u,d=yu(this),f=d.string,v=d.index;return v>=f.length?{value:void 0,done:!0}:(u=pu(f,v),d.index+=u.length,{value:u,done:!1})});var mu=xt("iterator"),wa=function(u){if(u!=null)return u[mu]||u["@@iterator"]||ui[Oi(u)]},Ii=function(u){var d=wa(u);if(typeof d!="function")throw TypeError(String(u)+" is not iterable");return Me(d.call(u))},Ho=wa,$o=function(u){var d=u.return;if(d!==void 0)return Me(d.call(u)).value},xl=function(u,d,f,v){try{return v?d(Me(f)[0],f[1]):d(f)}catch(b){throw $o(u),b}},yd=xt("iterator"),Vh=Array.prototype,Ol=function(u){return u!==void 0&&(ui.Array===u||Vh[yd]===u)},bu=xt("iterator"),Cr=!1;try{var md=0,Sl={next:function(){return{done:!!md++}},return:function(){Cr=!0}};Sl[bu]=function(){return this},Array.from(Sl,function(){throw 2})}catch(u){}var bd=!function(u,d){if(!d&&!Cr)return!1;var f=!1;try{var v={};v[bu]=function(){return{next:function(){return{done:f=!0}}}},u(v)}catch(b){}return f}(function(u){Array.from(u)});De({target:"Array",stat:!0,forced:bd},{from:function(u){var d,f,v,b,k,O,I=Yt(u),C=typeof this=="function"?this:Array,F=arguments.length,U=F>1?arguments[1]:void 0,W=U!==void 0,he=wa(I),ye=0;if(W&&(U=dn(U,F>2?arguments[2]:void 0,2)),he==null||C==Array&&Ol(he))for(f=new C(d=Gt(I.length));d>ye;ye++)O=W?U(I[ye],ye):I[ye],Vi(f,ye,O);else for(k=(b=he.call(I)).next,f=new C;!(v=k.call(b)).done;ye++)O=W?xl(b,U,[v.value,ye],!0):v.value,Vi(f,ye,O);return f.length=ye,f}});var Tl=at.Array.from,Qi=Tl;De({target:"Array",proto:!0},{fill:function(u){for(var d=Yt(this),f=Gt(d.length),v=arguments.length,b=no(v>1?arguments[1]:void 0,f),k=v>2?arguments[2]:void 0,O=k===void 0?f:no(k,f);O>b;)d[b++]=u;return d}}),zt("Array").fill;var Gh=[].slice,Yh=/MSIE .\./.test(is),Il=function(u){return function(d,f){var v=arguments.length>2,b=v?Gh.call(arguments,2):void 0;return u(v?function(){(typeof d=="function"?d:Function(d)).apply(this,b)}:d,f)}};De({global:!0,bind:!0,forced:Yh},{setTimeout:Il(ee.setTimeout),setInterval:Il(ee.setInterval)});var _a=at.setTimeout,Pl=Qr("JSON","stringify"),Cl=/[\uD800-\uDFFF]/g,Wo=/^[\uD800-\uDBFF]$/,ys=/^[\uDC00-\uDFFF]$/,It=function(u,d,f){var v=f.charAt(d-1),b=f.charAt(d+1);return Wo.test(u)&&!ys.test(b)||ys.test(u)&&!Wo.test(v)?"\\u"+u.charCodeAt(0).toString(16):u},Al=J(function(){return Pl("\uDF06\uD834")!=='"\\udf06\\ud834"'||Pl("\uDEAD")!=='"\\udead"'});Pl&&De({target:"JSON",stat:!0,forced:Al},{stringify:function(u,d,f){var v=Pl.apply(null,arguments);return typeof v=="string"?v.replace(Cl,It):v}}),at.JSON||(at.JSON={stringify:JSON.stringify});var kt=function(u,d,f){return at.JSON.stringify.apply(null,arguments)};De({target:"Object",stat:!0,sham:!re},{create:Gi});var ar=at.Object,sr=function(u,d){return ar.create(u,d)},wd=sr,ka,Ar=function(u,d,f){return d in u?ll(u,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[d]=f,u},Ot=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,ut="["+Ot+"]",Xh=RegExp("^"+ut+ut+"*"),wu=RegExp(ut+ut+"*$"),_u=function(u){return function(d){var f=String(Yr(d));return 1&u&&(f=f.replace(Xh,"")),2&u&&(f=f.replace(wu,"")),f}},Dl={start:_u(1),end:_u(2),trim:_u(3)},so=Dl.trim;De({target:"String",proto:!0,forced:(ka="trim",J(function(){return!!Ot[ka]()||"\u200B\x85\u180E"[ka]()!="\u200B\x85\u180E"||Ot[ka].name!==ka}))},{trim:function(){return so(this)}}),zt("String").trim;var Kh=Zs.indexOf,Dt=[].indexOf,ms=!!Dt&&1/[1].indexOf(1,-0)<0,bs=kr("indexOf"),_d=$t("indexOf",{ACCESSORS:!0,1:0});De({target:"Array",proto:!0,forced:ms||!bs||!_d},{indexOf:function(u){return ms?Dt.apply(this,arguments)||0:Kh(this,u,arguments.length>1?arguments[1]:void 0)}}),zt("Array").indexOf;var Ml=Dl.trim,Ea=ee.parseInt,Fl=/^[+-]?0[Xx]/,ku=Ea(Ot+"08")!==8||Ea(Ot+"0x16")!==22?function(u,d){var f=Ml(String(u));return Ea(f,d>>>0||(Fl.test(f)?16:10))}:Ea;De({global:!0,forced:parseInt!=ku},{parseInt:ku});var yt=Hi.f,Qh=function(u){return function(d){for(var f,v=Ht(d),b=Zn(v),k=b.length,O=0,I=[];k>O;)f=b[O++],re&&!yt.call(v,f)||I.push(u?[f,v[f]]:v[f]);return I}},Zh={entries:Qh(!0),values:Qh(!1)}.values;De({target:"Object",stat:!0},{values:function(u){return Zh(u)}}),at.Object.values;var Jh=J(function(){wn(1)});De({target:"Object",stat:!0,forced:Jh,sham:!ds},{getPrototypeOf:function(u){return wn(Yt(u))}});var ec=at.Object.getPrototypeOf,qo=Zs.includes,kd=$t("indexOf",{ACCESSORS:!0,1:0});De({target:"Array",proto:!0,forced:!kd},{includes:function(u){return qo(this,u,arguments.length>1?arguments[1]:void 0)}}),zt("Array").includes;var Eu=xt("match"),Ed=function(u){if(function(d){var f;return ot(d)&&((f=d[Eu])!==void 0?!!f:Ct(d)=="RegExp")}(u))throw TypeError("The method doesn't accept regular expressions");return u},xd=xt("match");De({target:"String",proto:!0,forced:!function(u){var d=/./;try{"/./"[u](d)}catch(f){try{return d[xd]=!1,"/./"[u](d)}catch(v){}}return!1}("includes")},{includes:function(u){return!!~String(Yr(this)).indexOf(Ed(u),arguments.length>1?arguments[1]:void 0)}}),zt("String").includes;var Zi=Object.assign,tc=Object.defineProperty,xa=!Zi||J(function(){if(re&&Zi({b:1},Zi(tc({},"a",{enumerable:!0,get:function(){tc(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var u={},d={},f=Symbol(),v="abcdefghijklmnopqrst";return u[f]=7,v.split("").forEach(function(b){d[b]=b}),Zi({},u)[f]!=7||Zn(Zi({},d)).join("")!=v})?function(u,d){for(var f=Yt(u),v=arguments.length,b=1,k=Co.f,O=Hi.f;v>b;)for(var I,C=gi(arguments[b++]),F=k?Zn(C).concat(k(C)):Zn(C),U=F.length,W=0;U>W;)I=F[W++],re&&!O.call(C,I)||(f[I]=C[I]);return f}:Zi;De({target:"Object",stat:!0,forced:Object.assign!==xa},{assign:xa});var En=at.Object.assign,Od=xi("splice"),Sd=$t("splice",{ACCESSORS:!0,0:0,1:2}),Td=Math.max,ic=Math.min,Id=9007199254740991,nc="Maximum allowed length exceeded";De({target:"Array",proto:!0,forced:!Od||!Sd},{splice:function(u,d){var f,v,b,k,O,I,C=Yt(this),F=Gt(C.length),U=no(u,F),W=arguments.length;if(W===0?f=v=0:W===1?(f=0,v=F-U):(f=W-2,v=ic(Td(ze(d),0),F-U)),F+f-v>Id)throw TypeError(nc);for(b=ha(C,v),k=0;k<v;k++)(O=U+k)in C&&Vi(b,k,C[O]);if(b.length=v,f<v){for(k=U;k<F-v;k++)I=k+f,(O=k+v)in C?C[I]=C[O]:delete C[I];for(k=F;k>F-v+f;k--)delete C[k-1]}else if(f>v)for(k=F-v;k>U;k--)I=k+f-1,(O=k+v-1)in C?C[I]=C[O]:delete C[I];for(k=0;k<f;k++)C[k+U]=arguments[k+2];return C.length=F-v+f,b}});var Nl=zt("Array").splice,Rl=Array.prototype,xn=function(u){var d=u.splice;return u===Rl||u instanceof Array&&d===Rl.splice?Nl:d},Pd=[].reverse,jl=[1,2];De({target:"Array",proto:!0,forced:String(jl)===String(jl.reverse())},{reverse:function(){return ke(this)&&(this.length=this.length),Pd.call(this)}});var zl=zt("Array").reverse,rc=Array.prototype,xu=function(u){var d=u.reverse;return u===rc||u instanceof Array&&d===rc.reverse?zl:d},Cd=Kr.forEach,Ad=kr("forEach"),Pi=$t("forEach"),oc=Ad&&Pi?[].forEach:function(u){return Cd(this,u,arguments.length>1?arguments[1]:void 0)};De({target:"Array",proto:!0,forced:[].forEach!=oc},{forEach:oc});var Bl=zt("Array").forEach,ac=Array.prototype,Oa={DOMTokenList:!0,NodeList:!0},Ci=function(u){var d=u.forEach;return u===ac||u instanceof Array&&d===ac.forEach||Oa.hasOwnProperty(Oi(u))?Bl:d};De({target:"Array",stat:!0},{isArray:ke});var sc=at.Array.isArray,Ll=sc,Ou=function(u){if(Ll(u))return u},Hl=xt("iterator"),uc=function(u){var d=Object(u);return d[Hl]!==void 0||"@@iterator"in d||ui.hasOwnProperty(Oi(d))},ws=xt("isConcatSpreadable"),lc=9007199254740991,$l="Maximum allowed index exceeded",zn=ns>=51||!J(function(){var u=[];return u[ws]=!1,u.concat()[0]!==u}),hc=xi("concat"),cc=function(u){if(!ot(u))return!1;var d=u[ws];return d!==void 0?!!d:ke(u)};De({target:"Array",proto:!0,forced:!zn||!hc},{concat:function(u){var d,f,v,b,k,O=Yt(this),I=ha(O,0),C=0;for(d=-1,v=arguments.length;d<v;d++)if(cc(k=d===-1?O:arguments[d])){if(C+(b=Gt(k.length))>lc)throw TypeError($l);for(f=0;f<b;f++,C++)f in k&&Vi(I,C,k[f])}else{if(C>=lc)throw TypeError($l);Vi(I,C++,k)}return I.length=C,I}}),Wt("asyncIterator"),Wt("hasInstance"),Wt("isConcatSpreadable"),Wt("iterator"),Wt("match"),Wt("matchAll"),Wt("replace"),Wt("search"),Wt("species"),Wt("split"),Wt("toPrimitive"),Wt("toStringTag"),Wt("unscopables"),va(ee.JSON,"JSON",!0);var Wl=at.Symbol;Wt("asyncDispose"),Wt("dispose"),Wt("observable"),Wt("patternMatch"),Wt("replaceAll");var Sa=Wl,Bn=function(u,d){if(Sa!==void 0&&uc(Object(u))){var f=[],v=!0,b=!1,k=void 0;try{for(var O,I=Ii(u);!(v=(O=I.next()).done)&&(f.push(O.value),!d||f.length!==d);v=!0);}catch(C){b=!0,k=C}finally{try{v||I.return==null||I.return()}finally{if(b)throw k}}return f}},Ta=Tl,_s=xi("slice"),ct=$t("slice",{ACCESSORS:!0,0:0,1:2}),Dd=xt("species"),ql=[].slice,Ul=Math.max;De({target:"Array",proto:!0,forced:!_s||!ct},{slice:function(u,d){var f,v,b,k=Ht(this),O=Gt(k.length),I=no(u,O),C=no(d===void 0?O:d,O);if(ke(k)&&(typeof(f=k.constructor)!="function"||f!==Array&&!ke(f.prototype)?ot(f)&&(f=f[Dd])===null&&(f=void 0):f=void 0,f===Array||f===void 0))return ql.call(k,I,C);for(v=new(f===void 0?Array:f)(Ul(C-I,0)),b=0;I<C;I++,b++)I in k&&Vi(v,b,k[I]);return v.length=b,v}});var uo=zt("Array").slice,ks=Array.prototype,dc=function(u){var d=u.slice;return u===ks||u instanceof Array&&d===ks.slice?uo:d},Md=dc,Su=function(u,d){(d==null||d>u.length)&&(d=u.length);for(var f=0,v=new Array(d);f<d;f++)v[f]=u[f];return v},Vl=function(u,d){var f;if(u){if(typeof u=="string")return Su(u,d);var v=Md(f=Object.prototype.toString.call(u)).call(f,8,-1);return v==="Object"&&u.constructor&&(v=u.constructor.name),v==="Map"||v==="Set"?Ta(u):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?Su(u,d):void 0}},fc=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},ei=function(u,d){return Ou(u)||Bn(u,d)||Vl(u,d)||fc()};De({target:"Date",stat:!0},{now:function(){return new Date().getTime()}}),at.Date.now;var Fd=J(function(){Zn(1)});De({target:"Object",stat:!0,forced:Fd},{keys:function(u){return Zn(Yt(u))}});var vc=at.Object.keys,li=sc,Ai=ls.f("iterator"),Nd=Ai,Ji=le(function(u){function d(f){return u.exports=d=typeof Sa=="function"&&typeof Nd=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Sa=="function"&&v.constructor===Sa&&v!==Sa.prototype?"symbol":typeof v},d(f)}u.exports=d});De({target:"Reflect",stat:!0},{ownKeys:eu});var Uo=at.Reflect.ownKeys,Di=dc,en=function(u){if(Ll(u))return Su(u)},Tu=function(u){if(Sa!==void 0&&uc(Object(u)))return Ta(u)},lo=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},qt=function(u){return en(u)||Tu(u)||Vl(u)||lo()},pc=zt("Array").concat,gc=Array.prototype,Dr=function(u){var d=u.concat;return u===gc||u instanceof Array&&d===gc.concat?pc:d},Ln=Wl,yc=le(function(u){function d(f){if(f)return function(v){for(var b in d.prototype)v[b]=d.prototype[b];return v}(f)}u.exports=d,d.prototype.on=d.prototype.addEventListener=function(f,v){return this._callbacks=this._callbacks||{},(this._callbacks["$"+f]=this._callbacks["$"+f]||[]).push(v),this},d.prototype.once=function(f,v){function b(){this.off(f,b),v.apply(this,arguments)}return b.fn=v,this.on(f,b),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(f,v){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var b,k=this._callbacks["$"+f];if(!k)return this;if(arguments.length==1)return delete this._callbacks["$"+f],this;for(var O=0;O<k.length;O++)if((b=k[O])===v||b.fn===v){k.splice(O,1);break}return k.length===0&&delete this._callbacks["$"+f],this},d.prototype.emit=function(f){this._callbacks=this._callbacks||{};for(var v=new Array(arguments.length-1),b=this._callbacks["$"+f],k=1;k<arguments.length;k++)v[k-1]=arguments[k];if(b){k=0;for(var O=(b=b.slice(0)).length;k<O;++k)b[k].apply(this,v)}return this},d.prototype.listeners=function(f){return this._callbacks=this._callbacks||{},this._callbacks["$"+f]||[]},d.prototype.hasListeners=function(f){return!!this.listeners(f).length}});function tn(){return(tn=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u}).apply(this,arguments)}function nn(u,d){u.prototype=Object.create(d.prototype),u.prototype.constructor=u,u.__proto__=d}function Es(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}var Mr,ho=typeof Object.assign!="function"?function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(u),f=1;f<arguments.length;f++){var v=arguments[f];if(v!=null)for(var b in v)v.hasOwnProperty(b)&&(d[b]=v[b])}return d}:Object.assign,Gl=["","webkit","Moz","MS","ms","o"],Hn=typeof document=="undefined"?{style:{}}:document.createElement("div"),ur=Math.round,$n=Math.abs,Ia=Date.now;function xs(u,d){for(var f,v,b=d[0].toUpperCase()+d.slice(1),k=0;k<Gl.length;){if((v=(f=Gl[k])?f+b:d)in u)return v;k++}}Mr=typeof window=="undefined"?{}:window;var Yl=xs(Hn.style,"touchAction"),mc=Yl!==void 0,Pa="compute",Iu="auto",Vo="manipulation",Fr="none",Os="pan-x",Go="pan-y",rn=function(){if(!mc)return!1;var u={},d=Mr.CSS&&Mr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(f){return u[f]=!d||Mr.CSS.supports("touch-action",f)}),u}(),Ss="ontouchstart"in Mr,Yo=xs(Mr,"PointerEvent")!==void 0,Xl=Ss&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Xo="touch",Ts="mouse",Ca=16,co=24,Pu=["x","y"],Is=["clientX","clientY"];function lr(u,d,f){var v;if(u)if(u.forEach)u.forEach(d,f);else if(u.length!==void 0)for(v=0;v<u.length;)d.call(f,u[v],v,u),v++;else for(v in u)u.hasOwnProperty(v)&&d.call(f,u[v],v,u)}function Cu(u,d){return typeof u=="function"?u.apply(d&&d[0]||void 0,d):u}function Ko(u,d){return u.indexOf(d)>-1}var Aa=function(){function u(f,v){this.manager=f,this.set(v)}var d=u.prototype;return d.set=function(f){f===Pa&&(f=this.compute()),mc&&this.manager.element.style&&rn[f]&&(this.manager.element.style[Yl]=f),this.actions=f.toLowerCase().trim()},d.update=function(){this.set(this.manager.options.touchAction)},d.compute=function(){var f=[];return lr(this.manager.recognizers,function(v){Cu(v.options.enable,[v])&&(f=f.concat(v.getTouchAction()))}),function(v){if(Ko(v,Fr))return Fr;var b=Ko(v,Os),k=Ko(v,Go);return b&&k?Fr:b||k?b?Os:Go:Ko(v,Vo)?Vo:Iu}(f.join(" "))},d.preventDefaults=function(f){var v=f.srcEvent,b=f.offsetDirection;if(this.manager.session.prevented)v.preventDefault();else{var k=this.actions,O=Ko(k,Fr)&&!rn.none,I=Ko(k,Go)&&!rn["pan-y"],C=Ko(k,Os)&&!rn["pan-x"];if(O){var F=f.pointers.length===1,U=f.distance<2,W=f.deltaTime<250;if(F&&U&&W)return}if(!C||!I)return O||I&&6&b||C&&b&co?this.preventSrc(v):void 0}},d.preventSrc=function(f){this.manager.session.prevented=!0,f.preventDefault()},u}();function fo(u,d){for(;u;){if(u===d)return!0;u=u.parentNode}return!1}function Da(u){var d=u.length;if(d===1)return{x:ur(u[0].clientX),y:ur(u[0].clientY)};for(var f=0,v=0,b=0;b<d;)f+=u[b].clientX,v+=u[b].clientY,b++;return{x:ur(f/d),y:ur(v/d)}}function Kl(u){for(var d=[],f=0;f<u.pointers.length;)d[f]={clientX:ur(u.pointers[f].clientX),clientY:ur(u.pointers[f].clientY)},f++;return{timeStamp:Ia(),pointers:d,center:Da(d),deltaX:u.deltaX,deltaY:u.deltaY}}function hr(u,d,f){f||(f=Pu);var v=d[f[0]]-u[f[0]],b=d[f[1]]-u[f[1]];return Math.sqrt(v*v+b*b)}function Nr(u,d,f){f||(f=Pu);var v=d[f[0]]-u[f[0]],b=d[f[1]]-u[f[1]];return 180*Math.atan2(b,v)/Math.PI}function bc(u,d){return u===d?1:$n(u)>=$n(d)?u<0?2:4:d<0?8:Ca}function Rr(u,d,f){return{x:d/u||0,y:f/u||0}}function Ql(u,d){var f=u.session,v=d.pointers,b=v.length;f.firstInput||(f.firstInput=Kl(d)),b>1&&!f.firstMultiple?f.firstMultiple=Kl(d):b===1&&(f.firstMultiple=!1);var k=f.firstInput,O=f.firstMultiple,I=O?O.center:k.center,C=d.center=Da(v);d.timeStamp=Ia(),d.deltaTime=d.timeStamp-k.timeStamp,d.angle=Nr(I,C),d.distance=hr(I,C),function(xe,Oe){var me=Oe.center,Ve=xe.offsetDelta||{},Ke=xe.prevDelta||{},Ze=xe.prevInput||{};Oe.eventType!==1&&Ze.eventType!==4||(Ke=xe.prevDelta={x:Ze.deltaX||0,y:Ze.deltaY||0},Ve=xe.offsetDelta={x:me.x,y:me.y}),Oe.deltaX=Ke.x+(me.x-Ve.x),Oe.deltaY=Ke.y+(me.y-Ve.y)}(f,d),d.offsetDirection=bc(d.deltaX,d.deltaY);var F,U,W=Rr(d.deltaTime,d.deltaX,d.deltaY);d.overallVelocityX=W.x,d.overallVelocityY=W.y,d.overallVelocity=$n(W.x)>$n(W.y)?W.x:W.y,d.scale=O?(F=O.pointers,hr((U=v)[0],U[1],Is)/hr(F[0],F[1],Is)):1,d.rotation=O?function(xe,Oe){return Nr(Oe[1],Oe[0],Is)+Nr(xe[1],xe[0],Is)}(O.pointers,v):0,d.maxPointers=f.prevInput?d.pointers.length>f.prevInput.maxPointers?d.pointers.length:f.prevInput.maxPointers:d.pointers.length,function(xe,Oe){var me,Ve,Ke,Ze,ft=xe.lastInterval||Oe,Ut=Oe.timeStamp-ft.timeStamp;if(Oe.eventType!==8&&(Ut>25||ft.velocity===void 0)){var In=Oe.deltaX-ft.deltaX,ii=Oe.deltaY-ft.deltaY,fi=Rr(Ut,In,ii);Ve=fi.x,Ke=fi.y,me=$n(fi.x)>$n(fi.y)?fi.x:fi.y,Ze=bc(In,ii),xe.lastInterval=Oe}else me=ft.velocity,Ve=ft.velocityX,Ke=ft.velocityY,Ze=ft.direction;Oe.velocity=me,Oe.velocityX=Ve,Oe.velocityY=Ke,Oe.direction=Ze}(f,d);var he,ye=u.element,Te=d.srcEvent;fo(he=Te.composedPath?Te.composedPath()[0]:Te.path?Te.path[0]:Te.target,ye)&&(ye=he),d.target=ye}function wc(u,d,f){var v=f.pointers.length,b=f.changedPointers.length,k=1&d&&v-b==0,O=12&d&&v-b==0;f.isFirst=!!k,f.isFinal=!!O,k&&(u.session={}),f.eventType=d,Ql(u,f),u.emit("hammer.input",f),u.recognize(f),u.session.prevInput=f}function Qo(u){return u.trim().split(/\s+/g)}function jr(u,d,f){lr(Qo(d),function(v){u.addEventListener(v,f,!1)})}function Zo(u,d,f){lr(Qo(d),function(v){u.removeEventListener(v,f,!1)})}function _c(u){var d=u.ownerDocument||u;return d.defaultView||d.parentWindow||window}var Ma=function(){function u(f,v){var b=this;this.manager=f,this.callback=v,this.element=f.element,this.target=f.options.inputTarget,this.domHandler=function(k){Cu(f.options.enable,[f])&&b.handler(k)},this.init()}var d=u.prototype;return d.handler=function(){},d.init=function(){this.evEl&&jr(this.element,this.evEl,this.domHandler),this.evTarget&&jr(this.target,this.evTarget,this.domHandler),this.evWin&&jr(_c(this.element),this.evWin,this.domHandler)},d.destroy=function(){this.evEl&&Zo(this.element,this.evEl,this.domHandler),this.evTarget&&Zo(this.target,this.evTarget,this.domHandler),this.evWin&&Zo(_c(this.element),this.evWin,this.domHandler)},u}();function zr(u,d,f){if(u.indexOf&&!f)return u.indexOf(d);for(var v=0;v<u.length;){if(f&&u[v][f]==d||!f&&u[v]===d)return v;v++}return-1}var kc={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Ec={2:Xo,3:"pen",4:Ts,5:"kinect"},Zl="pointerdown",Jl="pointermove pointerup pointercancel";Mr.MSPointerEvent&&!Mr.PointerEvent&&(Zl="MSPointerDown",Jl="MSPointerMove MSPointerUp MSPointerCancel");var Au=function(u){function d(){var f,v=d.prototype;return v.evEl=Zl,v.evWin=Jl,(f=u.apply(this,arguments)||this).store=f.manager.session.pointerEvents=[],f}return nn(d,u),d.prototype.handler=function(f){var v=this.store,b=!1,k=f.type.toLowerCase().replace("ms",""),O=kc[k],I=Ec[f.pointerType]||f.pointerType,C=I===Xo,F=zr(v,f.pointerId,"pointerId");1&O&&(f.button===0||C)?F<0&&(v.push(f),F=v.length-1):12&O&&(b=!0),F<0||(v[F]=f,this.callback(this.manager,O,{pointers:v,changedPointers:[f],pointerType:I,srcEvent:f}),b&&v.splice(F,1))},d}(Ma);function Fa(u){return Array.prototype.slice.call(u,0)}function eh(u,d,f){for(var v=[],b=[],k=0;k<u.length;){var O=d?u[k][d]:u[k];zr(b,O)<0&&v.push(u[k]),b[k]=O,k++}return f&&(v=d?v.sort(function(I,C){return I[d]>C[d]}):v.sort()),v}var Rd={touchstart:1,touchmove:2,touchend:4,touchcancel:8},th="touchstart touchmove touchend touchcancel",vo=function(u){function d(){var f;return d.prototype.evTarget=th,(f=u.apply(this,arguments)||this).targetIds={},f}return nn(d,u),d.prototype.handler=function(f){var v=Rd[f.type],b=on.call(this,f,v);b&&this.callback(this.manager,v,{pointers:b[0],changedPointers:b[1],pointerType:Xo,srcEvent:f})},d}(Ma);function on(u,d){var f,v,b=Fa(u.touches),k=this.targetIds;if(3&d&&b.length===1)return k[b[0].identifier]=!0,[b,b];var O=Fa(u.changedTouches),I=[],C=this.target;if(v=b.filter(function(F){return fo(F.target,C)}),d===1)for(f=0;f<v.length;)k[v[f].identifier]=!0,f++;for(f=0;f<O.length;)k[O[f].identifier]&&I.push(O[f]),12&d&&delete k[O[f].identifier],f++;return I.length?[eh(v.concat(I),"identifier",!0),I]:void 0}var jd={mousedown:1,mousemove:2,mouseup:4},Du="mousedown",xc="mousemove mouseup",po=function(u){function d(){var f,v=d.prototype;return v.evEl=Du,v.evWin=xc,(f=u.apply(this,arguments)||this).pressed=!1,f}return nn(d,u),d.prototype.handler=function(f){var v=jd[f.type];1&v&&f.button===0&&(this.pressed=!0),2&v&&f.which!==1&&(v=4),this.pressed&&(4&v&&(this.pressed=!1),this.callback(this.manager,v,{pointers:[f],changedPointers:[f],pointerType:Ts,srcEvent:f}))},d}(Ma);function Mu(u){var d=u.changedPointers[0];if(d.identifier===this.primaryTouch){var f={x:d.clientX,y:d.clientY},v=this.lastTouches;this.lastTouches.push(f),setTimeout(function(){var b=v.indexOf(f);b>-1&&v.splice(b,1)},2500)}}function Na(u,d){1&u?(this.primaryTouch=d.changedPointers[0].identifier,Mu.call(this,d)):12&u&&Mu.call(this,d)}function Oc(u){for(var d=u.srcEvent.clientX,f=u.srcEvent.clientY,v=0;v<this.lastTouches.length;v++){var b=this.lastTouches[v],k=Math.abs(d-b.x),O=Math.abs(f-b.y);if(k<=25&&O<=25)return!0}return!1}var Fu=function(){return function(u){function d(f,v){var b;return(b=u.call(this,f,v)||this).handler=function(k,O,I){var C=I.pointerType===Xo,F=I.pointerType===Ts;if(!(F&&I.sourceCapabilities&&I.sourceCapabilities.firesTouchEvents)){if(C)Na.call(Es(Es(b)),O,I);else if(F&&Oc.call(Es(Es(b)),I))return;b.callback(k,O,I)}},b.touch=new vo(b.manager,b.handler),b.mouse=new po(b.manager,b.handler),b.primaryTouch=null,b.lastTouches=[],b}return nn(d,u),d.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},d}(Ma)}();function Jo(u,d,f){return!!Array.isArray(u)&&(lr(u,f[d],f),!0)}var Br=32,ih=1;function Ra(u,d){var f=d.manager;return f?f.get(u):u}function nh(u){return 16&u?"cancel":8&u?"end":4&u?"move":2&u?"start":""}var ja=function(){function u(f){f===void 0&&(f={}),this.options=tn({enable:!0},f),this.id=ih++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var d=u.prototype;return d.set=function(f){return ho(this.options,f),this.manager&&this.manager.touchAction.update(),this},d.recognizeWith=function(f){if(Jo(f,"recognizeWith",this))return this;var v=this.simultaneous;return v[(f=Ra(f,this)).id]||(v[f.id]=f,f.recognizeWith(this)),this},d.dropRecognizeWith=function(f){return Jo(f,"dropRecognizeWith",this)||(f=Ra(f,this),delete this.simultaneous[f.id]),this},d.requireFailure=function(f){if(Jo(f,"requireFailure",this))return this;var v=this.requireFail;return zr(v,f=Ra(f,this))===-1&&(v.push(f),f.requireFailure(this)),this},d.dropRequireFailure=function(f){if(Jo(f,"dropRequireFailure",this))return this;f=Ra(f,this);var v=zr(this.requireFail,f);return v>-1&&this.requireFail.splice(v,1),this},d.hasRequireFailures=function(){return this.requireFail.length>0},d.canRecognizeWith=function(f){return!!this.simultaneous[f.id]},d.emit=function(f){var v=this,b=this.state;function k(O){v.manager.emit(O,f)}b<8&&k(v.options.event+nh(b)),k(v.options.event),f.additionalEvent&&k(f.additionalEvent),b>=8&&k(v.options.event+nh(b))},d.tryEmit=function(f){if(this.canEmit())return this.emit(f);this.state=Br},d.canEmit=function(){for(var f=0;f<this.requireFail.length;){if(!(33&this.requireFail[f].state))return!1;f++}return!0},d.recognize=function(f){var v=ho({},f);if(!Cu(this.options.enable,[this,v]))return this.reset(),void(this.state=Br);56&this.state&&(this.state=1),this.state=this.process(v),30&this.state&&this.tryEmit(v)},d.process=function(f){},d.getTouchAction=function(){},d.reset=function(){},u}(),Nu=function(u){function d(v){var b;return v===void 0&&(v={}),(b=u.call(this,tn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},v))||this).pTime=!1,b.pCenter=!1,b._timer=null,b._input=null,b.count=0,b}nn(d,u);var f=d.prototype;return f.getTouchAction=function(){return[Vo]},f.process=function(v){var b=this,k=this.options,O=v.pointers.length===k.pointers,I=v.distance<k.threshold,C=v.deltaTime<k.time;if(this.reset(),1&v.eventType&&this.count===0)return this.failTimeout();if(I&&C&&O){if(v.eventType!==4)return this.failTimeout();var F=!this.pTime||v.timeStamp-this.pTime<k.interval,U=!this.pCenter||hr(this.pCenter,v.center)<k.posThreshold;if(this.pTime=v.timeStamp,this.pCenter=v.center,U&&F?this.count+=1:this.count=1,this._input=v,this.count%k.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){b.state=8,b.tryEmit()},k.interval),2):8}return Br},f.failTimeout=function(){var v=this;return this._timer=setTimeout(function(){v.state=Br},this.options.interval),Br},f.reset=function(){clearTimeout(this._timer)},f.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},d}(ja),Lr=function(u){function d(v){return v===void 0&&(v={}),u.call(this,tn({pointers:1},v))||this}nn(d,u);var f=d.prototype;return f.attrTest=function(v){var b=this.options.pointers;return b===0||v.pointers.length===b},f.process=function(v){var b=this.state,k=v.eventType,O=6&b,I=this.attrTest(v);return O&&(8&k||!I)?16|b:O||I?4&k?8|b:2&b?4|b:2:Br},d}(ja);function Sc(u){return u===Ca?"down":u===8?"up":u===2?"left":u===4?"right":""}var Ru=function(u){function d(v){var b;return v===void 0&&(v={}),(b=u.call(this,tn({event:"pan",threshold:10,pointers:1,direction:30},v))||this).pX=null,b.pY=null,b}nn(d,u);var f=d.prototype;return f.getTouchAction=function(){var v=this.options.direction,b=[];return 6&v&&b.push(Go),v&co&&b.push(Os),b},f.directionTest=function(v){var b=this.options,k=!0,O=v.distance,I=v.direction,C=v.deltaX,F=v.deltaY;return I&b.direction||(6&b.direction?(I=C===0?1:C<0?2:4,k=C!==this.pX,O=Math.abs(v.deltaX)):(I=F===0?1:F<0?8:Ca,k=F!==this.pY,O=Math.abs(v.deltaY))),v.direction=I,k&&O>b.threshold&&I&b.direction},f.attrTest=function(v){return Lr.prototype.attrTest.call(this,v)&&(2&this.state||!(2&this.state)&&this.directionTest(v))},f.emit=function(v){this.pX=v.deltaX,this.pY=v.deltaY;var b=Sc(v.direction);b&&(v.additionalEvent=this.options.event+b),u.prototype.emit.call(this,v)},d}(Lr),Tc=function(u){function d(v){return v===void 0&&(v={}),u.call(this,tn({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},v))||this}nn(d,u);var f=d.prototype;return f.getTouchAction=function(){return Ru.prototype.getTouchAction.call(this)},f.attrTest=function(v){var b,k=this.options.direction;return 30&k?b=v.overallVelocity:6&k?b=v.overallVelocityX:k&co&&(b=v.overallVelocityY),u.prototype.attrTest.call(this,v)&&k&v.offsetDirection&&v.distance>this.options.threshold&&v.maxPointers===this.options.pointers&&$n(b)>this.options.velocity&&4&v.eventType},f.emit=function(v){var b=Sc(v.offsetDirection);b&&this.manager.emit(this.options.event+b,v),this.manager.emit(this.options.event,v)},d}(Lr),Ic=function(u){function d(v){return v===void 0&&(v={}),u.call(this,tn({event:"pinch",threshold:0,pointers:2},v))||this}nn(d,u);var f=d.prototype;return f.getTouchAction=function(){return[Fr]},f.attrTest=function(v){return u.prototype.attrTest.call(this,v)&&(Math.abs(v.scale-1)>this.options.threshold||2&this.state)},f.emit=function(v){if(v.scale!==1){var b=v.scale<1?"in":"out";v.additionalEvent=this.options.event+b}u.prototype.emit.call(this,v)},d}(Lr),Pc=function(u){function d(v){return v===void 0&&(v={}),u.call(this,tn({event:"rotate",threshold:0,pointers:2},v))||this}nn(d,u);var f=d.prototype;return f.getTouchAction=function(){return[Fr]},f.attrTest=function(v){return u.prototype.attrTest.call(this,v)&&(Math.abs(v.rotation)>this.options.threshold||2&this.state)},d}(Lr),hi=function(u){function d(v){var b;return v===void 0&&(v={}),(b=u.call(this,tn({event:"press",pointers:1,time:251,threshold:9},v))||this)._timer=null,b._input=null,b}nn(d,u);var f=d.prototype;return f.getTouchAction=function(){return[Iu]},f.process=function(v){var b=this,k=this.options,O=v.pointers.length===k.pointers,I=v.distance<k.threshold,C=v.deltaTime>k.time;if(this._input=v,!I||!O||12&v.eventType&&!C)this.reset();else if(1&v.eventType)this.reset(),this._timer=setTimeout(function(){b.state=8,b.tryEmit()},k.time);else if(4&v.eventType)return 8;return Br},f.reset=function(){clearTimeout(this._timer)},f.emit=function(v){this.state===8&&(v&&4&v.eventType?this.manager.emit(this.options.event+"up",v):(this._input.timeStamp=Ia(),this.manager.emit(this.options.event,this._input)))},d}(ja),Cc={domEvents:!1,touchAction:Pa,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ac=[[Pc,{enable:!1}],[Ic,{enable:!1},["rotate"]],[Tc,{direction:6}],[Ru,{direction:6},["swipe"]],[Nu],[Nu,{event:"doubletap",taps:2},["tap"]],[hi]];function Dc(u,d){var f,v=u.element;v.style&&(lr(u.options.cssProps,function(b,k){f=xs(v.style,k),d?(u.oldCssProps[f]=v.style[f],v.style[f]=b):v.style[f]=u.oldCssProps[f]||""}),d||(u.oldCssProps={}))}var rh=function(){function u(f,v){var b,k=this;this.options=ho({},Cc,v||{}),this.options.inputTarget=this.options.inputTarget||f,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=f,this.input=new((b=this).options.inputClass||(Yo?Au:Xl?vo:Ss?Fu:po))(b,wc),this.touchAction=new Aa(this,this.options.touchAction),Dc(this,!0),lr(this.options.recognizers,function(O){var I=k.add(new O[0](O[1]));O[2]&&I.recognizeWith(O[2]),O[3]&&I.requireFailure(O[3])},this)}var d=u.prototype;return d.set=function(f){return ho(this.options,f),f.touchAction&&this.touchAction.update(),f.inputTarget&&(this.input.destroy(),this.input.target=f.inputTarget,this.input.init()),this},d.stop=function(f){this.session.stopped=f?2:1},d.recognize=function(f){var v=this.session;if(!v.stopped){var b;this.touchAction.preventDefaults(f);var k=this.recognizers,O=v.curRecognizer;(!O||O&&8&O.state)&&(v.curRecognizer=null,O=null);for(var I=0;I<k.length;)b=k[I],v.stopped===2||O&&b!==O&&!b.canRecognizeWith(O)?b.reset():b.recognize(f),!O&&14&b.state&&(v.curRecognizer=b,O=b),I++}},d.get=function(f){if(f instanceof ja)return f;for(var v=this.recognizers,b=0;b<v.length;b++)if(v[b].options.event===f)return v[b];return null},d.add=function(f){if(Jo(f,"add",this))return this;var v=this.get(f.options.event);return v&&this.remove(v),this.recognizers.push(f),f.manager=this,this.touchAction.update(),f},d.remove=function(f){if(Jo(f,"remove",this))return this;var v=this.get(f);if(f){var b=this.recognizers,k=zr(b,v);k!==-1&&(b.splice(k,1),this.touchAction.update())}return this},d.on=function(f,v){if(f===void 0||v===void 0)return this;var b=this.handlers;return lr(Qo(f),function(k){b[k]=b[k]||[],b[k].push(v)}),this},d.off=function(f,v){if(f===void 0)return this;var b=this.handlers;return lr(Qo(f),function(k){v?b[k]&&b[k].splice(zr(b[k],v),1):delete b[k]}),this},d.emit=function(f,v){this.options.domEvents&&function(O,I){var C=document.createEvent("Event");C.initEvent(O,!0,!0),C.gesture=I,I.target.dispatchEvent(C)}(f,v);var b=this.handlers[f]&&this.handlers[f].slice();if(b&&b.length){v.type=f,v.preventDefault=function(){v.srcEvent.preventDefault()};for(var k=0;k<b.length;)b[k](v),k++}},d.destroy=function(){this.element&&Dc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},u}(),oh={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Mc="touchstart",ci="touchstart touchmove touchend touchcancel",Ps=function(u){function d(){var f,v=d.prototype;return v.evTarget=Mc,v.evWin=ci,(f=u.apply(this,arguments)||this).started=!1,f}return nn(d,u),d.prototype.handler=function(f){var v=oh[f.type];if(v===1&&(this.started=!0),this.started){var b=zd.call(this,f,v);12&v&&b[0].length-b[1].length==0&&(this.started=!1),this.callback(this.manager,v,{pointers:b[0],changedPointers:b[1],pointerType:Xo,srcEvent:f})}},d}(Ma);function zd(u,d){var f=Fa(u.touches),v=Fa(u.changedTouches);return 12&d&&(f=eh(f.concat(v),"identifier",!0)),[f,v]}function Fc(u,d,f){var v="DEPRECATED METHOD: "+d+`
`+f+` AT 
`;return function(){var b=new Error("get-stack-trace"),k=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",O=window.console&&(window.console.warn||window.console.log);return O&&O.call(window.console,v,k),u.apply(this,arguments)}}var mi=Fc(function(u,d,f){for(var v=Object.keys(d),b=0;b<v.length;)(!f||f&&u[v[b]]===void 0)&&(u[v[b]]=d[v[b]]),b++;return u},"extend","Use `assign`."),cr=Fc(function(u,d){return mi(u,d,!0)},"merge","Use `assign`.");function Bd(u,d,f){var v,b=d.prototype;(v=u.prototype=Object.create(b)).constructor=u,v._super=b,f&&ho(v,f)}function ah(u,d){return function(){return u.apply(d,arguments)}}var Ld=function(){var u=function(d,f){return f===void 0&&(f={}),new rh(d,tn({recognizers:Ac.concat()},f))};return u.VERSION="2.0.17-rc",u.DIRECTION_ALL=30,u.DIRECTION_DOWN=Ca,u.DIRECTION_LEFT=2,u.DIRECTION_RIGHT=4,u.DIRECTION_UP=8,u.DIRECTION_HORIZONTAL=6,u.DIRECTION_VERTICAL=co,u.DIRECTION_NONE=1,u.DIRECTION_DOWN=Ca,u.INPUT_START=1,u.INPUT_MOVE=2,u.INPUT_END=4,u.INPUT_CANCEL=8,u.STATE_POSSIBLE=1,u.STATE_BEGAN=2,u.STATE_CHANGED=4,u.STATE_ENDED=8,u.STATE_RECOGNIZED=8,u.STATE_CANCELLED=16,u.STATE_FAILED=Br,u.Manager=rh,u.Input=Ma,u.TouchAction=Aa,u.TouchInput=vo,u.MouseInput=po,u.PointerEventInput=Au,u.TouchMouseInput=Fu,u.SingleTouchInput=Ps,u.Recognizer=ja,u.AttrRecognizer=Lr,u.Tap=Nu,u.Pan=Ru,u.Swipe=Tc,u.Pinch=Ic,u.Rotate=Pc,u.Press=hi,u.on=jr,u.off=Zo,u.each=lr,u.merge=cr,u.extend=mi,u.bindFn=ah,u.assign=ho,u.inherit=Bd,u.bindFn=ah,u.prefixed=xs,u.toArray=Fa,u.inArray=zr,u.uniqueArray=eh,u.splitStr=Qo,u.boolOrFn=Cu,u.hasParent=fo,u.addEventListeners=jr,u.removeEventListeners=Zo,u.defaults=ho({},Cc,{preset:Ac}),u}();function za(u,d){var f;if(Ln===void 0||Ho(u)==null){if(li(u)||(f=function(C,F){var U;if(!!C){if(typeof C=="string")return Hr(C,F);var W=Di(U=Object.prototype.toString.call(C)).call(U,8,-1);if(W==="Object"&&C.constructor&&(W=C.constructor.name),W==="Map"||W==="Set")return Qi(C);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return Hr(C,F)}}(u))||d&&u&&typeof u.length=="number"){f&&(u=f);var v=0,b=function(){};return{s:b,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(C){throw C},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,O=!0,I=!1;return{s:function(){f=Ii(u)},n:function(){var C=f.next();return O=C.done,C},e:function(C){I=!0,k=C},f:function(){try{O||f.return==null||f.return()}finally{if(I)throw k}}}}function Hr(u,d){(d==null||d>u.length)&&(d=u.length);for(var f=0,v=new Array(d);f<d;f++)v[f]=u[f];return v}var dr=Ln("DELETE");function sh(){var u=fr.apply(void 0,arguments);return ea(u),u}function fr(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];if(d.length<2)return d[0];var v;if(d.length>2)return fr.apply(void 0,Dr(v=[sh(d[0],d[1])]).call(v,qt(Di(d).call(d,2))));var b,k=d[0],O=d[1],I=za(Uo(O));try{for(I.s();!(b=I.n()).done;){var C=b.value;Object.prototype.propertyIsEnumerable.call(O,C)&&(O[C]===dr?delete k[C]:k[C]===null||O[C]===null||Ji(k[C])!=="object"||Ji(O[C])!=="object"||li(k[C])||li(O[C])?k[C]=uh(O[C]):k[C]=fr(k[C],O[C]))}}catch(F){I.e(F)}finally{I.f()}return k}function uh(u){return li(u)?yi(u).call(u,function(d){return uh(d)}):Ji(u)==="object"&&u!==null?fr({},u):u}function ea(u){for(var d=0,f=vc(u);d<f.length;d++){var v=f[d];u[v]===dr?delete u[v]:Ji(u[v])==="object"&&u[v]!==null&&ea(u[v])}}var ju=typeof window!="undefined"?window.Hammer||Ld:function(){return{on:u=function(){},off:u,destroy:u,emit:u,get:function(){return{set:u}}};var u};function Be(u){var d,f=this;this._cleanupQueue=[],this.active=!1,this._dom={container:u,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){f._dom.overlay.parentNode.removeChild(f._dom.overlay)});var v=ju(this._dom.overlay);v.on("tap",to(d=this._onTapOverlay).call(d,this)),this._cleanupQueue.push(function(){v.destroy()});var b=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ci(b).call(b,function(k){v.on(k,function(O){O.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(k){(function(O,I){for(;O;){if(O===I)return!0;O=O.parentNode}return!1})(k.target,u)||f.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",f._onClick)})),this._escListener=function(k){("key"in k?k.key==="Escape":k.keyCode===27)&&f.deactivate()}}yc(Be.prototype),Be.current=null,Be.prototype.destroy=function(){var u,d;this.deactivate();var f,v=za(xu(u=xn(d=this._cleanupQueue).call(d,0)).call(u));try{for(v.s();!(f=v.n()).done;)(0,f.value)()}catch(b){v.e(b)}finally{v.f()}},Be.prototype.activate=function(){Be.current&&Be.current.deactivate(),Be.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Be.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Be.prototype._onTapOverlay=function(u){this.activate(),u.srcEvent.stopPropagation()};var Ba=Qr("Reflect","construct"),lh=J(function(){function u(){}return!(Ba(function(){},[],u)instanceof u)}),Nc=!J(function(){Ba(function(){})}),Qe=lh||Nc;De({target:"Reflect",stat:!0,forced:Qe,sham:Qe},{construct:function(u,d){je(u),Me(d);var f=arguments.length<3?u:je(arguments[2]);if(Nc&&!lh)return Ba(u,d,f);if(u==f){switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3])}var v=[null];return v.push.apply(v,d),new(os.apply(u,v))}var b=f.prototype,k=Gi(ot(b)?b:Object.prototype),O=Function.apply.call(u,k,d);return ot(O)?O:k}});var an=at.Reflect.construct,On=zt("Array").entries,ta=Array.prototype,hh={DOMTokenList:!0,NodeList:!0},bi=function(u){var d=u.entries;return u===ta||u instanceof Array&&d===ta.entries||hh.hasOwnProperty(Oi(u))?On:d},mt=le(function(u){var d=function(f){var v,b=Object.prototype,k=b.hasOwnProperty,O=typeof Symbol=="function"?Symbol:{},I=O.iterator||"@@iterator",C=O.asyncIterator||"@@asyncIterator",F=O.toStringTag||"@@toStringTag";function U(de,se,Le){return Object.defineProperty(de,se,{value:Le,enumerable:!0,configurable:!0,writable:!0}),de[se]}try{U({},"")}catch(de){U=function(se,Le,it){return se[Le]=it}}function W(de,se,Le,it){var L=se&&se.prototype instanceof Ve?se:Ve,si=Object.create(L.prototype),ni=new Ku(it||[]);return si._invoke=function(hn,Je,Ce){var Ri=ye;return function(be,ko){if(Ri===xe)throw new Error("Generator is already running");if(Ri===Oe){if(be==="throw")throw ko;return Qu()}for(Ce.method=be,Ce.arg=ko;;){var Wc=Ce.delegate;if(Wc){var wh=_o(Wc,Ce);if(wh){if(wh===me)continue;return wh}}if(Ce.method==="next")Ce.sent=Ce._sent=Ce.arg;else if(Ce.method==="throw"){if(Ri===ye)throw Ri=Oe,Ce.arg;Ce.dispatchException(Ce.arg)}else Ce.method==="return"&&Ce.abrupt("return",Ce.arg);Ri=xe;var Va=he(hn,Je,Ce);if(Va.type==="normal"){if(Ri=Ce.done?Oe:Te,Va.arg===me)continue;return{value:Va.arg,done:Ce.done}}Va.type==="throw"&&(Ri=Oe,Ce.method="throw",Ce.arg=Va.arg)}}}(de,Le,ni),si}function he(de,se,Le){try{return{type:"normal",arg:de.call(se,Le)}}catch(it){return{type:"throw",arg:it}}}f.wrap=W;var ye="suspendedStart",Te="suspendedYield",xe="executing",Oe="completed",me={};function Ve(){}function Ke(){}function Ze(){}var ft={};ft[I]=function(){return this};var Ut=Object.getPrototypeOf,In=Ut&&Ut(Ut(Vr([])));In&&In!==b&&k.call(In,I)&&(ft=In);var ii=Ze.prototype=Ve.prototype=Object.create(ft);function fi(de){["next","throw","return"].forEach(function(se){U(de,se,function(Le){return this._invoke(se,Le)})})}function ln(de,se){function Le(L,si,ni,hn){var Je=he(de[L],de,si);if(Je.type!=="throw"){var Ce=Je.arg,Ri=Ce.value;return Ri&&typeof Ri=="object"&&k.call(Ri,"__await")?se.resolve(Ri.__await).then(function(be){Le("next",be,ni,hn)},function(be){Le("throw",be,ni,hn)}):se.resolve(Ri).then(function(be){Ce.value=be,ni(Ce)},function(be){return Le("throw",be,ni,hn)})}hn(Je.arg)}var it;this._invoke=function(L,si){function ni(){return new se(function(hn,Je){Le(L,si,hn,Je)})}return it=it?it.then(ni,ni):ni()}}function _o(de,se){var Le=de.iterator[se.method];if(Le===v){if(se.delegate=null,se.method==="throw"){if(de.iterator.return&&(se.method="return",se.arg=v,_o(de,se),se.method==="throw"))return me;se.method="throw",se.arg=new TypeError("The iterator does not provide a 'throw' method")}return me}var it=he(Le,de.iterator,se.arg);if(it.type==="throw")return se.method="throw",se.arg=it.arg,se.delegate=null,me;var L=it.arg;return L?L.done?(se[de.resultName]=L.value,se.next=de.nextLoc,se.method!=="return"&&(se.method="next",se.arg=v),se.delegate=null,me):L:(se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,me)}function js(de){var se={tryLoc:de[0]};1 in de&&(se.catchLoc=de[1]),2 in de&&(se.finallyLoc=de[2],se.afterLoc=de[3]),this.tryEntries.push(se)}function Pn(de){var se=de.completion||{};se.type="normal",delete se.arg,de.completion=se}function Ku(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(js,this),this.reset(!0)}function Vr(de){if(de){var se=de[I];if(se)return se.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var Le=-1,it=function L(){for(;++Le<de.length;)if(k.call(de,Le))return L.value=de[Le],L.done=!1,L;return L.value=v,L.done=!0,L};return it.next=it}}return{next:Qu}}function Qu(){return{value:v,done:!0}}return Ke.prototype=ii.constructor=Ze,Ze.constructor=Ke,Ke.displayName=U(Ze,F,"GeneratorFunction"),f.isGeneratorFunction=function(de){var se=typeof de=="function"&&de.constructor;return!!se&&(se===Ke||(se.displayName||se.name)==="GeneratorFunction")},f.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,Ze):(de.__proto__=Ze,U(de,F,"GeneratorFunction")),de.prototype=Object.create(ii),de},f.awrap=function(de){return{__await:de}},fi(ln.prototype),ln.prototype[C]=function(){return this},f.AsyncIterator=ln,f.async=function(de,se,Le,it,L){L===void 0&&(L=Promise);var si=new ln(W(de,se,Le,it),L);return f.isGeneratorFunction(se)?si:si.next().then(function(ni){return ni.done?ni.value:si.next()})},fi(ii),U(ii,F,"Generator"),ii[I]=function(){return this},ii.toString=function(){return"[object Generator]"},f.keys=function(de){var se=[];for(var Le in de)se.push(Le);return se.reverse(),function it(){for(;se.length;){var L=se.pop();if(L in de)return it.value=L,it.done=!1,it}return it.done=!0,it}},f.values=Vr,Ku.prototype={constructor:Ku,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(Pn),!de)for(var se in this)se.charAt(0)==="t"&&k.call(this,se)&&!isNaN(+se.slice(1))&&(this[se]=v)},stop:function(){this.done=!0;var de=this.tryEntries[0].completion;if(de.type==="throw")throw de.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var se=this;function Le(Je,Ce){return si.type="throw",si.arg=de,se.next=Je,Ce&&(se.method="next",se.arg=v),!!Ce}for(var it=this.tryEntries.length-1;it>=0;--it){var L=this.tryEntries[it],si=L.completion;if(L.tryLoc==="root")return Le("end");if(L.tryLoc<=this.prev){var ni=k.call(L,"catchLoc"),hn=k.call(L,"finallyLoc");if(ni&&hn){if(this.prev<L.catchLoc)return Le(L.catchLoc,!0);if(this.prev<L.finallyLoc)return Le(L.finallyLoc)}else if(ni){if(this.prev<L.catchLoc)return Le(L.catchLoc,!0)}else{if(!hn)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return Le(L.finallyLoc)}}}},abrupt:function(de,se){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var it=this.tryEntries[Le];if(it.tryLoc<=this.prev&&k.call(it,"finallyLoc")&&this.prev<it.finallyLoc){var L=it;break}}L&&(de==="break"||de==="continue")&&L.tryLoc<=se&&se<=L.finallyLoc&&(L=null);var si=L?L.completion:{};return si.type=de,si.arg=se,L?(this.method="next",this.next=L.finallyLoc,me):this.complete(si)},complete:function(de,se){if(de.type==="throw")throw de.arg;return de.type==="break"||de.type==="continue"?this.next=de.arg:de.type==="return"?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):de.type==="normal"&&se&&(this.next=se),me},finish:function(de){for(var se=this.tryEntries.length-1;se>=0;--se){var Le=this.tryEntries[se];if(Le.finallyLoc===de)return this.complete(Le.completion,Le.afterLoc),Pn(Le),me}},catch:function(de){for(var se=this.tryEntries.length-1;se>=0;--se){var Le=this.tryEntries[se];if(Le.tryLoc===de){var it=Le.completion;if(it.type==="throw"){var L=it.arg;Pn(Le)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(de,se,Le){return this.delegate={iterator:Vr(de),resultName:se,nextLoc:Le},this.method==="next"&&(this.arg=v),me}},f}(u.exports);try{regeneratorRuntime=d}catch(f){Function("r","regeneratorRuntime = r")(d)}}),Sn=Ai,zu=zt("Array").values,$r=Array.prototype,Rc={DOMTokenList:!0,NodeList:!0},Wr=function(u){var d=u.values;return u===$r||u instanceof Array&&d===$r.values||Rc.hasOwnProperty(Oi(u))?zu:d},Mi=[],ia=Mi.sort,Fi=J(function(){Mi.sort(void 0)}),ch=J(function(){Mi.sort(null)}),Bu=kr("sort");De({target:"Array",proto:!0,forced:Fi||!ch||!Bu},{sort:function(u){return u===void 0?ia.call(Yt(this)):ia.call(Yt(this),je(u))}});var Wn=zt("Array").sort,Lu=Array.prototype,go=function(u){var d=u.sort;return u===Lu||u instanceof Array&&d===Lu.sort?Wn:d},dh=zt("Array").keys,fh=Array.prototype,jc={DOMTokenList:!0,NodeList:!0},Ni=function(u){var d=u.keys;return u===fh||u instanceof Array&&d===fh.keys||jc.hasOwnProperty(Oi(u))?dh:d},na=Kr.some,La=kr("some"),Cs=$t("some");De({target:"Array",proto:!0,forced:!La||!Cs},{some:function(u){return na(this,u,arguments.length>1?arguments[1]:void 0)}});var As=zt("Array").some,vh=Array.prototype,Hu=function(u){var d=u.some;return u===vh||u instanceof Array&&d===vh.some?As:d},zc=!J(function(){return Object.isExtensible(Object.preventExtensions({}))}),$u=le(function(u){var d=Vt.f,f=br("meta"),v=0,b=Object.isExtensible||function(){return!0},k=function(I){d(I,f,{value:{objectID:"O"+ ++v,weakData:{}}})},O=u.exports={REQUIRED:!1,fastKey:function(I,C){if(!ot(I))return typeof I=="symbol"?I:(typeof I=="string"?"S":"P")+I;if(!qe(I,f)){if(!b(I))return"F";if(!C)return"E";k(I)}return I[f].objectID},getWeakData:function(I,C){if(!qe(I,f)){if(!b(I))return!0;if(!C)return!1;k(I)}return I[f].weakData},onFreeze:function(I){return zc&&O.REQUIRED&&b(I)&&!qe(I,f)&&k(I),I}};Er[f]=!0}),ai=function(u,d){this.stopped=u,this.result=d},Bc=function(u,d,f){var v,b,k,O,I,C,F,U=f&&f.that,W=!(!f||!f.AS_ENTRIES),he=!(!f||!f.IS_ITERATOR),ye=!(!f||!f.INTERRUPTED),Te=dn(d,U,1+W+ye),xe=function(me){return v&&$o(v),new ai(!0,me)},Oe=function(me){return W?(Me(me),ye?Te(me[0],me[1],xe):Te(me[0],me[1])):ye?Te(me,xe):Te(me)};if(he)v=u;else{if(typeof(b=wa(u))!="function")throw TypeError("Target is not iterable");if(Ol(b)){for(k=0,O=Gt(u.length);O>k;k++)if((I=Oe(u[k]))&&I instanceof ai)return I;return new ai(!1)}v=b.call(u)}for(C=v.next;!(F=C.call(v)).done;){try{I=Oe(F.value)}catch(me){throw $o(v),me}if(typeof I=="object"&&I&&I instanceof ai)return I}return new ai(!1)},Ds=function(u,d,f){if(!(u instanceof d))throw TypeError("Incorrect "+(f?f+" ":"")+"invocation");return u},yo=Vt.f,Ha=Kr.forEach,Fe=Yi.set,Pe=Yi.getterFor,ht=function(u,d,f){var v,b=u.indexOf("Map")!==-1,k=u.indexOf("Weak")!==-1,O=b?"set":"add",I=ee[u],C=I&&I.prototype,F={};if(re&&typeof I=="function"&&(k||C.forEach&&!J(function(){new I().entries().next()}))){v=d(function(W,he){Fe(Ds(W,v,u),{type:u,collection:new I}),he!=null&&Bc(he,W[O],{that:W,AS_ENTRIES:b})});var U=Pe(u);Ha(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(W){var he=W=="add"||W=="set";!(W in C)||k&&W=="clear"||st(v.prototype,W,function(ye,Te){var xe=U(this).collection;if(!he&&k&&!ot(ye))return W=="get"&&void 0;var Oe=xe[W](ye===0?0:ye,Te);return he?this:Oe})}),k||yo(v.prototype,"size",{configurable:!0,get:function(){return U(this).collection.size}})}else v=f.getConstructor(d,u,b,O),$u.REQUIRED=!0;return va(v,u,!1,!0),F[u]=v,De({global:!0,forced:!0},F),k||f.setStrong(v,u,b),v},dt=function(u,d,f){for(var v in d)f&&f.unsafe&&u[v]?u[v]=d[v]:nu(u,v,d[v],f);return u},vr=xt("species"),$a=Vt.f,sn=$u.fastKey,Wa=Yi.set,qr=Yi.getterFor,qn={getConstructor:function(u,d,f,v){var b=u(function(C,F){Ds(C,b,d),Wa(C,{type:d,index:Gi(null),first:void 0,last:void 0,size:0}),re||(C.size=0),F!=null&&Bc(F,C[v],{that:C,AS_ENTRIES:f})}),k=qr(d),O=function(C,F,U){var W,he,ye=k(C),Te=I(C,F);return Te?Te.value=U:(ye.last=Te={index:he=sn(F,!0),key:F,value:U,previous:W=ye.last,next:void 0,removed:!1},ye.first||(ye.first=Te),W&&(W.next=Te),re?ye.size++:C.size++,he!=="F"&&(ye.index[he]=Te)),C},I=function(C,F){var U,W=k(C),he=sn(F);if(he!=="F")return W.index[he];for(U=W.first;U;U=U.next)if(U.key==F)return U};return dt(b.prototype,{clear:function(){for(var C=k(this),F=C.index,U=C.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete F[U.index],U=U.next;C.first=C.last=void 0,re?C.size=0:this.size=0},delete:function(C){var F=this,U=k(F),W=I(F,C);if(W){var he=W.next,ye=W.previous;delete U.index[W.index],W.removed=!0,ye&&(ye.next=he),he&&(he.previous=ye),U.first==W&&(U.first=he),U.last==W&&(U.last=ye),re?U.size--:F.size--}return!!W},forEach:function(C){for(var F,U=k(this),W=dn(C,arguments.length>1?arguments[1]:void 0,3);F=F?F.next:U.first;)for(W(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(C){return!!I(this,C)}}),dt(b.prototype,f?{get:function(C){var F=I(this,C);return F&&F.value},set:function(C,F){return O(this,C===0?0:C,F)}}:{add:function(C){return O(this,C=C===0?0:C,C)}}),re&&$a(b.prototype,"size",{get:function(){return k(this).size}}),b},setStrong:function(u,d,f){var v=d+" Iterator",b=qr(d),k=qr(v);Ti(u,d,function(O,I){Wa(this,{type:v,target:O,state:b(O),kind:I,last:void 0})},function(){for(var O=k(this),I=O.kind,C=O.last;C&&C.removed;)C=C.previous;return O.target&&(O.last=C=C?C.next:O.state.first)?I=="keys"?{value:C.key,done:!1}:I=="values"?{value:C.value,done:!1}:{value:[C.key,C.value],done:!1}:(O.target=void 0,{value:void 0,done:!0})},f?"entries":"values",!f,!0),function(O){var I=Qr(O),C=Vt.f;re&&I&&!I[vr]&&C(I,vr,{configurable:!0,get:function(){return this}})}(d)}},Ur=(ht("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},qn),at.Map),bt=sr;De({target:"Object",stat:!0},{setPrototypeOf:jn});var Wu=at.Object.setPrototypeOf,qu=le(function(u){function d(f,v){return u.exports=d=Wu||function(b,k){return b.__proto__=k,b},d(f,v)}u.exports=d}),Un=function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=bt(d&&d.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),d&&qu(u,d)},qa=function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u},un,di=function(u,d){return!d||Ji(d)!=="object"&&typeof d!="function"?qa(u):d},Uu=ec,ra=le(function(u){function d(f){return u.exports=d=Wu?Uu:function(v){return v.__proto__||Uu(v)},d(f)}u.exports=d}),ph=new Uint8Array(16);function Vu(){if(!un&&!(un=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return un(ph)}var Gu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ms(u){return typeof u=="string"&&Gu.test(u)}for(var ti=[],gh=0;gh<256;++gh)ti.push((gh+256).toString(16).substr(1));function Lc(u,d,f){var v=(u=u||{}).random||(u.rng||Vu)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,d){f=f||0;for(var b=0;b<16;++b)d[f+b]=v[b];return d}return function(k){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=(ti[k[O+0]]+ti[k[O+1]]+ti[k[O+2]]+ti[k[O+3]]+"-"+ti[k[O+4]]+ti[k[O+5]]+"-"+ti[k[O+6]]+ti[k[O+7]]+"-"+ti[k[O+8]]+ti[k[O+9]]+"-"+ti[k[O+10]]+ti[k[O+11]]+ti[k[O+12]]+ti[k[O+13]]+ti[k[O+14]]+ti[k[O+15]]).toLowerCase();if(!Ms(I))throw TypeError("Stringified UUID is invalid");return I}(v)}function Yu(u){return typeof u=="string"||typeof u=="number"}var Hc=function(){function u(d){Ui(this,u),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(d)}return oi(u,[{key:"setOptions",value:function(d){d&&d.delay!==void 0&&(this.delay=d.delay),d&&d.max!==void 0&&(this.max=d.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var d=this._extended.object,f=this._extended.methods,v=0;v<f.length;v++){var b=f[v];b.original?d[b.name]=b.original:delete d[b.name]}this._extended=null}}},{key:"replace",value:function(d,f){var v=this,b=d[f];if(!b)throw new Error("Method "+f+" undefined");d[f]=function(){for(var k=arguments.length,O=new Array(k),I=0;I<k;I++)O[I]=arguments[I];v.queue({args:O,fn:b,context:this})}}},{key:"queue",value:function(d){typeof d=="function"?this._queue.push({fn:d}):this._queue.push(d),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var d=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=_a(function(){d.flush()},this.delay))}},{key:"flush",value:function(){var d,f;Ci(d=xn(f=this._queue).call(f,0)).call(d,function(v){v.fn.apply(v.context||v.fn,v.args||[])})}}],[{key:"extend",value:function(d,f){var v=new u(f);if(d.flush!==void 0)throw new Error("Target object already has a property flush");d.flush=function(){v.flush()};var b=[{name:"flush",original:void 0}];if(f&&f.replace)for(var k=0;k<f.replace.length;k++){var O=f.replace[k];b.push({name:O,original:d[O]}),v.replace(d,O)}return v._extended={object:d,methods:b},v}}]),u}(),Fs=function(){function u(){Ui(this,u),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=u.prototype.on,this.unsubscribe=u.prototype.off}return oi(u,[{key:"_trigger",value:function(d,f,v){var b,k;if(d==="*")throw new Error("Cannot trigger event *");Ci(b=Dr(k=[]).call(k,qt(this._subscribers[d]),qt(this._subscribers["*"]))).call(b,function(O){O(d,f,v??null)})}},{key:"on",value:function(d,f){typeof f=="function"&&this._subscribers[d].push(f)}},{key:"off",value:function(d,f){var v;this._subscribers[d]=Kt(v=this._subscribers[d]).call(v,function(b){return b!==f})}}]),u}(),mo=(ht("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},qn),at.Set);function Tn(u,d){var f;if(Ln===void 0||Ho(u)==null){if(li(u)||(f=function(C,F){var U;if(!!C){if(typeof C=="string")return bo(C,F);var W=Di(U=Object.prototype.toString.call(C)).call(U,8,-1);if(W==="Object"&&C.constructor&&(W=C.constructor.name),W==="Map"||W==="Set")return Qi(C);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return bo(C,F)}}(u))||d&&u&&typeof u.length=="number"){f&&(u=f);var v=0,b=function(){};return{s:b,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(C){throw C},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,O=!0,I=!1;return{s:function(){f=Ii(u)},n:function(){var C=f.next();return O=C.done,C},e:function(C){I=!0,k=C},f:function(){try{O||f.return==null||f.return()}finally{if(I)throw k}}}}function bo(u,d){(d==null||d>u.length)&&(d=u.length);for(var f=0,v=new Array(d);f<d;f++)v[f]=u[f];return v}var oa=function(){function u(d){Ui(this,u),this._pairs=d}return oi(u,[{key:Sn,value:mt.mark(function d(){var f,v,b,k,O;return mt.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:f=Tn(this._pairs),I.prev=1,f.s();case 3:if((v=f.n()).done){I.next=9;break}return b=ei(v.value,2),k=b[0],O=b[1],I.next=7,[k,O];case 7:I.next=3;break;case 9:I.next=14;break;case 11:I.prev=11,I.t0=I.catch(1),f.e(I.t0);case 14:return I.prev=14,f.f(),I.finish(14);case 17:case"end":return I.stop()}},d,this,[[1,11,14,17]])})},{key:"entries",value:mt.mark(function d(){var f,v,b,k,O;return mt.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:f=Tn(this._pairs),I.prev=1,f.s();case 3:if((v=f.n()).done){I.next=9;break}return b=ei(v.value,2),k=b[0],O=b[1],I.next=7,[k,O];case 7:I.next=3;break;case 9:I.next=14;break;case 11:I.prev=11,I.t0=I.catch(1),f.e(I.t0);case 14:return I.prev=14,f.f(),I.finish(14);case 17:case"end":return I.stop()}},d,this,[[1,11,14,17]])})},{key:"keys",value:mt.mark(function d(){var f,v,b,k;return mt.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:f=Tn(this._pairs),O.prev=1,f.s();case 3:if((v=f.n()).done){O.next=9;break}return b=ei(v.value,1),k=b[0],O.next=7,k;case 7:O.next=3;break;case 9:O.next=14;break;case 11:O.prev=11,O.t0=O.catch(1),f.e(O.t0);case 14:return O.prev=14,f.f(),O.finish(14);case 17:case"end":return O.stop()}},d,this,[[1,11,14,17]])})},{key:"values",value:mt.mark(function d(){var f,v,b,k;return mt.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:f=Tn(this._pairs),O.prev=1,f.s();case 3:if((v=f.n()).done){O.next=9;break}return b=ei(v.value,2),k=b[1],O.next=7,k;case 7:O.next=3;break;case 9:O.next=14;break;case 11:O.prev=11,O.t0=O.catch(1),f.e(O.t0);case 14:return O.prev=14,f.f(),O.finish(14);case 17:case"end":return O.stop()}},d,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var d;return yi(d=qt(this._pairs)).call(d,function(f){return f[0]})}},{key:"toItemArray",value:function(){var d;return yi(d=qt(this._pairs)).call(d,function(f){return f[1]})}},{key:"toEntryArray",value:function(){return qt(this._pairs)}},{key:"toObjectMap",value:function(){var d,f=wd(null),v=Tn(this._pairs);try{for(v.s();!(d=v.n()).done;){var b=ei(d.value,2),k=b[0],O=b[1];f[k]=O}}catch(I){v.e(I)}finally{v.f()}return f}},{key:"toMap",value:function(){return new Ur(this._pairs)}},{key:"toIdSet",value:function(){return new mo(this.toIdArray())}},{key:"toItemSet",value:function(){return new mo(this.toItemArray())}},{key:"cache",value:function(){return new u(qt(this._pairs))}},{key:"distinct",value:function(d){var f,v=new mo,b=Tn(this._pairs);try{for(b.s();!(f=b.n()).done;){var k=ei(f.value,2),O=k[0],I=k[1];v.add(d(I,O))}}catch(C){b.e(C)}finally{b.f()}return v}},{key:"filter",value:function(d){var f=this._pairs;return new u(Ar({},Sn,mt.mark(function v(){var b,k,O,I,C;return mt.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:b=Tn(f),F.prev=1,b.s();case 3:if((k=b.n()).done){F.next=10;break}if(O=ei(k.value,2),I=O[0],C=O[1],!d(C,I)){F.next=8;break}return F.next=8,[I,C];case 8:F.next=3;break;case 10:F.next=15;break;case 12:F.prev=12,F.t0=F.catch(1),b.e(F.t0);case 15:return F.prev=15,b.f(),F.finish(15);case 18:case"end":return F.stop()}},v,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(d){var f,v=Tn(this._pairs);try{for(v.s();!(f=v.n()).done;){var b=ei(f.value,2),k=b[0];d(b[1],k)}}catch(O){v.e(O)}finally{v.f()}}},{key:"map",value:function(d){var f=this._pairs;return new u(Ar({},Sn,mt.mark(function v(){var b,k,O,I,C;return mt.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:b=Tn(f),F.prev=1,b.s();case 3:if((k=b.n()).done){F.next=9;break}return O=ei(k.value,2),I=O[0],C=O[1],F.next=7,[I,d(C,I)];case 7:F.next=3;break;case 9:F.next=14;break;case 11:F.prev=11,F.t0=F.catch(1),b.e(F.t0);case 14:return F.prev=14,b.f(),F.finish(14);case 17:case"end":return F.stop()}},v,null,[[1,11,14,17]])})))}},{key:"max",value:function(d){var f=Ii(this._pairs),v=f.next();if(v.done)return null;for(var b=v.value[1],k=d(v.value[1],v.value[0]);!(v=f.next()).done;){var O=ei(v.value,2),I=O[0],C=O[1],F=d(C,I);F>k&&(k=F,b=C)}return b}},{key:"min",value:function(d){var f=Ii(this._pairs),v=f.next();if(v.done)return null;for(var b=v.value[1],k=d(v.value[1],v.value[0]);!(v=f.next()).done;){var O=ei(v.value,2),I=O[0],C=O[1],F=d(C,I);F<k&&(k=F,b=C)}return b}},{key:"reduce",value:function(d,f){var v,b=Tn(this._pairs);try{for(b.s();!(v=b.n()).done;){var k=ei(v.value,2),O=k[0];f=d(f,k[1],O)}}catch(I){b.e(I)}finally{b.f()}return f}},{key:"sort",value:function(d){var f=this;return new u(Ar({},Sn,function(){var v;return Ii(go(v=qt(f._pairs)).call(v,function(b,k){var O=ei(b,2),I=O[0],C=O[1],F=ei(k,2),U=F[0],W=F[1];return d(C,W,I,U)}))}))}}]),u}();function Ua(u,d){var f=vc(u);if(Bo){var v=Bo(u);d&&(v=Kt(v).call(v,function(b){return tu(u,b).enumerable})),f.push.apply(f,v)}return f}function yh(u){for(var d=1;d<arguments.length;d++){var f,v=arguments[d]!=null?arguments[d]:{};if(d%2)Ci(f=Ua(Object(v),!0)).call(f,function(k){Ar(u,k,v[k])});else if(Bh)dl(u,Bh(v));else{var b;Ci(b=Ua(Object(v))).call(b,function(k){Po(u,k,tu(v,k))})}}return u}function wo(u,d){var f;if(Ln===void 0||Ho(u)==null){if(li(u)||(f=function(C,F){var U;if(!!C){if(typeof C=="string")return pr(C,F);var W=Di(U=Object.prototype.toString.call(C)).call(U,8,-1);if(W==="Object"&&C.constructor&&(W=C.constructor.name),W==="Map"||W==="Set")return Qi(C);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return pr(C,F)}}(u))||d&&u&&typeof u.length=="number"){f&&(u=f);var v=0,b=function(){};return{s:b,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(C){throw C},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,O=!0,I=!1;return{s:function(){f=Ii(u)},n:function(){var C=f.next();return O=C.done,C},e:function(C){I=!0,k=C},f:function(){try{O||f.return==null||f.return()}finally{if(I)throw k}}}}function pr(u,d){(d==null||d>u.length)&&(d=u.length);for(var f=0,v=new Array(d);f<d;f++)v[f]=u[f];return v}function Ns(u){var d=function(){if(typeof Reflect=="undefined"||!an||an.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(an(Date,[],function(){})),!0}catch(f){return!1}}();return function(){var f,v=ra(u);if(d){var b=ra(this).constructor;f=an(v,arguments,b)}else f=v.apply(this,arguments);return di(this,f)}}var mh=function(u){Un(f,u);var d=Ns(f);function f(v,b){var k;return Ui(this,f),(k=d.call(this))._queue=null,v&&!li(v)&&(b=v,v=[]),k._options=b||{},k._data=new Ur,k.length=0,k._idProp=k._options.fieldId||"id",v&&v.length&&k.add(v),k.setOptions(b),k}return oi(f,[{key:"setOptions",value:function(v){v&&v.queue!==void 0&&(v.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Hc.extend(this,{replace:["add","update","remove"]})),v.queue&&Ji(v.queue)==="object"&&this._queue.setOptions(v.queue)))}},{key:"add",value:function(v,b){var k,O=this,I=[];if(li(v)){var C=yi(v).call(v,function(W){return W[O._idProp]});if(Hu(C).call(C,function(W){return O._data.has(W)}))throw new Error("A duplicate id was found in the parameter array.");for(var F=0,U=v.length;F<U;F++)k=this._addItem(v[F]),I.push(k)}else{if(!v||Ji(v)!=="object")throw new Error("Unknown dataType");k=this._addItem(v),I.push(k)}return I.length&&this._trigger("add",{items:I},b),I}},{key:"update",value:function(v,b){var k=this,O=[],I=[],C=[],F=[],U=this._idProp,W=function(xe){var Oe=xe[U];if(Oe!=null&&k._data.has(Oe)){var me=xe,Ve=En({},k._data.get(Oe)),Ke=k._updateItem(me);I.push(Ke),F.push(me),C.push(Ve)}else{var Ze=k._addItem(xe);O.push(Ze)}};if(li(v))for(var he=0,ye=v.length;he<ye;he++)v[he]&&Ji(v[he])==="object"?W(v[he]):console.warn("Ignoring input item, which is not an object at index "+he);else{if(!v||Ji(v)!=="object")throw new Error("Unknown dataType");W(v)}if(O.length&&this._trigger("add",{items:O},b),I.length){var Te={items:I,oldData:C,data:F};this._trigger("update",Te,b)}return Dr(O).call(O,I)}},{key:"updateOnly",value:function(v,b){var k,O=this;li(v)||(v=[v]);var I=yi(k=yi(v).call(v,function(F){var U=O._data.get(F[O._idProp]);if(U==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:U,update:F}})).call(k,function(F){var U=F.oldData,W=F.update,he=U[O._idProp],ye=function(Te){for(var xe,Oe=arguments.length,me=new Array(Oe>1?Oe-1:0),Ve=1;Ve<Oe;Ve++)me[Ve-1]=arguments[Ve];return sh.apply(void 0,Dr(xe=[{},Te]).call(xe,me))}(U,W);return O._data.set(he,ye),{id:he,oldData:U,updatedData:ye}});if(I.length){var C={items:yi(I).call(I,function(F){return F.id}),oldData:yi(I).call(I,function(F){return F.oldData}),data:yi(I).call(I,function(F){return F.updatedData})};return this._trigger("update",C,b),C.items}return[]}},{key:"get",value:function(v,b){var k=void 0,O=void 0,I=void 0;Yu(v)?(k=v,I=b):li(v)?(O=v,I=b):I=v;var C,F=I&&I.returnType==="Object"?"Object":"Array",U=I&&Kt(I),W=[],he=void 0,ye=void 0,Te=void 0;if(k!=null)(he=this._data.get(k))&&U&&!U(he)&&(he=void 0);else if(O!=null)for(var xe=0,Oe=O.length;xe<Oe;xe++)(he=this._data.get(O[xe]))==null||U&&!U(he)||W.push(he);else for(var me,Ve=0,Ke=(ye=qt(Ni(me=this._data).call(me))).length;Ve<Ke;Ve++)Te=ye[Ve],(he=this._data.get(Te))==null||U&&!U(he)||W.push(he);if(I&&I.order&&k==null&&this._sort(W,I.order),I&&I.fields){var Ze=I.fields;if(k!=null&&he!=null)he=this._filterFields(he,Ze);else for(var ft=0,Ut=W.length;ft<Ut;ft++)W[ft]=this._filterFields(W[ft],Ze)}if(F=="Object"){for(var In={},ii=0,fi=W.length;ii<fi;ii++){var ln=W[ii];In[ln[this._idProp]]=ln}return In}return k!=null?(C=he)!==null&&C!==void 0?C:null:W}},{key:"getIds",value:function(v){var b=this._data,k=v&&Kt(v),O=v&&v.order,I=qt(Ni(b).call(b)),C=[];if(k)if(O){for(var F=[],U=0,W=I.length;U<W;U++){var he=I[U],ye=this._data.get(he);ye!=null&&k(ye)&&F.push(ye)}this._sort(F,O);for(var Te=0,xe=F.length;Te<xe;Te++)C.push(F[Te][this._idProp])}else for(var Oe=0,me=I.length;Oe<me;Oe++){var Ve=I[Oe],Ke=this._data.get(Ve);Ke!=null&&k(Ke)&&C.push(Ke[this._idProp])}else if(O){for(var Ze=[],ft=0,Ut=I.length;ft<Ut;ft++){var In=I[ft];Ze.push(b.get(In))}this._sort(Ze,O);for(var ii=0,fi=Ze.length;ii<fi;ii++)C.push(Ze[ii][this._idProp])}else for(var ln=0,_o=I.length;ln<_o;ln++){var js=I[ln],Pn=b.get(js);Pn!=null&&C.push(Pn[this._idProp])}return C}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(v,b){var k=b&&Kt(b),O=this._data,I=qt(Ni(O).call(O));if(b&&b.order)for(var C=this.get(b),F=0,U=C.length;F<U;F++){var W=C[F];v(W,W[this._idProp])}else for(var he=0,ye=I.length;he<ye;he++){var Te=I[he],xe=this._data.get(Te);xe==null||k&&!k(xe)||v(xe,Te)}}},{key:"map",value:function(v,b){for(var k=b&&Kt(b),O=[],I=this._data,C=qt(Ni(I).call(I)),F=0,U=C.length;F<U;F++){var W=C[F],he=this._data.get(W);he==null||k&&!k(he)||O.push(v(he,W))}return b&&b.order&&this._sort(O,b.order),O}},{key:"_filterFields",value:function(v,b){var k;return v&&Io(k=li(b)?b:vc(b)).call(k,function(O,I){return O[I]=v[I],O},{})}},{key:"_sort",value:function(v,b){if(typeof b=="string"){var k=b;go(v).call(v,function(O,I){var C=O[k],F=I[k];return C>F?1:C<F?-1:0})}else{if(typeof b!="function")throw new TypeError("Order must be a function or a string");go(v).call(v,b)}}},{key:"remove",value:function(v,b){for(var k=[],O=[],I=li(v)?v:[v],C=0,F=I.length;C<F;C++){var U=this._remove(I[C]);if(U){var W=U[this._idProp];W!=null&&(k.push(W),O.push(U))}}return k.length&&this._trigger("remove",{items:k,oldData:O},b),k}},{key:"_remove",value:function(v){var b;if(Yu(v)?b=v:v&&Ji(v)==="object"&&(b=v[this._idProp]),b!=null&&this._data.has(b)){var k=this._data.get(b)||null;return this._data.delete(b),--this.length,k}return null}},{key:"clear",value:function(v){for(var b,k=qt(Ni(b=this._data).call(b)),O=[],I=0,C=k.length;I<C;I++)O.push(this._data.get(k[I]));return this._data.clear(),this.length=0,this._trigger("remove",{items:k,oldData:O},v),k}},{key:"max",value:function(v){var b,k,O=null,I=null,C=wo(Wr(b=this._data).call(b));try{for(C.s();!(k=C.n()).done;){var F=k.value,U=F[v];typeof U=="number"&&(I==null||U>I)&&(O=F,I=U)}}catch(W){C.e(W)}finally{C.f()}return O||null}},{key:"min",value:function(v){var b,k,O=null,I=null,C=wo(Wr(b=this._data).call(b));try{for(C.s();!(k=C.n()).done;){var F=k.value,U=F[v];typeof U=="number"&&(I==null||U<I)&&(O=F,I=U)}}catch(W){C.e(W)}finally{C.f()}return O||null}},{key:"distinct",value:function(v){for(var b=this._data,k=qt(Ni(b).call(b)),O=[],I=0,C=0,F=k.length;C<F;C++){for(var U=k[C],W=b.get(U)[v],he=!1,ye=0;ye<I;ye++)if(O[ye]==W){he=!0;break}he||W===void 0||(O[I]=W,I++)}return O}},{key:"_addItem",value:function(v){var b=function(O,I){return O[I]==null&&(O[I]=Lc()),O}(v,this._idProp),k=b[this._idProp];if(this._data.has(k))throw new Error("Cannot add item: item with id "+k+" already exists");return this._data.set(k,b),++this.length,k}},{key:"_updateItem",value:function(v){var b=v[this._idProp];if(b==null)throw new Error("Cannot update item: item has no id (item: "+kt(v)+")");var k=this._data.get(b);if(!k)throw new Error("Cannot update item: no item with id "+b+" found");return this._data.set(b,yh(yh({},k),v)),b}},{key:"stream",value:function(v){if(v){var b=this._data;return new oa(Ar({},Sn,mt.mark(function O(){var I,C,F,U;return mt.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:I=wo(v),W.prev=1,I.s();case 3:if((C=I.n()).done){W.next=11;break}if(F=C.value,(U=b.get(F))==null){W.next=9;break}return W.next=9,[F,U];case 9:W.next=3;break;case 11:W.next=16;break;case 13:W.prev=13,W.t0=W.catch(1),I.e(W.t0);case 16:return W.prev=16,I.f(),W.finish(16);case 19:case"end":return W.stop()}},O,null,[[1,13,16,19]])})))}var k;return new oa(Ar({},Sn,to(k=bi(this._data)).call(k,this._data)))}},{key:"idProp",get:function(){return this._idProp}}]),f}(Fs);function $c(u,d){var f;if(Ln===void 0||Ho(u)==null){if(li(u)||(f=function(C,F){var U;if(!!C){if(typeof C=="string")return Xu(C,F);var W=Di(U=Object.prototype.toString.call(C)).call(U,8,-1);if(W==="Object"&&C.constructor&&(W=C.constructor.name),W==="Map"||W==="Set")return Qi(C);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return Xu(C,F)}}(u))||d&&u&&typeof u.length=="number"){f&&(u=f);var v=0,b=function(){};return{s:b,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(C){throw C},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,O=!0,I=!1;return{s:function(){f=Ii(u)},n:function(){var C=f.next();return O=C.done,C},e:function(C){I=!0,k=C},f:function(){try{O||f.return==null||f.return()}finally{if(I)throw k}}}}function Xu(u,d){(d==null||d>u.length)&&(d=u.length);for(var f=0,v=new Array(d);f<d;f++)v[f]=u[f];return v}function bh(u){var d=function(){if(typeof Reflect=="undefined"||!an||an.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(an(Date,[],function(){})),!0}catch(f){return!1}}();return function(){var f,v=ra(u);if(d){var b=ra(this).constructor;f=an(v,arguments,b)}else f=v.apply(this,arguments);return di(this,f)}}var aa=function(u){Un(f,u);var d=bh(f);function f(v,b){var k,O;return Ui(this,f),(O=d.call(this)).length=0,O._ids=new mo,O._options=b||{},O._listener=to(k=O._onEvent).call(k,qa(O)),O.setData(v),O}return oi(f,[{key:"setData",value:function(v){if(this._data){this._data.off&&this._data.off("*",this._listener);var b=this._data.getIds({filter:Kt(this._options)}),k=this._data.get(b);this._ids.clear(),this.length=0,this._trigger("remove",{items:b,oldData:k})}if(v!=null){this._data=v;for(var O=this._data.getIds({filter:Kt(this._options)}),I=0,C=O.length;I<C;I++){var F=O[I];this._ids.add(F)}this.length=O.length,this._trigger("add",{items:O})}else this._data=new mh;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var v=this._data.getIds({filter:Kt(this._options)}),b=qt(this._ids),k={},O=[],I=[],C=[],F=0,U=v.length;F<U;F++){var W=v[F];k[W]=!0,this._ids.has(W)||(O.push(W),this._ids.add(W))}for(var he=0,ye=b.length;he<ye;he++){var Te=b[he],xe=this._data.get(Te);xe==null?console.error("If you see this, report it please."):k[Te]||(I.push(Te),C.push(xe),this._ids.delete(Te))}this.length+=O.length-I.length,O.length&&this._trigger("add",{items:O}),I.length&&this._trigger("remove",{items:I,oldData:C})}},{key:"get",value:function(v,b){if(this._data==null)return null;var k,O=null;Yu(v)||li(v)?(O=v,k=b):k=v;var I=En({},this._options,k),C=Kt(this._options),F=k&&Kt(k);return C&&F&&(I.filter=function(U){return C(U)&&F(U)}),O==null?this._data.get(I):this._data.get(O,I)}},{key:"getIds",value:function(v){if(this._data.length){var b,k=Kt(this._options),O=v!=null?Kt(v):null;return b=O?k?function(I){return k(I)&&O(I)}:O:k,this._data.getIds({filter:b,order:v&&v.order})}return[]}},{key:"forEach",value:function(v,b){if(this._data){var k,O,I=Kt(this._options),C=b&&Kt(b);O=C?I?function(F){return I(F)&&C(F)}:C:I,Ci(k=this._data).call(k,v,{filter:O,order:b&&b.order})}}},{key:"map",value:function(v,b){if(this._data){var k,O,I=Kt(this._options),C=b&&Kt(b);return O=C?I?function(F){return I(F)&&C(F)}:C:I,yi(k=this._data).call(k,v,{filter:O,order:b&&b.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(v){var b;return this._data.stream(v||Ar({},Sn,to(b=Ni(this._ids)).call(b,this._ids)))}},{key:"dispose",value:function(){var v;(v=this._data)!==null&&v!==void 0&&v.off&&this._data.off("*",this._listener);var b,k="This data view has already been disposed of.",O={get:function(){throw new Error(k)},set:function(){throw new Error(k)},configurable:!1},I=$c(Uo(f.prototype));try{for(I.s();!(b=I.n()).done;){var C=b.value;Po(this,C,O)}}catch(F){I.e(F)}finally{I.f()}}},{key:"_onEvent",value:function(v,b,k){if(b&&b.items&&this._data){var O=b.items,I=[],C=[],F=[],U=[],W=[],he=[];switch(v){case"add":for(var ye=0,Te=O.length;ye<Te;ye++){var xe=O[ye];this.get(xe)&&(this._ids.add(xe),I.push(xe))}break;case"update":for(var Oe=0,me=O.length;Oe<me;Oe++){var Ve=O[Oe];this.get(Ve)?this._ids.has(Ve)?(C.push(Ve),W.push(b.data[Oe]),U.push(b.oldData[Oe])):(this._ids.add(Ve),I.push(Ve)):this._ids.has(Ve)&&(this._ids.delete(Ve),F.push(Ve),he.push(b.oldData[Oe]))}break;case"remove":for(var Ke=0,Ze=O.length;Ke<Ze;Ke++){var ft=O[Ke];this._ids.has(ft)&&(this._ids.delete(ft),F.push(ft),he.push(b.oldData[Ke]))}}this.length+=I.length-F.length,I.length&&this._trigger("add",{items:I},k),C.length&&this._trigger("update",{items:C,oldData:U,data:W},k),F.length&&this._trigger("remove",{items:F,oldData:he},k)}}},{key:"idProp",get:function(){return this.getDataSet().idProp}}]),f}(Fs);function Rs(u,d){return Ji(d)==="object"&&d!==null&&u===d.idProp&&typeof d.add=="function"&&typeof d.clear=="function"&&typeof d.distinct=="function"&&typeof Ci(d)=="function"&&typeof d.get=="function"&&typeof d.getDataSet=="function"&&typeof d.getIds=="function"&&typeof d.length=="number"&&typeof yi(d)=="function"&&typeof d.max=="function"&&typeof d.min=="function"&&typeof d.off=="function"&&typeof d.on=="function"&&typeof d.remove=="function"&&typeof d.setOptions=="function"&&typeof d.stream=="function"&&typeof d.update=="function"&&typeof d.updateOnly=="function"}fe.DELETE=dr,fe.DataSet=mh,fe.DataStream=oa,fe.DataView=aa,fe.Queue=Hc,fe.createNewDataPipeFrom=function(u){return new as(u)},fe.isDataSetLike=Rs,fe.isDataViewLike=function(u,d){return Ji(d)==="object"&&d!==null&&u===d.idProp&&typeof Ci(d)=="function"&&typeof d.get=="function"&&typeof d.getDataSet=="function"&&typeof d.getIds=="function"&&typeof d.length=="number"&&typeof yi(d)=="function"&&typeof d.off=="function"&&typeof d.on=="function"&&typeof d.stream=="function"&&Rs(u,d.getDataSet())},Object.defineProperty(fe,"__esModule",{value:!0})})});var rp=Sh((Kf,np)=>{(function(fe,ue){typeof Kf=="object"&&typeof np!="undefined"?ue(Kf):typeof define=="function"&&define.amd?define(["exports"],ue):(fe=typeof globalThis!="undefined"?globalThis:fe||self,ue(fe.vis=fe.vis||{}))})(Kf,function(fe){var ue=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function le(s){var h={exports:{}};return s(h,h.exports),h.exports}var _e=function(s){return s&&s.Math==Math&&s},ee=_e(typeof globalThis=="object"&&globalThis)||_e(typeof window=="object"&&window)||_e(typeof self=="object"&&self)||_e(typeof ue=="object"&&ue)||function(){return this}()||Function("return this")(),J=function(s){try{return!!s()}catch(h){return!0}},re=!J(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),tt={}.propertyIsEnumerable,Gn=Object.getOwnPropertyDescriptor,Hi=Gn&&!tt.call({1:2},1),_t=Hi?function(h){var p=Gn(this,h);return!!p&&p.enumerable}:tt,jt={f:_t},Ct=function(s,h){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:h}},cn={}.toString,gi=function(s){return cn.call(s).slice(8,-1)},Yr="".split,Ht=J(function(){return!Object("z").propertyIsEnumerable(0)})?function(s){return gi(s)=="String"?Yr.call(s,""):Object(s)}:Object,ot=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s},Ue=function(s){return Ht(ot(s))},Tt=function(s){return typeof s=="object"?s!==null:typeof s=="function"},qe=function(s,h){if(!Tt(s))return s;var p,g;if(h&&typeof(p=s.toString)=="function"&&!Tt(g=p.call(s))||typeof(p=s.valueOf)=="function"&&!Tt(g=p.call(s))||!h&&typeof(p=s.toString)=="function"&&!Tt(g=p.call(s)))return g;throw TypeError("Can't convert object to primitive value")},Ye={}.hasOwnProperty,Xe=function(s,h){return Ye.call(s,h)},qs=ee.document,il=Tt(qs)&&Tt(qs.createElement),Us=function(s){return il?qs.createElement(s):{}},Eo=!re&&!J(function(){return Object.defineProperty(Us("div"),"a",{get:function(){return 7}}).a!=7}),xo=Object.getOwnPropertyDescriptor,Ja=re?xo:function(h,p){if(h=Ue(h),p=qe(p,!0),Eo)try{return xo(h,p)}catch(g){}if(Xe(h,p))return Ct(!jt.f.call(h,p),h[p])},yr={f:Ja},ad=/#|\.prototype\./,es=function(s,h){var p=ud[sd(s)];return p==je?!0:p==at?!1:typeof h=="function"?J(h):!!h},sd=es.normalize=function(s){return String(s).replace(ad,".").toLowerCase()},ud=es.data={},at=es.NATIVE="N",je=es.POLYFILL="P",dn=es,Me={},At=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s},Vt=function(s,h,p){if(At(s),h===void 0)return s;switch(p){case 0:return function(){return s.call(h)};case 1:return function(g){return s.call(h,g)};case 2:return function(g,y){return s.call(h,g,y)};case 3:return function(g,y,w){return s.call(h,g,y,w)}}return function(){return s.apply(h,arguments)}},st=function(s){if(!Tt(s))throw TypeError(String(s)+" is not an object");return s},$i=Object.defineProperty,ld=re?$i:function(h,p,g){if(st(h),p=qe(p,!0),st(g),Eo)try{return $i(h,p,g)}catch(y){}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(h[p]=g.value),h},De={f:ld},ke=re?function(s,h,p){return De.f(s,h,Ct(1,p))}:function(s,h,p){return s[h]=p,s},hd=yr.f,cd=function(s){var h=function(p,g,y){if(this instanceof s){switch(arguments.length){case 0:return new s;case 1:return new s(p);case 2:return new s(p,g)}return new s(p,g,y)}return s.apply(this,arguments)};return h.prototype=s.prototype,h},ze=function(s,h){var p=s.target,g=s.global,y=s.stat,w=s.proto,x=g?ee:y?ee[p]:(ee[p]||{}).prototype,P=g?Me:Me[p]||(Me[p]={}),T=P.prototype,M,N,j,$,ce,Re,$e,rt,Ae;for($ in h)M=dn(g?$:p+(y?".":"#")+$,s.forced),N=!M&&x&&Xe(x,$),Re=P[$],N&&(s.noTargetGet?(Ae=hd(x,$),$e=Ae&&Ae.value):$e=x[$]),ce=N&&$e?$e:h[$],!(N&&typeof Re==typeof ce)&&(s.bind&&N?rt=Vt(ce,ee):s.wrap&&N?rt=cd(ce):w&&typeof ce=="function"?rt=Vt(Function.call,ce):rt=ce,(s.sham||ce&&ce.sham||Re&&Re.sham)&&ke(rt,"sham",!0),P[$]=rt,w&&(j=p+"Prototype",Xe(Me,j)||ke(Me,j,{}),Me[j][$]=ce,s.real&&T&&!T[$]&&ke(T,$,ce)))},mr=Array.isArray||function(h){return gi(h)=="Array"},Gt=Math.ceil,Ih=Math.floor,Vs=function(s){return isNaN(s=+s)?0:(s>0?Ih:Gt)(s)},Yt=Math.min,Wi=function(s){return s>0?Yt(Vs(s),9007199254740991):0},Yn=function(s,h,p,g,y,w,x,P){for(var T=y,M=0,N=x?Vt(x,P,3):!1,j;M<g;){if(M in p){if(j=N?N(p[M],M,h):p[M],w>0&&mr(j))T=Yn(s,h,j,Wi(j.length),T,w-1)-1;else{if(T>=9007199254740991)throw TypeError("Exceed the acceptable array length");s[T]=j}T++}M++}return T},fn=Yn,Ei=function(s){return Object(ot(s))},Ph=function(s,h){try{ke(ee,s,h)}catch(p){ee[s]=h}return h},br="__core-js_shared__",ri=ee[br]||Ph(br,{}),vn=ri,Mt=le(function(s){(s.exports=function(h,p){return vn[h]||(vn[h]=p!==void 0?p:{})})("versions",[]).push({version:"3.7.0",mode:"pure",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})}),Xn=0,Ch=Math.random(),xt=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++Xn+Ch).toString(36)},pt=!!Object.getOwnPropertySymbols&&!J(function(){return!String(Symbol())}),ha=pt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Dn=Mt("wks"),Xr=ee.Symbol,zt=ha?Xr:Xr&&Xr.withoutSetter||xt,nt=function(s){return Xe(Dn,s)||(pt&&Xe(Xr,s)?Dn[s]=Xr[s]:Dn[s]=zt("Symbol."+s)),Dn[s]},Ah=nt("species"),ts=function(s,h){var p;return mr(s)&&(p=s.constructor,typeof p=="function"&&(p===Array||mr(p.prototype))?p=void 0:Tt(p)&&(p=p[Ah],p===null&&(p=void 0))),new(p===void 0?Array:p)(h===0?0:h)};ze({target:"Array",proto:!0},{flatMap:function(h){var p=Ei(this),g=Wi(p.length),y;return At(h),y=ts(p,0),y.length=fn(y,p,p,g,0,1,h,arguments.length>1?arguments[1]:void 0),y}});var Z=function(s){return Me[s+"Prototype"]},wr=Z("Array").flatMap,Kr=Array.prototype,Gs=function(s){var h=s.flatMap;return s===Kr||s instanceof Array&&h===Kr.flatMap?wr:h},Qr=Gs,is=Qr,nl=[].push,_r=function(s){var h=s==1,p=s==2,g=s==3,y=s==4,w=s==6,x=s==5||w;return function(P,T,M,N){for(var j=Ei(P),$=Ht(j),ce=Vt(T,M,3),Re=Wi($.length),$e=0,rt=N||ts,Ae=h?rt(P,Re):p?rt(P,0):void 0,wt,vi;Re>$e;$e++)if((x||$e in $)&&(wt=$[$e],vi=ce(wt,$e,j),s)){if(h)Ae[$e]=vi;else if(vi)switch(s){case 3:return!0;case 5:return wt;case 6:return $e;case 2:nl.call(Ae,wt)}else if(y)return!1}return w?-1:g||y?y:Ae}},Zr={forEach:_r(0),map:_r(1),filter:_r(2),some:_r(3),every:_r(4),find:_r(5),findIndex:_r(6)},ns=function(s){return typeof s=="function"?s:void 0},Jr=function(s,h){return arguments.length<2?ns(Me[s])||ns(ee[s]):Me[s]&&Me[s][h]||ee[s]&&ee[s][h]},xi=Jr("navigator","userAgent")||"",Dh=ee.process,Oo=Dh&&Dh.versions,So=Oo&&Oo.v8,$t,Ys;So?($t=So.split("."),Ys=$t[0]+$t[1]):xi&&($t=xi.match(/Edge\/(\d+)/),(!$t||$t[1]>=74)&&($t=xi.match(/Chrome\/(\d+)/),$t&&(Ys=$t[1])));var rs=Ys&&+Ys,Mh=nt("species"),Mn=function(s){return rs>=51||!J(function(){var h=[],p=h.constructor={};return p[Mh]=function(){return{foo:1}},h[s](Boolean).foo!==1})},Fh=Object.defineProperty,yi={},ca=function(s){throw s},Kn=function(s,h){if(Xe(yi,s))return yi[s];h||(h={});var p=[][s],g=Xe(h,"ACCESSORS")?h.ACCESSORS:!1,y=Xe(h,0)?h[0]:ca,w=Xe(h,1)?h[1]:void 0;return yi[s]=!!p&&!J(function(){if(g&&!re)return!0;var x={length:-1};g?Fh(x,1,{enumerable:!0,get:ca}):x[1]=1,p.call(x,y,w)})},Xs=Zr.map,dd=Mn("map"),To=Kn("map");ze({target:"Array",proto:!0,forced:!dd||!To},{map:function(h){return Xs(this,h,arguments.length>1?arguments[1]:void 0)}});var Kt=Z("Array").map,rl=Array.prototype,fd=function(s){var h=s.map;return s===rl||s instanceof Array&&h===rl.map?Kt:h},kr=fd,Qt=kr,Ks=Zr.filter,qi=Mn("filter"),Nh=Kn("filter");ze({target:"Array",proto:!0,forced:!qi||!Nh},{filter:function(h){return Ks(this,h,arguments.length>1?arguments[1]:void 0)}});var Rh=Z("Array").filter,ol=Array.prototype,Io=function(s){var h=s.filter;return s===ol||s instanceof Array&&h===ol.filter?Rh:h},al=Io,Bt=al,eo=function(s){return function(h,p,g,y){At(p);var w=Ei(h),x=Ht(w),P=Wi(w.length),T=s?P-1:0,M=s?-1:1;if(g<2)for(;;){if(T in x){y=x[T],T+=M;break}if(T+=M,s?T<0:P<=T)throw TypeError("Reduce of empty array with no initial value")}for(;s?T>=0:P>T;T+=M)T in x&&(y=p(y,x[T],T,w));return y}},os={left:eo(!1),right:eo(!0)},da=function(s,h){var p=[][s];return!!p&&J(function(){p.call(null,h||function(){throw 1},1)})},sl=gi(ee.process)=="process",to=os.left,Ui=da("reduce"),ul=Kn("reduce",{1:0}),ll=!sl&&rs>79&&rs<83;ze({target:"Array",proto:!0,forced:!Ui||!ul||ll},{reduce:function(h){return to(this,h,arguments.length,arguments.length>1?arguments[1]:void 0)}});var io=Z("Array").reduce,oi=Array.prototype,jh=function(s){var h=s.reduce;return s===oi||s instanceof Array&&h===oi.reduce?io:h},as=jh,Po=as,zh=[].slice,Ft={},no=function(s,h,p){if(!(h in Ft)){for(var g=[],y=0;y<h;y++)g[y]="a["+y+"]";Ft[h]=Function("C,a","return new C("+g.join(",")+")")}return Ft[h](s,p)},Qs=Function.bind||function(h){var p=At(this),g=zh.call(arguments,1),y=function(){var x=g.concat(zh.call(arguments));return this instanceof y?no(p,x.length,x):p.apply(h,x)};return Tt(p.prototype)&&(y.prototype=p.prototype),y};ze({target:"Function",proto:!0},{bind:Qs});var Zs=Z("Function").bind,Er=Function.prototype,hl=function(s){var h=s.bind;return s===Er||s instanceof Function&&h===Er.bind?Zs:h},cl=hl,Qn=cl;function Zn(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}var Jn=Zn;ze({target:"Object",stat:!0,forced:!re,sham:!re},{defineProperty:De.f});var dl=le(function(s){var h=Me.Object,p=s.exports=function(y,w,x){return h.defineProperty(y,w,x)};h.defineProperty.sham&&(p.sham=!0)}),Js=dl,pn=Js;function Co(s,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),pn(s,g.key,g)}}function eu(s,h,p){return h&&Co(s.prototype,h),p&&Co(s,p),s}var Vi=eu;function Bh(s){return new vd(s)}var Ao=function(){function s(h,p,g){var y,w,x;Jn(this,s),this._source=h,this._transformers=p,this._target=g,this._listeners={add:Qn(y=this._add).call(y,this),remove:Qn(w=this._remove).call(w,this),update:Qn(x=this._update).call(x,this)}}return Vi(s,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(p){var g;return Po(g=this._transformers).call(g,function(y,w){return w(y)},p)}},{key:"_add",value:function(p,g){g!=null&&this._target.add(this._transformItems(this._source.get(g.items)))}},{key:"_update",value:function(p,g){g!=null&&this._target.update(this._transformItems(this._source.get(g.items)))}},{key:"_remove",value:function(p,g){g!=null&&this._target.remove(this._transformItems(g.oldData))}}]),s}(),vd=function(){function s(h){Jn(this,s),this._source=h,this._transformers=[]}return Vi(s,[{key:"filter",value:function(p){return this._transformers.push(function(g){return Bt(g).call(g,p)}),this}},{key:"map",value:function(p){return this._transformers.push(function(g){return Qt(g).call(g,p)}),this}},{key:"flatMap",value:function(p){return this._transformers.push(function(g){return is(g).call(g,p)}),this}},{key:"to",value:function(p){return new Ao(this._source,this._transformers,p)}}]),s}(),fl=dl,tu=fl,ss=Math.max,Fn=Math.min,xr=function(s,h){var p=Vs(s);return p<0?ss(p+h,0):Fn(p,h)},vl=function(s){return function(h,p,g){var y=Ue(h),w=Wi(y.length),x=xr(g,w),P;if(s&&p!=p){for(;w>x;)if(P=y[x++],P!=P)return!0}else for(;w>x;x++)if((s||x in y)&&y[x]===p)return s||x||0;return!s&&-1}},us={includes:vl(!0),indexOf:vl(!1)},er={},iu=us.indexOf,Gi=function(s,h){var p=Ue(s),g=0,y=[],w;for(w in p)!Xe(er,w)&&Xe(p,w)&&y.push(w);for(;h.length>g;)Xe(p,w=h[g++])&&(~iu(y,w)||y.push(w));return y},Do=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tr=Object.keys||function(h){return Gi(h,Do)},fa=re?Object.defineProperties:function(h,p){st(h);for(var g=tr(p),y=g.length,w=0,x;y>w;)De.f(h,x=g[w++],p[x]);return h};ze({target:"Object",stat:!0,forced:!re,sham:!re},{defineProperties:fa});var pl=le(function(s){var h=Me.Object,p=s.exports=function(y,w){return h.defineProperties(y,w)};h.defineProperties.sham&&(p.sham=!0)}),nu=pl,ls=nu,pd=Do.concat("length","prototype"),Wt=Object.getOwnPropertyNames||function(h){return Gi(h,pd)},ru={f:Wt},gl=Object.getOwnPropertySymbols,Mo={f:gl},Lh=Jr("Reflect","ownKeys")||function(h){var p=ru.f(st(h)),g=Mo.f;return g?p.concat(g(h)):p},Oi=function(s,h,p){var g=qe(h);g in s?De.f(s,g,Ct(0,p)):s[g]=p};ze({target:"Object",stat:!0,sham:!re},{getOwnPropertyDescriptors:function(h){for(var p=Ue(h),g=yr.f,y=Lh(p),w={},x=0,P,T;y.length>x;)T=g(p,P=y[x++]),T!==void 0&&Oi(w,P,T);return w}});var gd=Me.Object.getOwnPropertyDescriptors,Hh=gd,Or=Hh,va=yr.f,ou=J(function(){va(1)}),hs=!re||ou;ze({target:"Object",stat:!0,forced:hs,sham:!re},{getOwnPropertyDescriptor:function(h,p){return va(Ue(h),p)}});var pa=le(function(s){var h=Me.Object,p=s.exports=function(y,w){return h.getOwnPropertyDescriptor(y,w)};h.getOwnPropertyDescriptor.sham&&(p.sham=!0)}),au=pa,yl=au,$h=Jr("document","documentElement"),ml=Mt("keys"),Nn=function(s){return ml[s]||(ml[s]=xt(s))},ro=">",Wh="<",bl="prototype",su="script",oo=Nn("IE_PROTO"),Yi=function(){},Fo=function(s){return Wh+su+ro+s+Wh+"/"+su+ro},Lt=function(s){s.write(Fo("")),s.close();var h=s.parentWindow.Object;return s=null,h},gn=function(){var s=Us("iframe"),h="java"+su+":",p;return s.style.display="none",$h.appendChild(s),s.src=String(h),p=s.contentWindow.document,p.open(),p.write(Fo("document.F=Object")),p.close(),p.F},Rn,uu=function(){try{Rn=document.domain&&new ActiveXObject("htmlfile")}catch(h){}uu=Rn?Lt(Rn):gn();for(var s=Do.length;s--;)delete uu[bl][Do[s]];return uu()};er[oo]=!0;var yn=Object.create||function(h,p){var g;return h!==null?(Yi[bl]=st(h),g=new Yi,Yi[bl]=null,g[oo]=h):g=uu(),p===void 0?g:fa(g,p)},Xi=ru.f,Ki={}.toString,No=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],lu=function(s){try{return Xi(s)}catch(h){return No.slice()}},ir=function(h){return No&&Ki.call(h)=="[object Window]"?lu(h):Xi(Ue(h))},wl={f:ir},Nt=function(s,h,p,g){g&&g.enumerable?s[h]=p:ke(s,h,p)},Sr=nt,Tr={f:Sr},hu=De.f,gt=function(s){var h=Me.Symbol||(Me.Symbol={});Xe(h,s)||hu(h,s,{value:Tr.f(s)})},Ir=nt("toStringTag"),Ro={};Ro[Ir]="z";var Zt=String(Ro)==="[object z]",ga=nt("toStringTag"),cu=gi(function(){return arguments}())=="Arguments",_l=function(s,h){try{return s[h]}catch(p){}},mn=Zt?gi:function(s){var h,p,g;return s===void 0?"Undefined":s===null?"Null":typeof(p=_l(h=Object(s),ga))=="string"?p:cu?gi(h):(g=gi(h))=="Object"&&typeof h.callee=="function"?"Arguments":g},bn=Zt?{}.toString:function(){return"[object "+mn(this)+"]"},Si=De.f,jo=nt("toStringTag"),zo=function(s,h,p,g){if(s){var y=p?s:s.prototype;Xe(y,jo)||Si(y,jo,{configurable:!0,value:h}),g&&!Zt&&ke(y,"toString",bn)}},nr=Function.toString;typeof vn.inspectSource!="function"&&(vn.inspectSource=function(s){return nr.call(s)});var qh=vn.inspectSource,cs=ee.WeakMap,rr=typeof cs=="function"&&/native code/.test(qh(cs)),ya=ee.WeakMap,Bo,ui,ds,du=function(s){return ds(s)?ui(s):Bo(s,{})},kl=function(s){return function(h){var p;if(!Tt(h)||(p=ui(h)).type!==s)throw TypeError("Incompatible receiver, "+s+" required");return p}};if(rr){var wn=vn.state||(vn.state=new ya),fu=wn.get,fs=wn.has,vu=wn.set;Bo=function(s,h){return h.facade=s,vu.call(wn,s,h),h},ui=function(s){return fu.call(wn,s)||{}},ds=function(s){return fs.call(wn,s)}}else{var ma=Nn("state");er[ma]=!0,Bo=function(s,h){return h.facade=s,ke(s,ma,h),h},ui=function(s){return Xe(s,ma)?s[ma]:{}},ds=function(s){return Xe(s,ma)}}var jn={set:Bo,get:ui,has:ds,enforce:du,getterFor:kl},vs=Zr.forEach,Jt=Nn("hidden"),ao="Symbol",or="prototype",_n=nt("toPrimitive"),El=jn.set,Uh=jn.getterFor(ao),Ti=Object[or],Rt=ee.Symbol,ba=Jr("JSON","stringify"),Pr=yr.f,kn=De.f,ps=wl.f,gs=jt.f,ae=Mt("symbols"),Lo=Mt("op-symbols"),pu=Mt("string-to-symbol-registry"),ve=Mt("symbol-to-string-registry"),gu=Mt("wks"),yu=ee.QObject,mu=!yu||!yu[or]||!yu[or].findChild,wa=re&&J(function(){return yn(kn({},"a",{get:function(){return kn(this,"a",{value:7}).a}})).a!=7})?function(s,h,p){var g=Pr(Ti,h);g&&delete Ti[h],kn(s,h,p),g&&s!==Ti&&kn(Ti,h,g)}:kn,Ii=function(s,h){var p=ae[s]=yn(Rt[or]);return El(p,{type:ao,tag:s,description:h}),re||(p.description=h),p},Ho=ha?function(s){return typeof s=="symbol"}:function(s){return Object(s)instanceof Rt},$o=function(h,p,g){h===Ti&&$o(Lo,p,g),st(h);var y=qe(p,!0);return st(g),Xe(ae,y)?(g.enumerable?(Xe(h,Jt)&&h[Jt][y]&&(h[Jt][y]=!1),g=yn(g,{enumerable:Ct(0,!1)})):(Xe(h,Jt)||kn(h,Jt,Ct(1,{})),h[Jt][y]=!0),wa(h,y,g)):kn(h,y,g)},xl=function(h,p){st(h);var g=Ue(p),y=tr(g).concat(Cr(g));return vs(y,function(w){(!re||Vh.call(g,w))&&$o(h,w,g[w])}),h},yd=function(h,p){return p===void 0?yn(h):xl(yn(h),p)},Vh=function(h){var p=qe(h,!0),g=gs.call(this,p);return this===Ti&&Xe(ae,p)&&!Xe(Lo,p)?!1:g||!Xe(this,p)||!Xe(ae,p)||Xe(this,Jt)&&this[Jt][p]?g:!0},Ol=function(h,p){var g=Ue(h),y=qe(p,!0);if(!(g===Ti&&Xe(ae,y)&&!Xe(Lo,y))){var w=Pr(g,y);return w&&Xe(ae,y)&&!(Xe(g,Jt)&&g[Jt][y])&&(w.enumerable=!0),w}},bu=function(h){var p=ps(Ue(h)),g=[];return vs(p,function(y){!Xe(ae,y)&&!Xe(er,y)&&g.push(y)}),g},Cr=function(h){var p=h===Ti,g=ps(p?Lo:Ue(h)),y=[];return vs(g,function(w){Xe(ae,w)&&(!p||Xe(Ti,w))&&y.push(ae[w])}),y};if(pt||(Rt=function(){if(this instanceof Rt)throw TypeError("Symbol is not a constructor");var h=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),p=xt(h),g=function(y){this===Ti&&g.call(Lo,y),Xe(this,Jt)&&Xe(this[Jt],p)&&(this[Jt][p]=!1),wa(this,p,Ct(1,y))};return re&&mu&&wa(Ti,p,{configurable:!0,set:g}),Ii(p,h)},Nt(Rt[or],"toString",function(){return Uh(this).tag}),Nt(Rt,"withoutSetter",function(s){return Ii(xt(s),s)}),jt.f=Vh,De.f=$o,yr.f=Ol,ru.f=wl.f=bu,Mo.f=Cr,Tr.f=function(s){return Ii(nt(s),s)},re&&kn(Rt[or],"description",{configurable:!0,get:function(){return Uh(this).description}})),ze({global:!0,wrap:!0,forced:!pt,sham:!pt},{Symbol:Rt}),vs(tr(gu),function(s){gt(s)}),ze({target:ao,stat:!0,forced:!pt},{for:function(s){var h=String(s);if(Xe(pu,h))return pu[h];var p=Rt(h);return pu[h]=p,ve[p]=h,p},keyFor:function(h){if(!Ho(h))throw TypeError(h+" is not a symbol");if(Xe(ve,h))return ve[h]},useSetter:function(){mu=!0},useSimple:function(){mu=!1}}),ze({target:"Object",stat:!0,forced:!pt,sham:!re},{create:yd,defineProperty:$o,defineProperties:xl,getOwnPropertyDescriptor:Ol}),ze({target:"Object",stat:!0,forced:!pt},{getOwnPropertyNames:bu,getOwnPropertySymbols:Cr}),ze({target:"Object",stat:!0,forced:J(function(){Mo.f(1)})},{getOwnPropertySymbols:function(h){return Mo.f(Ei(h))}}),ba){var md=!pt||J(function(){var s=Rt();return ba([s])!="[null]"||ba({a:s})!="{}"||ba(Object(s))!="{}"});ze({target:"JSON",stat:!0,forced:md},{stringify:function(h,p,g){for(var y=[h],w=1,x;arguments.length>w;)y.push(arguments[w++]);if(x=p,!(!Tt(p)&&h===void 0||Ho(h)))return mr(p)||(p=function(P,T){if(typeof x=="function"&&(T=x.call(this,P,T)),!Ho(T))return T}),y[1]=p,ba.apply(null,y)}})}Rt[or][_n]||ke(Rt[or],_n,Rt[or].valueOf),zo(Rt,ao),er[Jt]=!0;var Sl=Me.Object.getOwnPropertySymbols,bd=Sl,Tl=bd,Qi={},Gh=!J(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}),Yh=Nn("IE_PROTO"),Il=Object.prototype,_a=Gh?Object.getPrototypeOf:function(s){return s=Ei(s),Xe(s,Yh)?s[Yh]:typeof s.constructor=="function"&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?Il:null},Pl=nt("iterator"),Cl=!1,Wo,ys,It;[].keys&&(It=[].keys(),"next"in It?(ys=_a(_a(It)),ys!==Object.prototype&&(Wo=ys)):Cl=!0),Wo==null&&(Wo={});var Al={IteratorPrototype:Wo,BUGGY_SAFARI_ITERATORS:Cl},kt=Al.IteratorPrototype,ar=function(){return this},sr=function(s,h,p){var g=h+" Iterator";return s.prototype=yn(kt,{next:Ct(1,p)}),zo(s,g,!1,!0),Qi[g]=ar,s},wd=function(s){if(!Tt(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s},ka=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,h={},p;try{p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,p.call(h,[]),s=h instanceof Array}catch(g){}return function(y,w){return st(y),wd(w),s?p.call(y,w):y.__proto__=w,y}}():void 0),Ar=Al.IteratorPrototype,Ot=Al.BUGGY_SAFARI_ITERATORS,ut=nt("iterator"),Xh="keys",wu="values",_u="entries",Dl=function(){return this},so=function(s,h,p,g,y,w,x){sr(p,h,g);var P=function(Ae){if(Ae===y&&$)return $;if(!Ot&&Ae in N)return N[Ae];switch(Ae){case Xh:return function(){return new p(this,Ae)};case wu:return function(){return new p(this,Ae)};case _u:return function(){return new p(this,Ae)}}return function(){return new p(this)}},T=h+" Iterator",M=!1,N=s.prototype,j=N[ut]||N["@@iterator"]||y&&N[y],$=!Ot&&j||P(y),ce=h=="Array"&&N.entries||j,Re,$e,rt;if(ce&&(Re=_a(ce.call(new s)),Ar!==Object.prototype&&Re.next&&(zo(Re,T,!0,!0),Qi[T]=Dl)),y==wu&&j&&j.name!==wu&&(M=!0,$=function(){return j.call(this)}),x&&N[ut]!==$&&ke(N,ut,$),Qi[h]=$,y)if($e={values:P(wu),keys:w?$:P(Xh),entries:P(_u)},x)for(rt in $e)(Ot||M||!(rt in N))&&Nt(N,rt,$e[rt]);else ze({target:h,proto:!0,forced:Ot||M},$e);return $e},Kh="Array Iterator",Dt=jn.set,ms=jn.getterFor(Kh),bs=so(Array,"Array",function(s,h){Dt(this,{type:Kh,target:Ue(s),index:0,kind:h})},function(){var s=ms(this),h=s.target,p=s.kind,g=s.index++;return!h||g>=h.length?(s.target=void 0,{value:void 0,done:!0}):p=="keys"?{value:g,done:!1}:p=="values"?{value:h[g],done:!1}:{value:[g,h[g]],done:!1}},"values");Qi.Arguments=Qi.Array;var _d={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ml=nt("toStringTag");for(var Ea in _d){var Fl=ee[Ea],ku=Fl&&Fl.prototype;ku&&mn(ku)!==Ml&&ke(ku,Ml,Ea),Qi[Ea]=Qi.Array}var yt=function(s){return function(h,p){var g=String(ot(h)),y=Vs(p),w=g.length,x,P;return y<0||y>=w?s?"":void 0:(x=g.charCodeAt(y),x<55296||x>56319||y+1===w||(P=g.charCodeAt(y+1))<56320||P>57343?s?g.charAt(y):x:s?g.slice(y,y+2):(x-55296<<10)+(P-56320)+65536)}},Qh={codeAt:yt(!1),charAt:yt(!0)},Zh=Qh.charAt,Jh="String Iterator",ec=jn.set,qo=jn.getterFor(Jh);so(String,"String",function(s){ec(this,{type:Jh,string:String(s),index:0})},function(){var h=qo(this),p=h.string,g=h.index,y;return g>=p.length?{value:void 0,done:!0}:(y=Zh(p,g),h.index+=y.length,{value:y,done:!1})});var kd=nt("iterator"),Eu=function(s){if(s!=null)return s[kd]||s["@@iterator"]||Qi[mn(s)]},Ed=function(s){var h=Eu(s);if(typeof h!="function")throw TypeError(String(s)+" is not iterable");return st(h.call(s))},xd=Ed,Zi=xd,tc=Eu,xa=tc,En=function(s){var h=s.return;if(h!==void 0)return st(h.call(s)).value},Od=function(s,h,p,g){try{return g?h(st(p)[0],p[1]):h(p)}catch(y){throw En(s),y}},Sd=nt("iterator"),Td=Array.prototype,ic=function(s){return s!==void 0&&(Qi.Array===s||Td[Sd]===s)},Id=function(h){var p=Ei(h),g=typeof this=="function"?this:Array,y=arguments.length,w=y>1?arguments[1]:void 0,x=w!==void 0,P=Eu(p),T=0,M,N,j,$,ce,Re;if(x&&(w=Vt(w,y>2?arguments[2]:void 0,2)),P!=null&&!(g==Array&&ic(P)))for($=P.call(p),ce=$.next,N=new g;!(j=ce.call($)).done;T++)Re=x?Od($,w,[j.value,T],!0):j.value,Oi(N,T,Re);else for(M=Wi(p.length),N=new g(M);M>T;T++)Re=x?w(p[T],T):p[T],Oi(N,T,Re);return N.length=T,N},nc=nt("iterator"),Nl=!1;try{var Rl=0,xn={next:function(){return{done:!!Rl++}},return:function(){Nl=!0}};xn[nc]=function(){return this},Array.from(xn,function(){throw 2})}catch(s){}var Pd=function(s,h){if(!h&&!Nl)return!1;var p=!1;try{var g={};g[nc]=function(){return{next:function(){return{done:p=!0}}}},s(g)}catch(y){}return p},jl=!Pd(function(s){Array.from(s)});ze({target:"Array",stat:!0,forced:jl},{from:Id});var zl=Me.Array.from,rc=zl,xu=rc,Cd=function(h){for(var p=Ei(this),g=Wi(p.length),y=arguments.length,w=xr(y>1?arguments[1]:void 0,g),x=y>2?arguments[2]:void 0,P=x===void 0?g:xr(x,g);P>w;)p[w++]=h;return p};ze({target:"Array",proto:!0},{fill:Cd});var Ad=Z("Array").fill,Pi=[].slice,oc=/MSIE .\./.test(xi),Bl=function(s){return function(h,p){var g=arguments.length>2,y=g?Pi.call(arguments,2):void 0;return s(g?function(){(typeof h=="function"?h:Function(h)).apply(this,y)}:h,p)}};ze({global:!0,bind:!0,forced:oc},{setTimeout:Bl(ee.setTimeout),setInterval:Bl(ee.setInterval)});var ac=Me.setTimeout,Oa=ac,Ci=Jr("JSON","stringify"),sc=/[\uD800-\uDFFF]/g,Ll=/^[\uD800-\uDBFF]$/,Ou=/^[\uDC00-\uDFFF]$/,Hl=function(s,h,p){var g=p.charAt(h-1),y=p.charAt(h+1);return Ll.test(s)&&!Ou.test(y)||Ou.test(s)&&!Ll.test(g)?"\\u"+s.charCodeAt(0).toString(16):s},uc=J(function(){return Ci("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ci("\uDEAD")!=='"\\udead"'});Ci&&ze({target:"JSON",stat:!0,forced:uc},{stringify:function(h,p,g){var y=Ci.apply(null,arguments);return typeof y=="string"?y.replace(sc,Hl):y}}),Me.JSON||(Me.JSON={stringify:JSON.stringify});var ws=function(h,p,g){return Me.JSON.stringify.apply(null,arguments)},lc=ws,$l=lc;ze({target:"Object",stat:!0,sham:!re},{create:yn});var zn=Me.Object,hc=function(h,p){return zn.create(h,p)},cc=hc,Wl=cc;function Sa(s,h,p){return h in s?pn(s,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[h]=p,s}var Bn=Sa,Ta=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,_s="["+Ta+"]",ct=RegExp("^"+_s+_s+"*"),Dd=RegExp(_s+_s+"*$"),ql=function(s){return function(h){var p=String(ot(h));return s&1&&(p=p.replace(ct,"")),s&2&&(p=p.replace(Dd,"")),p}},Ul={start:ql(1),end:ql(2),trim:ql(3)},uo="\u200B\x85\u180E",ks=function(s){return J(function(){return!!Ta[s]()||uo[s]()!=uo||Ta[s].name!==s})},dc=Ul.trim;ze({target:"String",proto:!0,forced:ks("trim")},{trim:function(){return dc(this)}});var Md=Z("String").trim,Su=us.indexOf,Vl=[].indexOf,fc=!!Vl&&1/[1].indexOf(1,-0)<0,ei=da("indexOf"),Fd=Kn("indexOf",{ACCESSORS:!0,1:0});ze({target:"Array",proto:!0,forced:fc||!ei||!Fd},{indexOf:function(h){return fc?Vl.apply(this,arguments)||0:Su(this,h,arguments.length>1?arguments[1]:void 0)}});var vc=Z("Array").indexOf,li=Ul.trim,Ai=ee.parseInt,Nd=/^[+-]?0[Xx]/,Ji=Ai(Ta+"08")!==8||Ai(Ta+"0x16")!==22,Uo=Ji?function(h,p){var g=li(String(h));return Ai(g,p>>>0||(Nd.test(g)?16:10))}:Ai;ze({global:!0,forced:parseInt!=Uo},{parseInt:Uo});var Di=jt.f,en=function(s){return function(h){for(var p=Ue(h),g=tr(p),y=g.length,w=0,x=[],P;y>w;)P=g[w++],(!re||Di.call(p,P))&&x.push(s?[P,p[P]]:p[P]);return x}},Tu={entries:en(!0),values:en(!1)},lo=Tu.values;ze({target:"Object",stat:!0},{values:function(h){return lo(h)}});var qt=Me.Object.values,pc=J(function(){_a(1)});ze({target:"Object",stat:!0,forced:pc,sham:!Gh},{getPrototypeOf:function(h){return _a(Ei(h))}});var gc=Me.Object.getPrototypeOf,Dr=us.includes,Ln=Kn("indexOf",{ACCESSORS:!0,1:0});ze({target:"Array",proto:!0,forced:!Ln},{includes:function(h){return Dr(this,h,arguments.length>1?arguments[1]:void 0)}});var yc=Z("Array").includes,tn=nt("match"),nn=function(s){var h;return Tt(s)&&((h=s[tn])!==void 0?!!h:gi(s)=="RegExp")},Es=function(s){if(nn(s))throw TypeError("The method doesn't accept regular expressions");return s},Mr=nt("match"),ho=function(s){var h=/./;try{"/./"[s](h)}catch(p){try{return h[Mr]=!1,"/./"[s](h)}catch(g){}}return!1};ze({target:"String",proto:!0,forced:!ho("includes")},{includes:function(h){return!!~String(ot(this)).indexOf(Es(h),arguments.length>1?arguments[1]:void 0)}});var Gl=Z("String").includes,Hn=Object.assign,ur=Object.defineProperty,$n=!Hn||J(function(){if(re&&Hn({b:1},Hn(ur({},"a",{enumerable:!0,get:function(){ur(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},h={},p=Symbol(),g="abcdefghijklmnopqrst";return s[p]=7,g.split("").forEach(function(y){h[y]=y}),Hn({},s)[p]!=7||tr(Hn({},h)).join("")!=g})?function(h,p){for(var g=Ei(h),y=arguments.length,w=1,x=Mo.f,P=jt.f;y>w;)for(var T=Ht(arguments[w++]),M=x?tr(T).concat(x(T)):tr(T),N=M.length,j=0,$;N>j;)$=M[j++],(!re||P.call(T,$))&&(g[$]=T[$]);return g}:Hn;ze({target:"Object",stat:!0,forced:Object.assign!==$n},{assign:$n});var Ia=Me.Object.assign,xs=Ia,Yl=xs,mc=Mn("splice"),Pa=Kn("splice",{ACCESSORS:!0,0:0,1:2}),Iu=Math.max,Vo=Math.min,Fr=9007199254740991,Os="Maximum allowed length exceeded";ze({target:"Array",proto:!0,forced:!mc||!Pa},{splice:function(h,p){var g=Ei(this),y=Wi(g.length),w=xr(h,y),x=arguments.length,P,T,M,N,j,$;if(x===0?P=T=0:x===1?(P=0,T=y-w):(P=x-2,T=Vo(Iu(Vs(p),0),y-w)),y+P-T>Fr)throw TypeError(Os);for(M=ts(g,T),N=0;N<T;N++)j=w+N,j in g&&Oi(M,N,g[j]);if(M.length=T,P<T){for(N=w;N<y-T;N++)j=N+T,$=N+P,j in g?g[$]=g[j]:delete g[$];for(N=y;N>y-T+P;N--)delete g[N-1]}else if(P>T)for(N=y-T;N>w;N--)j=N+T-1,$=N+P-1,j in g?g[$]=g[j]:delete g[$];for(N=0;N<P;N++)g[N+w]=arguments[N+2];return g.length=y-T+P,M}});var Go=Z("Array").splice,rn=Array.prototype,Ss=function(s){var h=s.splice;return s===rn||s instanceof Array&&h===rn.splice?Go:h},Yo=Ss,Xl=Yo,Xo=[].reverse,Ts=[1,2];ze({target:"Array",proto:!0,forced:String(Ts)===String(Ts.reverse())},{reverse:function(){return mr(this)&&(this.length=this.length),Xo.call(this)}});var Ca=Z("Array").reverse,co=Array.prototype,Pu=function(s){var h=s.reverse;return s===co||s instanceof Array&&h===co.reverse?Ca:h},Is=Pu,lr=Is,Cu=Zr.forEach,Ko=da("forEach"),Aa=Kn("forEach"),fo=!Ko||!Aa?function(h){return Cu(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach;ze({target:"Array",proto:!0,forced:[].forEach!=fo},{forEach:fo});var Da=Z("Array").forEach,Kl=Da,hr=Array.prototype,Nr={DOMTokenList:!0,NodeList:!0},bc=function(s){var h=s.forEach;return s===hr||s instanceof Array&&h===hr.forEach||Nr.hasOwnProperty(mn(s))?Kl:h},Rr=bc;ze({target:"Array",stat:!0},{isArray:mr});var Ql=Me.Array.isArray,wc=Ql,Qo=wc;function jr(s){if(Qo(s))return s}var Zo=jr,_c=nt("iterator"),Ma=function(s){var h=Object(s);return h[_c]!==void 0||"@@iterator"in h||Qi.hasOwnProperty(mn(h))},zr=Ma,kc=zr,Ec=nt("isConcatSpreadable"),Zl=9007199254740991,Jl="Maximum allowed index exceeded",Au=rs>=51||!J(function(){var s=[];return s[Ec]=!1,s.concat()[0]!==s}),Fa=Mn("concat"),eh=function(s){if(!Tt(s))return!1;var h=s[Ec];return h!==void 0?!!h:mr(s)},Rd=!Au||!Fa;ze({target:"Array",proto:!0,forced:Rd},{concat:function(h){var p=Ei(this),g=ts(p,0),y=0,w,x,P,T,M;for(w=-1,P=arguments.length;w<P;w++)if(M=w===-1?p:arguments[w],eh(M)){if(T=Wi(M.length),y+T>Zl)throw TypeError(Jl);for(x=0;x<T;x++,y++)x in M&&Oi(g,y,M[x])}else{if(y>=Zl)throw TypeError(Jl);Oi(g,y++,M)}return g.length=y,g}}),gt("asyncIterator"),gt("hasInstance"),gt("isConcatSpreadable"),gt("iterator"),gt("match"),gt("matchAll"),gt("replace"),gt("search"),gt("species"),gt("split"),gt("toPrimitive"),gt("toStringTag"),gt("unscopables"),zo(ee.JSON,"JSON",!0);var th=Me.Symbol;gt("asyncDispose"),gt("dispose"),gt("observable"),gt("patternMatch"),gt("replaceAll");var vo=th,on=vo;function jd(s,h){if(!(typeof on=="undefined"||!kc(Object(s)))){var p=[],g=!0,y=!1,w=void 0;try{for(var x=Zi(s),P;!(g=(P=x.next()).done)&&(p.push(P.value),!(h&&p.length===h));g=!0);}catch(T){y=!0,w=T}finally{try{!g&&x.return!=null&&x.return()}finally{if(y)throw w}}return p}}var Du=jd,xc=zl,po=xc,Mu=Mn("slice"),Na=Kn("slice",{ACCESSORS:!0,0:0,1:2}),Oc=nt("species"),Fu=[].slice,Jo=Math.max;ze({target:"Array",proto:!0,forced:!Mu||!Na},{slice:function(h,p){var g=Ue(this),y=Wi(g.length),w=xr(h,y),x=xr(p===void 0?y:p,y),P,T,M;if(mr(g)&&(P=g.constructor,typeof P=="function"&&(P===Array||mr(P.prototype))?P=void 0:Tt(P)&&(P=P[Oc],P===null&&(P=void 0)),P===Array||P===void 0))return Fu.call(g,w,x);for(T=new(P===void 0?Array:P)(Jo(x-w,0)),M=0;w<x;w++,M++)w in g&&Oi(T,M,g[w]);return T.length=M,T}});var Br=Z("Array").slice,ih=Array.prototype,Ra=function(s){var h=s.slice;return s===ih||s instanceof Array&&h===ih.slice?Br:h},nh=Ra,ja=nh;function Nu(s,h){(h==null||h>s.length)&&(h=s.length);for(var p=0,g=new Array(h);p<h;p++)g[p]=s[p];return g}var Lr=Nu;function Sc(s,h){var p;if(!!s){if(typeof s=="string")return Lr(s,h);var g=ja(p=Object.prototype.toString.call(s)).call(p,8,-1);if(g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set")return po(s);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Lr(s,h)}}var Ru=Sc;function Tc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ic=Tc;function Pc(s,h){return Zo(s)||Du(s,h)||Ru(s,h)||Ic()}var hi=Pc;ze({target:"Date",stat:!0},{now:function(){return new Date().getTime()}});var Cc=Me.Date.now,Ac=J(function(){tr(1)});ze({target:"Object",stat:!0,forced:Ac},{keys:function(h){return tr(Ei(h))}});var Dc=Me.Object.keys,rh=Dc,oh=rh,Mc=Ql,ci=Mc,Ps=Tr.f("iterator"),zd=Ps,Fc=zd,mi=le(function(s){function h(p){return typeof on=="function"&&typeof Fc=="symbol"?s.exports=h=function(y){return typeof y}:s.exports=h=function(y){return y&&typeof on=="function"&&y.constructor===on&&y!==on.prototype?"symbol":typeof y},h(p)}s.exports=h});ze({target:"Reflect",stat:!0},{ownKeys:Lh});var cr=Me.Reflect.ownKeys,Bd=cr,ah=Bd,Ld=Ra,za=Ld;function Hr(s){if(Qo(s))return Lr(s)}var dr=Hr;function sh(s){if(typeof on!="undefined"&&kc(Object(s)))return po(s)}var fr=sh;function uh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ea=uh;function ju(s){return dr(s)||fr(s)||Ru(s)||ea()}var Be=ju,Ba=Z("Array").concat,lh=Array.prototype,Nc=function(s){var h=s.concat;return s===lh||s instanceof Array&&h===lh.concat?Ba:h},Qe=Nc,an=Qe,On=th,ta=On,hh=le(function(s){s.exports=h;function h(g){if(g)return p(g)}function p(g){for(var y in h.prototype)g[y]=h.prototype[y];return g}h.prototype.on=h.prototype.addEventListener=function(g,y){return this._callbacks=this._callbacks||{},(this._callbacks["$"+g]=this._callbacks["$"+g]||[]).push(y),this},h.prototype.once=function(g,y){function w(){this.off(g,w),y.apply(this,arguments)}return w.fn=y,this.on(g,w),this},h.prototype.off=h.prototype.removeListener=h.prototype.removeAllListeners=h.prototype.removeEventListener=function(g,y){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var w=this._callbacks["$"+g];if(!w)return this;if(arguments.length==1)return delete this._callbacks["$"+g],this;for(var x,P=0;P<w.length;P++)if(x=w[P],x===y||x.fn===y){w.splice(P,1);break}return w.length===0&&delete this._callbacks["$"+g],this},h.prototype.emit=function(g){this._callbacks=this._callbacks||{};for(var y=new Array(arguments.length-1),w=this._callbacks["$"+g],x=1;x<arguments.length;x++)y[x-1]=arguments[x];if(w){w=w.slice(0);for(var x=0,P=w.length;x<P;++x)w[x].apply(this,y)}return this},h.prototype.listeners=function(g){return this._callbacks=this._callbacks||{},this._callbacks["$"+g]||[]},h.prototype.hasListeners=function(g){return!!this.listeners(g).length}});function bi(){return bi=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(s[g]=p[g])}return s},bi.apply(this,arguments)}function mt(s,h){s.prototype=Object.create(h.prototype),s.prototype.constructor=s,s.__proto__=h}function Sn(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var zu;typeof Object.assign!="function"?zu=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var p=Object(h),g=1;g<arguments.length;g++){var y=arguments[g];if(y!=null)for(var w in y)y.hasOwnProperty(w)&&(p[w]=y[w])}return p}:zu=Object.assign;var $r=zu,Rc=["","webkit","Moz","MS","ms","o"],Wr=typeof document=="undefined"?{style:{}}:document.createElement("div"),Mi="function",ia=Math.round,Fi=Math.abs,ch=Date.now;function Bu(s,h){for(var p,g,y=h[0].toUpperCase()+h.slice(1),w=0;w<Rc.length;){if(p=Rc[w],g=p?p+y:h,g in s)return g;w++}}var Wn;typeof window=="undefined"?Wn={}:Wn=window;var Lu=Bu(Wr.style,"touchAction"),go=Lu!==void 0;function dh(){if(!go)return!1;var s={},h=Wn.CSS&&Wn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(p){return s[p]=h?Wn.CSS.supports("touch-action",p):!0}),s}var fh="compute",jc="auto",Ni="manipulation",na="none",La="pan-x",Cs="pan-y",As=dh(),vh=/mobile|tablet|ip(ad|hone|od)|android/i,Hu="ontouchstart"in Wn,zc=Bu(Wn,"PointerEvent")!==void 0,$u=Hu&&vh.test(navigator.userAgent),ai="touch",Bc="pen",Ds="mouse",yo="kinect",Ha=25,Fe=1,Pe=2,ht=4,dt=8,vr=1,$a=2,sn=4,Wa=8,qr=16,qn=$a|sn,Ur=Wa|qr,bt=qn|Ur,Wu=["x","y"],qu=["clientX","clientY"];function Un(s,h,p){var g;if(!!s)if(s.forEach)s.forEach(h,p);else if(s.length!==void 0)for(g=0;g<s.length;)h.call(p,s[g],g,s),g++;else for(g in s)s.hasOwnProperty(g)&&h.call(p,s[g],g,s)}function qa(s,h){return typeof s===Mi?s.apply(h&&h[0]||void 0,h):s}function un(s,h){return s.indexOf(h)>-1}function di(s){if(un(s,na))return na;var h=un(s,La),p=un(s,Cs);return h&&p?na:h||p?h?La:Cs:un(s,Ni)?Ni:jc}var Uu=function(){function s(p,g){this.manager=p,this.set(g)}var h=s.prototype;return h.set=function(g){g===fh&&(g=this.compute()),go&&this.manager.element.style&&As[g]&&(this.manager.element.style[Lu]=g),this.actions=g.toLowerCase().trim()},h.update=function(){this.set(this.manager.options.touchAction)},h.compute=function(){var g=[];return Un(this.manager.recognizers,function(y){qa(y.options.enable,[y])&&(g=g.concat(y.getTouchAction()))}),di(g.join(" "))},h.preventDefaults=function(g){var y=g.srcEvent,w=g.offsetDirection;if(this.manager.session.prevented){y.preventDefault();return}var x=this.actions,P=un(x,na)&&!As[na],T=un(x,Cs)&&!As[Cs],M=un(x,La)&&!As[La];if(P){var N=g.pointers.length===1,j=g.distance<2,$=g.deltaTime<250;if(N&&j&&$)return}if(!(M&&T)&&(P||T&&w&qn||M&&w&Ur))return this.preventSrc(y)},h.preventSrc=function(g){this.manager.session.prevented=!0,g.preventDefault()},s}();function ra(s,h){for(;s;){if(s===h)return!0;s=s.parentNode}return!1}function ph(s){var h=s.length;if(h===1)return{x:ia(s[0].clientX),y:ia(s[0].clientY)};for(var p=0,g=0,y=0;y<h;)p+=s[y].clientX,g+=s[y].clientY,y++;return{x:ia(p/h),y:ia(g/h)}}function Vu(s){for(var h=[],p=0;p<s.pointers.length;)h[p]={clientX:ia(s.pointers[p].clientX),clientY:ia(s.pointers[p].clientY)},p++;return{timeStamp:ch(),pointers:h,center:ph(h),deltaX:s.deltaX,deltaY:s.deltaY}}function Gu(s,h,p){p||(p=Wu);var g=h[p[0]]-s[p[0]],y=h[p[1]]-s[p[1]];return Math.sqrt(g*g+y*y)}function Ms(s,h,p){p||(p=Wu);var g=h[p[0]]-s[p[0]],y=h[p[1]]-s[p[1]];return Math.atan2(y,g)*180/Math.PI}function ti(s,h){return s===h?vr:Fi(s)>=Fi(h)?s<0?$a:sn:h<0?Wa:qr}function gh(s,h){var p=h.center,g=s.offsetDelta||{},y=s.prevDelta||{},w=s.prevInput||{};(h.eventType===Fe||w.eventType===ht)&&(y=s.prevDelta={x:w.deltaX||0,y:w.deltaY||0},g=s.offsetDelta={x:p.x,y:p.y}),h.deltaX=y.x+(p.x-g.x),h.deltaY=y.y+(p.y-g.y)}function Lc(s,h,p){return{x:h/s||0,y:p/s||0}}function Yu(s,h){return Gu(h[0],h[1],qu)/Gu(s[0],s[1],qu)}function Hc(s,h){return Ms(h[1],h[0],qu)+Ms(s[1],s[0],qu)}function Fs(s,h){var p=s.lastInterval||h,g=h.timeStamp-p.timeStamp,y,w,x,P;if(h.eventType!==dt&&(g>Ha||p.velocity===void 0)){var T=h.deltaX-p.deltaX,M=h.deltaY-p.deltaY,N=Lc(g,T,M);w=N.x,x=N.y,y=Fi(N.x)>Fi(N.y)?N.x:N.y,P=ti(T,M),s.lastInterval=h}else y=p.velocity,w=p.velocityX,x=p.velocityY,P=p.direction;h.velocity=y,h.velocityX=w,h.velocityY=x,h.direction=P}function mo(s,h){var p=s.session,g=h.pointers,y=g.length;p.firstInput||(p.firstInput=Vu(h)),y>1&&!p.firstMultiple?p.firstMultiple=Vu(h):y===1&&(p.firstMultiple=!1);var w=p.firstInput,x=p.firstMultiple,P=x?x.center:w.center,T=h.center=ph(g);h.timeStamp=ch(),h.deltaTime=h.timeStamp-w.timeStamp,h.angle=Ms(P,T),h.distance=Gu(P,T),gh(p,h),h.offsetDirection=ti(h.deltaX,h.deltaY);var M=Lc(h.deltaTime,h.deltaX,h.deltaY);h.overallVelocityX=M.x,h.overallVelocityY=M.y,h.overallVelocity=Fi(M.x)>Fi(M.y)?M.x:M.y,h.scale=x?Yu(x.pointers,g):1,h.rotation=x?Hc(x.pointers,g):0,h.maxPointers=p.prevInput?h.pointers.length>p.prevInput.maxPointers?h.pointers.length:p.prevInput.maxPointers:h.pointers.length,Fs(p,h);var N=s.element,j=h.srcEvent,$;j.composedPath?$=j.composedPath()[0]:j.path?$=j.path[0]:$=j.target,ra($,N)&&(N=$),h.target=N}function Tn(s,h,p){var g=p.pointers.length,y=p.changedPointers.length,w=h&Fe&&g-y==0,x=h&(ht|dt)&&g-y==0;p.isFirst=!!w,p.isFinal=!!x,w&&(s.session={}),p.eventType=h,mo(s,p),s.emit("hammer.input",p),s.recognize(p),s.session.prevInput=p}function bo(s){return s.trim().split(/\s+/g)}function oa(s,h,p){Un(bo(h),function(g){s.addEventListener(g,p,!1)})}function Ua(s,h,p){Un(bo(h),function(g){s.removeEventListener(g,p,!1)})}function yh(s){var h=s.ownerDocument||s;return h.defaultView||h.parentWindow||window}var wo=function(){function s(p,g){var y=this;this.manager=p,this.callback=g,this.element=p.element,this.target=p.options.inputTarget,this.domHandler=function(w){qa(p.options.enable,[p])&&y.handler(w)},this.init()}var h=s.prototype;return h.handler=function(){},h.init=function(){this.evEl&&oa(this.element,this.evEl,this.domHandler),this.evTarget&&oa(this.target,this.evTarget,this.domHandler),this.evWin&&oa(yh(this.element),this.evWin,this.domHandler)},h.destroy=function(){this.evEl&&Ua(this.element,this.evEl,this.domHandler),this.evTarget&&Ua(this.target,this.evTarget,this.domHandler),this.evWin&&Ua(yh(this.element),this.evWin,this.domHandler)},s}();function pr(s,h,p){if(s.indexOf&&!p)return s.indexOf(h);for(var g=0;g<s.length;){if(p&&s[g][p]==h||!p&&s[g]===h)return g;g++}return-1}var Ns={pointerdown:Fe,pointermove:Pe,pointerup:ht,pointercancel:dt,pointerout:dt},mh={2:ai,3:Bc,4:Ds,5:yo},$c="pointerdown",Xu="pointermove pointerup pointercancel";Wn.MSPointerEvent&&!Wn.PointerEvent&&($c="MSPointerDown",Xu="MSPointerMove MSPointerUp MSPointerCancel");var bh=function(s){mt(h,s);function h(){var g,y=h.prototype;return y.evEl=$c,y.evWin=Xu,g=s.apply(this,arguments)||this,g.store=g.manager.session.pointerEvents=[],g}var p=h.prototype;return p.handler=function(y){var w=this.store,x=!1,P=y.type.toLowerCase().replace("ms",""),T=Ns[P],M=mh[y.pointerType]||y.pointerType,N=M===ai,j=pr(w,y.pointerId,"pointerId");T&Fe&&(y.button===0||N)?j<0&&(w.push(y),j=w.length-1):T&(ht|dt)&&(x=!0),!(j<0)&&(w[j]=y,this.callback(this.manager,T,{pointers:w,changedPointers:[y],pointerType:M,srcEvent:y}),x&&w.splice(j,1))},h}(wo);function aa(s){return Array.prototype.slice.call(s,0)}function Rs(s,h,p){for(var g=[],y=[],w=0;w<s.length;){var x=h?s[w][h]:s[w];pr(y,x)<0&&g.push(s[w]),y[w]=x,w++}return p&&(h?g=g.sort(function(P,T){return P[h]>T[h]}):g=g.sort()),g}var u={touchstart:Fe,touchmove:Pe,touchend:ht,touchcancel:dt},d="touchstart touchmove touchend touchcancel",f=function(s){mt(h,s);function h(){var g;return h.prototype.evTarget=d,g=s.apply(this,arguments)||this,g.targetIds={},g}var p=h.prototype;return p.handler=function(y){var w=u[y.type],x=v.call(this,y,w);!x||this.callback(this.manager,w,{pointers:x[0],changedPointers:x[1],pointerType:ai,srcEvent:y})},h}(wo);function v(s,h){var p=aa(s.touches),g=this.targetIds;if(h&(Fe|Pe)&&p.length===1)return g[p[0].identifier]=!0,[p,p];var y,w,x=aa(s.changedTouches),P=[],T=this.target;if(w=p.filter(function(M){return ra(M.target,T)}),h===Fe)for(y=0;y<w.length;)g[w[y].identifier]=!0,y++;for(y=0;y<x.length;)g[x[y].identifier]&&P.push(x[y]),h&(ht|dt)&&delete g[x[y].identifier],y++;if(!!P.length)return[Rs(w.concat(P),"identifier",!0),P]}var b={mousedown:Fe,mousemove:Pe,mouseup:ht},k="mousedown",O="mousemove mouseup",I=function(s){mt(h,s);function h(){var g,y=h.prototype;return y.evEl=k,y.evWin=O,g=s.apply(this,arguments)||this,g.pressed=!1,g}var p=h.prototype;return p.handler=function(y){var w=b[y.type];w&Fe&&y.button===0&&(this.pressed=!0),w&Pe&&y.which!==1&&(w=ht),!!this.pressed&&(w&ht&&(this.pressed=!1),this.callback(this.manager,w,{pointers:[y],changedPointers:[y],pointerType:Ds,srcEvent:y}))},h}(wo),C=2500,F=25;function U(s){var h=s.changedPointers,p=h[0];if(p.identifier===this.primaryTouch){var g={x:p.clientX,y:p.clientY},y=this.lastTouches;this.lastTouches.push(g);var w=function(){var P=y.indexOf(g);P>-1&&y.splice(P,1)};setTimeout(w,C)}}function W(s,h){s&Fe?(this.primaryTouch=h.changedPointers[0].identifier,U.call(this,h)):s&(ht|dt)&&U.call(this,h)}function he(s){for(var h=s.srcEvent.clientX,p=s.srcEvent.clientY,g=0;g<this.lastTouches.length;g++){var y=this.lastTouches[g],w=Math.abs(h-y.x),x=Math.abs(p-y.y);if(w<=F&&x<=F)return!0}return!1}var ye=function(){var s=function(h){mt(p,h);function p(y,w){var x;return x=h.call(this,y,w)||this,x.handler=function(P,T,M){var N=M.pointerType===ai,j=M.pointerType===Ds;if(!(j&&M.sourceCapabilities&&M.sourceCapabilities.firesTouchEvents)){if(N)W.call(Sn(Sn(x)),T,M);else if(j&&he.call(Sn(Sn(x)),M))return;x.callback(P,T,M)}},x.touch=new f(x.manager,x.handler),x.mouse=new I(x.manager,x.handler),x.primaryTouch=null,x.lastTouches=[],x}var g=p.prototype;return g.destroy=function(){this.touch.destroy(),this.mouse.destroy()},p}(wo);return s}();function Te(s){var h,p=s.options.inputClass;return p?h=p:zc?h=bh:$u?h=f:Hu?h=ye:h=I,new h(s,Tn)}function xe(s,h,p){return Array.isArray(s)?(Un(s,p[h],p),!0):!1}var Oe=1,me=2,Ve=4,Ke=8,Ze=Ke,ft=16,Ut=32,In=1;function ii(){return In++}function fi(s,h){var p=h.manager;return p?p.get(s):s}function ln(s){return s&ft?"cancel":s&Ke?"end":s&Ve?"move":s&me?"start":""}var _o=function(){function s(p){p===void 0&&(p={}),this.options=bi({enable:!0},p),this.id=ii(),this.manager=null,this.state=Oe,this.simultaneous={},this.requireFail=[]}var h=s.prototype;return h.set=function(g){return $r(this.options,g),this.manager&&this.manager.touchAction.update(),this},h.recognizeWith=function(g){if(xe(g,"recognizeWith",this))return this;var y=this.simultaneous;return g=fi(g,this),y[g.id]||(y[g.id]=g,g.recognizeWith(this)),this},h.dropRecognizeWith=function(g){return xe(g,"dropRecognizeWith",this)?this:(g=fi(g,this),delete this.simultaneous[g.id],this)},h.requireFailure=function(g){if(xe(g,"requireFailure",this))return this;var y=this.requireFail;return g=fi(g,this),pr(y,g)===-1&&(y.push(g),g.requireFailure(this)),this},h.dropRequireFailure=function(g){if(xe(g,"dropRequireFailure",this))return this;g=fi(g,this);var y=pr(this.requireFail,g);return y>-1&&this.requireFail.splice(y,1),this},h.hasRequireFailures=function(){return this.requireFail.length>0},h.canRecognizeWith=function(g){return!!this.simultaneous[g.id]},h.emit=function(g){var y=this,w=this.state;function x(P){y.manager.emit(P,g)}w<Ke&&x(y.options.event+ln(w)),x(y.options.event),g.additionalEvent&&x(g.additionalEvent),w>=Ke&&x(y.options.event+ln(w))},h.tryEmit=function(g){if(this.canEmit())return this.emit(g);this.state=Ut},h.canEmit=function(){for(var g=0;g<this.requireFail.length;){if(!(this.requireFail[g].state&(Ut|Oe)))return!1;g++}return!0},h.recognize=function(g){var y=$r({},g);if(!qa(this.options.enable,[this,y])){this.reset(),this.state=Ut;return}this.state&(Ze|ft|Ut)&&(this.state=Oe),this.state=this.process(y),this.state&(me|Ve|Ke|ft)&&this.tryEmit(y)},h.process=function(g){},h.getTouchAction=function(){},h.reset=function(){},s}(),js=function(s){mt(h,s);function h(g){var y;return g===void 0&&(g={}),y=s.call(this,bi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},g))||this,y.pTime=!1,y.pCenter=!1,y._timer=null,y._input=null,y.count=0,y}var p=h.prototype;return p.getTouchAction=function(){return[Ni]},p.process=function(y){var w=this,x=this.options,P=y.pointers.length===x.pointers,T=y.distance<x.threshold,M=y.deltaTime<x.time;if(this.reset(),y.eventType&Fe&&this.count===0)return this.failTimeout();if(T&&M&&P){if(y.eventType!==ht)return this.failTimeout();var N=this.pTime?y.timeStamp-this.pTime<x.interval:!0,j=!this.pCenter||Gu(this.pCenter,y.center)<x.posThreshold;this.pTime=y.timeStamp,this.pCenter=y.center,!j||!N?this.count=1:this.count+=1,this._input=y;var $=this.count%x.taps;if($===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){w.state=Ze,w.tryEmit()},x.interval),me):Ze}return Ut},p.failTimeout=function(){var y=this;return this._timer=setTimeout(function(){y.state=Ut},this.options.interval),Ut},p.reset=function(){clearTimeout(this._timer)},p.emit=function(){this.state===Ze&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},h}(_o),Pn=function(s){mt(h,s);function h(g){return g===void 0&&(g={}),s.call(this,bi({pointers:1},g))||this}var p=h.prototype;return p.attrTest=function(y){var w=this.options.pointers;return w===0||y.pointers.length===w},p.process=function(y){var w=this.state,x=y.eventType,P=w&(me|Ve),T=this.attrTest(y);return P&&(x&dt||!T)?w|ft:P||T?x&ht?w|Ke:w&me?w|Ve:me:Ut},h}(_o);function Ku(s){return s===qr?"down":s===Wa?"up":s===$a?"left":s===sn?"right":""}var Vr=function(s){mt(h,s);function h(g){var y;return g===void 0&&(g={}),y=s.call(this,bi({event:"pan",threshold:10,pointers:1,direction:bt},g))||this,y.pX=null,y.pY=null,y}var p=h.prototype;return p.getTouchAction=function(){var y=this.options.direction,w=[];return y&qn&&w.push(Cs),y&Ur&&w.push(La),w},p.directionTest=function(y){var w=this.options,x=!0,P=y.distance,T=y.direction,M=y.deltaX,N=y.deltaY;return T&w.direction||(w.direction&qn?(T=M===0?vr:M<0?$a:sn,x=M!==this.pX,P=Math.abs(y.deltaX)):(T=N===0?vr:N<0?Wa:qr,x=N!==this.pY,P=Math.abs(y.deltaY))),y.direction=T,x&&P>w.threshold&&T&w.direction},p.attrTest=function(y){return Pn.prototype.attrTest.call(this,y)&&(this.state&me||!(this.state&me)&&this.directionTest(y))},p.emit=function(y){this.pX=y.deltaX,this.pY=y.deltaY;var w=Ku(y.direction);w&&(y.additionalEvent=this.options.event+w),s.prototype.emit.call(this,y)},h}(Pn),Qu=function(s){mt(h,s);function h(g){return g===void 0&&(g={}),s.call(this,bi({event:"swipe",threshold:10,velocity:.3,direction:qn|Ur,pointers:1},g))||this}var p=h.prototype;return p.getTouchAction=function(){return Vr.prototype.getTouchAction.call(this)},p.attrTest=function(y){var w=this.options.direction,x;return w&(qn|Ur)?x=y.overallVelocity:w&qn?x=y.overallVelocityX:w&Ur&&(x=y.overallVelocityY),s.prototype.attrTest.call(this,y)&&w&y.offsetDirection&&y.distance>this.options.threshold&&y.maxPointers===this.options.pointers&&Fi(x)>this.options.velocity&&y.eventType&ht},p.emit=function(y){var w=Ku(y.offsetDirection);w&&this.manager.emit(this.options.event+w,y),this.manager.emit(this.options.event,y)},h}(Pn),de=function(s){mt(h,s);function h(g){return g===void 0&&(g={}),s.call(this,bi({event:"pinch",threshold:0,pointers:2},g))||this}var p=h.prototype;return p.getTouchAction=function(){return[na]},p.attrTest=function(y){return s.prototype.attrTest.call(this,y)&&(Math.abs(y.scale-1)>this.options.threshold||this.state&me)},p.emit=function(y){if(y.scale!==1){var w=y.scale<1?"in":"out";y.additionalEvent=this.options.event+w}s.prototype.emit.call(this,y)},h}(Pn),se=function(s){mt(h,s);function h(g){return g===void 0&&(g={}),s.call(this,bi({event:"rotate",threshold:0,pointers:2},g))||this}var p=h.prototype;return p.getTouchAction=function(){return[na]},p.attrTest=function(y){return s.prototype.attrTest.call(this,y)&&(Math.abs(y.rotation)>this.options.threshold||this.state&me)},h}(Pn),Le=function(s){mt(h,s);function h(g){var y;return g===void 0&&(g={}),y=s.call(this,bi({event:"press",pointers:1,time:251,threshold:9},g))||this,y._timer=null,y._input=null,y}var p=h.prototype;return p.getTouchAction=function(){return[jc]},p.process=function(y){var w=this,x=this.options,P=y.pointers.length===x.pointers,T=y.distance<x.threshold,M=y.deltaTime>x.time;if(this._input=y,!T||!P||y.eventType&(ht|dt)&&!M)this.reset();else if(y.eventType&Fe)this.reset(),this._timer=setTimeout(function(){w.state=Ze,w.tryEmit()},x.time);else if(y.eventType&ht)return Ze;return Ut},p.reset=function(){clearTimeout(this._timer)},p.emit=function(y){this.state===Ze&&(y&&y.eventType&ht?this.manager.emit(this.options.event+"up",y):(this._input.timeStamp=ch(),this.manager.emit(this.options.event,this._input)))},h}(_o),it={domEvents:!1,touchAction:fh,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},L=[[se,{enable:!1}],[de,{enable:!1},["rotate"]],[Qu,{direction:qn}],[Vr,{direction:qn},["swipe"]],[js],[js,{event:"doubletap",taps:2},["tap"]],[Le]],si=1,ni=2;function hn(s,h){var p=s.element;if(!!p.style){var g;Un(s.options.cssProps,function(y,w){g=Bu(p.style,w),h?(s.oldCssProps[g]=p.style[g],p.style[g]=y):p.style[g]=s.oldCssProps[g]||""}),h||(s.oldCssProps={})}}function Je(s,h){var p=document.createEvent("Event");p.initEvent(s,!0,!0),p.gesture=h,h.target.dispatchEvent(p)}var Ce=function(){function s(p,g){var y=this;this.options=$r({},it,g||{}),this.options.inputTarget=this.options.inputTarget||p,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=p,this.input=Te(this),this.touchAction=new Uu(this,this.options.touchAction),hn(this,!0),Un(this.options.recognizers,function(w){var x=y.add(new w[0](w[1]));w[2]&&x.recognizeWith(w[2]),w[3]&&x.requireFailure(w[3])},this)}var h=s.prototype;return h.set=function(g){return $r(this.options,g),g.touchAction&&this.touchAction.update(),g.inputTarget&&(this.input.destroy(),this.input.target=g.inputTarget,this.input.init()),this},h.stop=function(g){this.session.stopped=g?ni:si},h.recognize=function(g){var y=this.session;if(!y.stopped){this.touchAction.preventDefaults(g);var w,x=this.recognizers,P=y.curRecognizer;(!P||P&&P.state&Ze)&&(y.curRecognizer=null,P=null);for(var T=0;T<x.length;)w=x[T],y.stopped!==ni&&(!P||w===P||w.canRecognizeWith(P))?w.recognize(g):w.reset(),!P&&w.state&(me|Ve|Ke)&&(y.curRecognizer=w,P=w),T++}},h.get=function(g){if(g instanceof _o)return g;for(var y=this.recognizers,w=0;w<y.length;w++)if(y[w].options.event===g)return y[w];return null},h.add=function(g){if(xe(g,"add",this))return this;var y=this.get(g.options.event);return y&&this.remove(y),this.recognizers.push(g),g.manager=this,this.touchAction.update(),g},h.remove=function(g){if(xe(g,"remove",this))return this;var y=this.get(g);if(g){var w=this.recognizers,x=pr(w,y);x!==-1&&(w.splice(x,1),this.touchAction.update())}return this},h.on=function(g,y){if(g===void 0||y===void 0)return this;var w=this.handlers;return Un(bo(g),function(x){w[x]=w[x]||[],w[x].push(y)}),this},h.off=function(g,y){if(g===void 0)return this;var w=this.handlers;return Un(bo(g),function(x){y?w[x]&&w[x].splice(pr(w[x],y),1):delete w[x]}),this},h.emit=function(g,y){this.options.domEvents&&Je(g,y);var w=this.handlers[g]&&this.handlers[g].slice();if(!(!w||!w.length)){y.type=g,y.preventDefault=function(){y.srcEvent.preventDefault()};for(var x=0;x<w.length;)w[x](y),x++}},h.destroy=function(){this.element&&hn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},s}(),Ri={touchstart:Fe,touchmove:Pe,touchend:ht,touchcancel:dt},be="touchstart",ko="touchstart touchmove touchend touchcancel",Wc=function(s){mt(h,s);function h(){var g,y=h.prototype;return y.evTarget=be,y.evWin=ko,g=s.apply(this,arguments)||this,g.started=!1,g}var p=h.prototype;return p.handler=function(y){var w=Ri[y.type];if(w===Fe&&(this.started=!0),!!this.started){var x=wh.call(this,y,w);w&(ht|dt)&&x[0].length-x[1].length==0&&(this.started=!1),this.callback(this.manager,w,{pointers:x[0],changedPointers:x[1],pointerType:ai,srcEvent:y})}},h}(wo);function wh(s,h){var p=aa(s.touches),g=aa(s.changedTouches);return h&(ht|dt)&&(p=Rs(p.concat(g),"identifier",!0)),[p,g]}function Va(s,h,p){var g="DEPRECATED METHOD: "+h+`
`+p+` AT 
`;return function(){var y=new Error("get-stack-trace"),w=y&&y.stack?y.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",x=window.console&&(window.console.warn||window.console.log);return x&&x.call(window.console,g,w),s.apply(this,arguments)}}var qc=Va(function(s,h,p){for(var g=Object.keys(h),y=0;y<g.length;)(!p||p&&s[g[y]]===void 0)&&(s[g[y]]=h[g[y]]),y++;return s},"extend","Use `assign`."),ev=Va(function(s,h){return qc(s,h,!0)},"merge","Use `assign`.");function tv(s,h,p){var g=h.prototype,y;y=s.prototype=Object.create(g),y.constructor=s,y._super=g,p&&$r(y,p)}function of(s,h){return function(){return s.apply(h,arguments)}}var iv=function(){var s=function(p,g){return g===void 0&&(g={}),new Ce(p,bi({recognizers:L.concat()},g))};return s.VERSION="2.0.17-rc",s.DIRECTION_ALL=bt,s.DIRECTION_DOWN=qr,s.DIRECTION_LEFT=$a,s.DIRECTION_RIGHT=sn,s.DIRECTION_UP=Wa,s.DIRECTION_HORIZONTAL=qn,s.DIRECTION_VERTICAL=Ur,s.DIRECTION_NONE=vr,s.DIRECTION_DOWN=qr,s.INPUT_START=Fe,s.INPUT_MOVE=Pe,s.INPUT_END=ht,s.INPUT_CANCEL=dt,s.STATE_POSSIBLE=Oe,s.STATE_BEGAN=me,s.STATE_CHANGED=Ve,s.STATE_ENDED=Ke,s.STATE_RECOGNIZED=Ze,s.STATE_CANCELLED=ft,s.STATE_FAILED=Ut,s.Manager=Ce,s.Input=wo,s.TouchAction=Uu,s.TouchInput=f,s.MouseInput=I,s.PointerEventInput=bh,s.TouchMouseInput=ye,s.SingleTouchInput=Wc,s.Recognizer=_o,s.AttrRecognizer=Pn,s.Tap=js,s.Pan=Vr,s.Swipe=Qu,s.Pinch=de,s.Rotate=se,s.Press=Le,s.on=oa,s.off=Ua,s.each=Un,s.merge=ev,s.extend=qc,s.bindFn=of,s.assign=$r,s.inherit=tv,s.bindFn=of,s.prefixed=Bu,s.toArray=aa,s.inArray=pr,s.uniqueArray=Rs,s.splitStr=bo,s.boolOrFn=qa,s.hasParent=ra,s.addEventListeners=oa,s.removeEventListeners=Ua,s.defaults=$r({},it,{preset:L}),s}();function af(s,h){var p;if(typeof ta=="undefined"||xa(s)==null){if(ci(s)||(p=Ga(s))||h&&s&&typeof s.length=="number"){p&&(s=p);var g=0,y=function(){};return{s:y,n:function(){return g>=s.length?{done:!0}:{done:!1,value:s[g++]}},e:function(M){throw M},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,x=!1,P;return{s:function(){p=Zi(s)},n:function(){var M=p.next();return w=M.done,M},e:function(M){x=!0,P=M},f:function(){try{!w&&p.return!=null&&p.return()}finally{if(x)throw P}}}}function Ga(s,h){var p;if(!!s){if(typeof s=="string")return Hd(s,h);var g=za(p=Object.prototype.toString.call(s)).call(p,8,-1);if(g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set")return xu(s);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Hd(s,h)}}function Hd(s,h){(h==null||h>s.length)&&(h=s.length);for(var p=0,g=new Array(h);p<h;p++)g[p]=s[p];return g}var $d=ta("DELETE");function nv(s){for(var h,p=arguments.length,g=new Array(p>1?p-1:0),y=1;y<p;y++)g[y-1]=arguments[y];return sf.apply(void 0,an(h=[{},s]).call(h,g))}function sf(){var s=Uc.apply(void 0,arguments);return lf(s),s}function Uc(){for(var s=arguments.length,h=new Array(s),p=0;p<s;p++)h[p]=arguments[p];if(h.length<2)return h[0];if(h.length>2){var g;return Uc.apply(void 0,an(g=[sf(h[0],h[1])]).call(g,Be(za(h).call(h,2))))}var y=h[0],w=h[1],x=af(ah(w)),P;try{for(x.s();!(P=x.n()).done;){var T=P.value;Object.prototype.propertyIsEnumerable.call(w,T)&&(w[T]===$d?delete y[T]:y[T]!==null&&w[T]!==null&&mi(y[T])==="object"&&mi(w[T])==="object"&&!ci(y[T])&&!ci(w[T])?y[T]=Uc(y[T],w[T]):y[T]=uf(w[T]))}}catch(M){x.e(M)}finally{x.f()}return y}function uf(s){return ci(s)?Qt(s).call(s,function(h){return uf(h)}):mi(s)==="object"&&s!==null?Uc({},s):s}function lf(s){for(var h=0,p=oh(s);h<p.length;h++){var g=p[h];s[g]===$d?delete s[g]:mi(s[g])==="object"&&s[g]!==null&&lf(s[g])}}function rv(){var s=function(){};return{on:s,off:s,destroy:s,emit:s,get:function(){return{set:s}}}}var ov=typeof window!="undefined"?window.Hammer||iv:function(){return rv()};function sa(s){var h=this,p;this._cleanupQueue=[],this.active=!1,this._dom={container:s,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){h._dom.overlay.parentNode.removeChild(h._dom.overlay)});var g=ov(this._dom.overlay);g.on("tap",Qn(p=this._onTapOverlay).call(p,this)),this._cleanupQueue.push(function(){g.destroy()});var y=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Rr(y).call(y,function(w){g.on(w,function(x){x.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(w){av(w.target,s)||h.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",h._onClick)})),this._escListener=function(w){("key"in w?w.key==="Escape":w.keyCode===27)&&h.deactivate()}}hh(sa.prototype),sa.current=null,sa.prototype.destroy=function(){var s,h;this.deactivate();var p=af(lr(s=Xl(h=this._cleanupQueue).call(h,0)).call(s)),g;try{for(p.s();!(g=p.n()).done;){var y=g.value;y()}}catch(w){p.e(w)}finally{p.f()}},sa.prototype.activate=function(){sa.current&&sa.current.deactivate(),sa.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},sa.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},sa.prototype._onTapOverlay=function(s){this.activate(),s.srcEvent.stopPropagation()};function av(s,h){for(;s;){if(s===h)return!0;s=s.parentNode}return!1}var Vc=Jr("Reflect","construct"),hf=J(function(){function s(){}return!(Vc(function(){},[],s)instanceof s)}),cf=!J(function(){Vc(function(){})}),df=hf||cf;ze({target:"Reflect",stat:!0,forced:df,sham:df},{construct:function(h,p){At(h),st(p);var g=arguments.length<3?h:At(arguments[2]);if(cf&&!hf)return Vc(h,p,g);if(h==g){switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3])}var y=[null];return y.push.apply(y,p),new(Qs.apply(h,y))}var w=g.prototype,x=yn(Tt(w)?w:Object.prototype),P=Function.apply.call(h,x,p);return Tt(P)?P:x}});var sv=Me.Reflect.construct,uv=sv,Ya=uv,lv=Z("Array").entries,hv=lv,ff=Array.prototype,cv={DOMTokenList:!0,NodeList:!0},dv=function(s){var h=s.entries;return s===ff||s instanceof Array&&h===ff.entries||cv.hasOwnProperty(mn(s))?hv:h},fv=dv,vv=le(function(s){var h=function(p){var g=Object.prototype,y=g.hasOwnProperty,w,x=typeof Symbol=="function"?Symbol:{},P=x.iterator||"@@iterator",T=x.asyncIterator||"@@asyncIterator",M=x.toStringTag||"@@toStringTag";function N(ge,oe,Ee){return Object.defineProperty(ge,oe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),ge[oe]}try{N({},"")}catch(ge){N=function(oe,Ee,Ge){return oe[Ee]=Ge}}function j(ge,oe,Ee,Ge){var We=oe&&oe.prototype instanceof wt?oe:wt,te=Object.create(We.prototype),ie=new rd(Ge||[]);return te._invoke=$s(ge,Ee,ie),te}p.wrap=j;function $(ge,oe,Ee){try{return{type:"normal",arg:ge.call(oe,Ee)}}catch(Ge){return{type:"throw",arg:Ge}}}var ce="suspendedStart",Re="suspendedYield",$e="executing",rt="completed",Ae={};function wt(){}function vi(){}function St(){}var pi={};pi[P]=function(){return this};var ki=Object.getPrototypeOf,Gr=ki&&ki(ki(tf([])));Gr&&Gr!==g&&y.call(Gr,P)&&(pi=Gr);var Bi=St.prototype=wt.prototype=Object.create(pi);vi.prototype=Bi.constructor=St,St.constructor=vi,vi.displayName=N(St,M,"GeneratorFunction");function Qa(ge){["next","throw","return"].forEach(function(oe){N(ge,oe,function(Ee){return this._invoke(oe,Ee)})})}p.isGeneratorFunction=function(ge){var oe=typeof ge=="function"&&ge.constructor;return oe?oe===vi||(oe.displayName||oe.name)==="GeneratorFunction":!1},p.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,St):(ge.__proto__=St,N(ge,M,"GeneratorFunction")),ge.prototype=Object.create(Bi),ge},p.awrap=function(ge){return{__await:ge}};function ua(ge,oe){function Ee(te,ie,V,Li){var we=$(ge[te],ge,ie);if(we.type==="throw")Li(we.arg);else{var Oh=we.arg,Ws=Oh.value;return Ws&&typeof Ws=="object"&&y.call(Ws,"__await")?oe.resolve(Ws.__await).then(function(Za){Ee("next",Za,V,Li)},function(Za){Ee("throw",Za,V,Li)}):oe.resolve(Ws).then(function(Za){Oh.value=Za,V(Oh)},function(Za){return Ee("throw",Za,V,Li)})}}var Ge;function We(te,ie){function V(){return new oe(function(Li,we){Ee(te,ie,Li,we)})}return Ge=Ge?Ge.then(V,V):V()}this._invoke=We}Qa(ua.prototype),ua.prototype[T]=function(){return this},p.AsyncIterator=ua,p.async=function(ge,oe,Ee,Ge,We){We===void 0&&(We=Promise);var te=new ua(j(ge,oe,Ee,Ge),We);return p.isGeneratorFunction(oe)?te:te.next().then(function(ie){return ie.done?ie.value:te.next()})};function $s(ge,oe,Ee){var Ge=ce;return function(te,ie){if(Ge===$e)throw new Error("Generator is already running");if(Ge===rt){if(te==="throw")throw ie;return nf()}for(Ee.method=te,Ee.arg=ie;;){var V=Ee.delegate;if(V){var Li=la(V,Ee);if(Li){if(Li===Ae)continue;return Li}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Ge===ce)throw Ge=rt,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Ge=$e;var we=$(ge,oe,Ee);if(we.type==="normal"){if(Ge=Ee.done?rt:Re,we.arg===Ae)continue;return{value:we.arg,done:Ee.done}}else we.type==="throw"&&(Ge=rt,Ee.method="throw",Ee.arg=we.arg)}}}function la(ge,oe){var Ee=ge.iterator[oe.method];if(Ee===w){if(oe.delegate=null,oe.method==="throw"){if(ge.iterator.return&&(oe.method="return",oe.arg=w,la(ge,oe),oe.method==="throw"))return Ae;oe.method="throw",oe.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ae}var Ge=$(Ee,ge.iterator,oe.arg);if(Ge.type==="throw")return oe.method="throw",oe.arg=Ge.arg,oe.delegate=null,Ae;var We=Ge.arg;if(!We)return oe.method="throw",oe.arg=new TypeError("iterator result is not an object"),oe.delegate=null,Ae;if(We.done)oe[ge.resultName]=We.value,oe.next=ge.nextLoc,oe.method!=="return"&&(oe.method="next",oe.arg=w);else return We;return oe.delegate=null,Ae}Qa(Bi),N(Bi,M,"Generator"),Bi[P]=function(){return this},Bi.toString=function(){return"[object Generator]"};function nd(ge){var oe={tryLoc:ge[0]};1 in ge&&(oe.catchLoc=ge[1]),2 in ge&&(oe.finallyLoc=ge[2],oe.afterLoc=ge[3]),this.tryEntries.push(oe)}function el(ge){var oe=ge.completion||{};oe.type="normal",delete oe.arg,ge.completion=oe}function rd(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(nd,this),this.reset(!0)}p.keys=function(ge){var oe=[];for(var Ee in ge)oe.push(Ee);return oe.reverse(),function Ge(){for(;oe.length;){var We=oe.pop();if(We in ge)return Ge.value=We,Ge.done=!1,Ge}return Ge.done=!0,Ge}};function tf(ge){if(ge){var oe=ge[P];if(oe)return oe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Ee=-1,Ge=function We(){for(;++Ee<ge.length;)if(y.call(ge,Ee))return We.value=ge[Ee],We.done=!1,We;return We.value=w,We.done=!0,We};return Ge.next=Ge}}return{next:nf}}p.values=tf;function nf(){return{value:w,done:!0}}return rd.prototype={constructor:rd,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=w,this.done=!1,this.delegate=null,this.method="next",this.arg=w,this.tryEntries.forEach(el),!ge)for(var oe in this)oe.charAt(0)==="t"&&y.call(this,oe)&&!isNaN(+oe.slice(1))&&(this[oe]=w)},stop:function(){this.done=!0;var ge=this.tryEntries[0],oe=ge.completion;if(oe.type==="throw")throw oe.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var oe=this;function Ee(Li,we){return te.type="throw",te.arg=ge,oe.next=Li,we&&(oe.method="next",oe.arg=w),!!we}for(var Ge=this.tryEntries.length-1;Ge>=0;--Ge){var We=this.tryEntries[Ge],te=We.completion;if(We.tryLoc==="root")return Ee("end");if(We.tryLoc<=this.prev){var ie=y.call(We,"catchLoc"),V=y.call(We,"finallyLoc");if(ie&&V){if(this.prev<We.catchLoc)return Ee(We.catchLoc,!0);if(this.prev<We.finallyLoc)return Ee(We.finallyLoc)}else if(ie){if(this.prev<We.catchLoc)return Ee(We.catchLoc,!0)}else if(V){if(this.prev<We.finallyLoc)return Ee(We.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ge,oe){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Ge=this.tryEntries[Ee];if(Ge.tryLoc<=this.prev&&y.call(Ge,"finallyLoc")&&this.prev<Ge.finallyLoc){var We=Ge;break}}We&&(ge==="break"||ge==="continue")&&We.tryLoc<=oe&&oe<=We.finallyLoc&&(We=null);var te=We?We.completion:{};return te.type=ge,te.arg=oe,We?(this.method="next",this.next=We.finallyLoc,Ae):this.complete(te)},complete:function(ge,oe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&oe&&(this.next=oe),Ae},finish:function(ge){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var Ee=this.tryEntries[oe];if(Ee.finallyLoc===ge)return this.complete(Ee.completion,Ee.afterLoc),el(Ee),Ae}},catch:function(ge){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var Ee=this.tryEntries[oe];if(Ee.tryLoc===ge){var Ge=Ee.completion;if(Ge.type==="throw"){var We=Ge.arg;el(Ee)}return We}}throw new Error("illegal catch attempt")},delegateYield:function(ge,oe,Ee){return this.delegate={iterator:tf(ge),resultName:oe,nextLoc:Ee},this.method==="next"&&(this.arg=w),Ae}},p}(s.exports);try{regeneratorRuntime=h}catch(p){Function("r","regeneratorRuntime = r")(h)}}),Cn=vv,pv=Ps,zs=pv,vf=Z("Array").values,pf=vf,An=Array.prototype,gv={DOMTokenList:!0,NodeList:!0},gf=function(s){var h=s.values;return s===An||s instanceof Array&&h===An.values||gv.hasOwnProperty(mn(s))?pf:h},yf=gf,Gc=[],mf=Gc.sort,bf=J(function(){Gc.sort(void 0)}),wf=J(function(){Gc.sort(null)}),yv=da("sort"),mv=bf||!wf||!yv;ze({target:"Array",proto:!0,forced:mv},{sort:function(h){return h===void 0?mf.call(Ei(this)):mf.call(Ei(this),At(h))}});var bv=Z("Array").sort,_f=Array.prototype,kf=function(s){var h=s.sort;return s===_f||s instanceof Array&&h===_f.sort?bv:h},Xt=kf,Wd=Xt,wv=Z("Array").keys,_v=wv,Ef=Array.prototype,kv={DOMTokenList:!0,NodeList:!0},Ev=function(s){var h=s.keys;return s===Ef||s instanceof Array&&h===Ef.keys||kv.hasOwnProperty(mn(s))?_v:h},Bs=Ev,xv=Zr.some,Ov=da("some"),Sv=Kn("some");ze({target:"Array",proto:!0,forced:!Ov||!Sv},{some:function(h){return xv(this,h,arguments.length>1?arguments[1]:void 0)}});var Tv=Z("Array").some,xf=Array.prototype,Of=function(s){var h=s.some;return s===xf||s instanceof Array&&h===xf.some?Tv:h},Sf=Of,Tf=Sf,If=!J(function(){return Object.isExtensible(Object.preventExtensions({}))}),qd=le(function(s){var h=De.f,p=xt("meta"),g=0,y=Object.isExtensible||function(){return!0},w=function(N){h(N,p,{value:{objectID:"O"+ ++g,weakData:{}}})},x=function(N,j){if(!Tt(N))return typeof N=="symbol"?N:(typeof N=="string"?"S":"P")+N;if(!Xe(N,p)){if(!y(N))return"F";if(!j)return"E";w(N)}return N[p].objectID},P=function(N,j){if(!Xe(N,p)){if(!y(N))return!0;if(!j)return!1;w(N)}return N[p].weakData},T=function(N){return If&&M.REQUIRED&&y(N)&&!Xe(N,p)&&w(N),N},M=s.exports={REQUIRED:!1,fastKey:x,getWeakData:P,onFreeze:T};er[p]=!0}),Zu=function(s,h){this.stopped=s,this.result=h},Pf=function(s,h,p){var g=p&&p.that,y=!!(p&&p.AS_ENTRIES),w=!!(p&&p.IS_ITERATOR),x=!!(p&&p.INTERRUPTED),P=Vt(h,g,1+y+x),T,M,N,j,$,ce,Re,$e=function(Ae){return T&&En(T),new Zu(!0,Ae)},rt=function(Ae){return y?(st(Ae),x?P(Ae[0],Ae[1],$e):P(Ae[0],Ae[1])):x?P(Ae,$e):P(Ae)};if(w)T=s;else{if(M=Eu(s),typeof M!="function")throw TypeError("Target is not iterable");if(ic(M)){for(N=0,j=Wi(s.length);j>N;N++)if($=rt(s[N]),$&&$ instanceof Zu)return $;return new Zu(!1)}T=M.call(s)}for(ce=T.next;!(Re=ce.call(T)).done;){try{$=rt(Re.value)}catch(Ae){throw En(T),Ae}if(typeof $=="object"&&$&&$ instanceof Zu)return $}return new Zu(!1)},Yc=function(s,h,p){if(!(s instanceof h))throw TypeError("Incorrect "+(p?p+" ":"")+"invocation");return s},Iv=De.f,Cf=Zr.forEach,Pv=jn.set,Af=jn.getterFor,Df=function(s,h,p){var g=s.indexOf("Map")!==-1,y=s.indexOf("Weak")!==-1,w=g?"set":"add",x=ee[s],P=x&&x.prototype,T={},M;if(!re||typeof x!="function"||!(y||P.forEach&&!J(function(){new x().entries().next()})))M=p.getConstructor(h,s,g,w),qd.REQUIRED=!0;else{M=h(function(j,$){Pv(Yc(j,M,s),{type:s,collection:new x}),$!=null&&Pf($,j[w],{that:j,AS_ENTRIES:g})});var N=Af(s);Cf(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(j){var $=j=="add"||j=="set";j in P&&!(y&&j=="clear")&&ke(M.prototype,j,function(ce,Re){var $e=N(this).collection;if(!$&&y&&!Tt(ce))return j=="get"?void 0:!1;var rt=$e[j](ce===0?0:ce,Re);return $?this:rt})}),y||Iv(M.prototype,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return zo(M,s,!1,!0),T[s]=M,ze({global:!0,forced:!0},T),y||p.setStrong(M,s,g),M},Mf=function(s,h,p){for(var g in h)p&&p.unsafe&&s[g]?s[g]=h[g]:Nt(s,g,h[g],p);return s},Ud=nt("species"),Cv=function(s){var h=Jr(s),p=De.f;re&&h&&!h[Ud]&&p(h,Ud,{configurable:!0,get:function(){return this}})},Ff=De.f,Ls=qd.fastKey,Nf=jn.set,Xc=jn.getterFor,Rf={getConstructor:function(s,h,p,g){var y=s(function(T,M){Yc(T,y,h),Nf(T,{type:h,index:yn(null),first:void 0,last:void 0,size:0}),re||(T.size=0),M!=null&&Pf(M,T[g],{that:T,AS_ENTRIES:p})}),w=Xc(h),x=function(T,M,N){var j=w(T),$=P(T,M),ce,Re;return $?$.value=N:(j.last=$={index:Re=Ls(M,!0),key:M,value:N,previous:ce=j.last,next:void 0,removed:!1},j.first||(j.first=$),ce&&(ce.next=$),re?j.size++:T.size++,Re!=="F"&&(j.index[Re]=$)),T},P=function(T,M){var N=w(T),j=Ls(M),$;if(j!=="F")return N.index[j];for($=N.first;$;$=$.next)if($.key==M)return $};return Mf(y.prototype,{clear:function(){for(var M=this,N=w(M),j=N.index,$=N.first;$;)$.removed=!0,$.previous&&($.previous=$.previous.next=void 0),delete j[$.index],$=$.next;N.first=N.last=void 0,re?N.size=0:M.size=0},delete:function(T){var M=this,N=w(M),j=P(M,T);if(j){var $=j.next,ce=j.previous;delete N.index[j.index],j.removed=!0,ce&&(ce.next=$),$&&($.previous=ce),N.first==j&&(N.first=$),N.last==j&&(N.last=ce),re?N.size--:M.size--}return!!j},forEach:function(M){for(var N=w(this),j=Vt(M,arguments.length>1?arguments[1]:void 0,3),$;$=$?$.next:N.first;)for(j($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(M){return!!P(this,M)}}),Mf(y.prototype,p?{get:function(M){var N=P(this,M);return N&&N.value},set:function(M,N){return x(this,M===0?0:M,N)}}:{add:function(M){return x(this,M=M===0?0:M,M)}}),re&&Ff(y.prototype,"size",{get:function(){return w(this).size}}),y},setStrong:function(s,h,p){var g=h+" Iterator",y=Xc(h),w=Xc(g);so(s,h,function(x,P){Nf(this,{type:g,target:x,state:y(x),kind:P,last:void 0})},function(){for(var x=w(this),P=x.kind,T=x.last;T&&T.removed;)T=T.previous;return!x.target||!(x.last=T=T?T.next:x.state.first)?(x.target=void 0,{value:void 0,done:!0}):P=="keys"?{value:T.key,done:!1}:P=="values"?{value:T.value,done:!1}:{value:[T.key,T.value],done:!1}},p?"entries":"values",!p,!0),Cv(h)}},Vv=Df("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},Rf),Vd=Me.Map,Av=Vd,_h=Av,Dv=hc,Mv=Dv;ze({target:"Object",stat:!0},{setPrototypeOf:ka});var Fv=Me.Object.setPrototypeOf,Gd=Fv,jf=Gd,Nv=le(function(s){function h(p,g){return s.exports=h=jf||function(w,x){return w.__proto__=x,w},h(p,g)}s.exports=h});function Rv(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Mv(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Nv(s,h)}var zf=Rv;function jv(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var Bf=jv;function wi(s,h){return h&&(mi(h)==="object"||typeof h=="function")?h:Bf(s)}var Kc=wi,kh=gc,ji=kh,Qc=le(function(s){function h(p){return s.exports=h=jf?ji:function(y){return y.__proto__||ji(y)},h(p)}s.exports=h}),Zc,zv=new Uint8Array(16);function Bv(){if(!Zc&&(Zc=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zc(zv)}var Lf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Lv(s){return typeof s=="string"&&Lf.test(s)}for(var _i=[],Ju=0;Ju<256;++Ju)_i.push((Ju+256).toString(16).substr(1));function Hf(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=(_i[s[h+0]]+_i[s[h+1]]+_i[s[h+2]]+_i[s[h+3]]+"-"+_i[s[h+4]]+_i[s[h+5]]+"-"+_i[s[h+6]]+_i[s[h+7]]+"-"+_i[s[h+8]]+_i[s[h+9]]+"-"+_i[s[h+10]]+_i[s[h+11]]+_i[s[h+12]]+_i[s[h+13]]+_i[s[h+14]]+_i[s[h+15]]).toLowerCase();if(!Lv(p))throw TypeError("Stringified UUID is invalid");return p}function Hv(s,h,p){s=s||{};var g=s.random||(s.rng||Bv)();if(g[6]=g[6]&15|64,g[8]=g[8]&63|128,h){p=p||0;for(var y=0;y<16;++y)h[p+y]=g[y];return h}return Hf(g)}function Yd(s){return typeof s=="string"||typeof s=="number"}var $f=function(){function s(h){Jn(this,s),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=Infinity,this.setOptions(h)}return Vi(s,[{key:"setOptions",value:function(p){p&&typeof p.delay!="undefined"&&(this.delay=p.delay),p&&typeof p.max!="undefined"&&(this.max=p.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var p=this._extended.object,g=this._extended.methods,y=0;y<g.length;y++){var w=g[y];w.original?p[w.name]=w.original:delete p[w.name]}this._extended=null}}},{key:"replace",value:function(p,g){var y=this,w=p[g];if(!w)throw new Error("Method "+g+" undefined");p[g]=function(){for(var x=arguments.length,P=new Array(x),T=0;T<x;T++)P[T]=arguments[T];y.queue({args:P,fn:w,context:this})}}},{key:"queue",value:function(p){typeof p=="function"?this._queue.push({fn:p}):this._queue.push(p),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var p=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Oa(function(){p.flush()},this.delay))}},{key:"flush",value:function(){var p,g;Rr(p=Xl(g=this._queue).call(g,0)).call(p,function(y){y.fn.apply(y.context||y.fn,y.args||[])})}}],[{key:"extend",value:function(p,g){var y=new s(g);if(p.flush!==void 0)throw new Error("Target object already has a property flush");p.flush=function(){y.flush()};var w=[{name:"flush",original:void 0}];if(g&&g.replace)for(var x=0;x<g.replace.length;x++){var P=g.replace[x];w.push({name:P,original:p[P]}),y.replace(p,P)}return y._extended={object:p,methods:w},y}}]),s}(),Xd=function(){function s(){Jn(this,s),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=s.prototype.on,this.unsubscribe=s.prototype.off}return Vi(s,[{key:"_trigger",value:function(p,g,y){var w,x;if(p==="*")throw new Error("Cannot trigger event *");Rr(w=an(x=[]).call(x,Be(this._subscribers[p]),Be(this._subscribers["*"]))).call(w,function(P){P(p,g,y??null)})}},{key:"on",value:function(p,g){typeof g=="function"&&this._subscribers[p].push(g)}},{key:"off",value:function(p,g){var y;this._subscribers[p]=Bt(y=this._subscribers[p]).call(y,function(w){return w!==g})}}]),s}(),Gv=Df("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},Rf),$v=Me.Set,Wf=$v,Jc=Wf;function zi(s,h){var p;if(typeof ta=="undefined"||xa(s)==null){if(ci(s)||(p=ed(s))||h&&s&&typeof s.length=="number"){p&&(s=p);var g=0,y=function(){};return{s:y,n:function(){return g>=s.length?{done:!0}:{done:!1,value:s[g++]}},e:function(M){throw M},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,x=!1,P;return{s:function(){p=Zi(s)},n:function(){var M=p.next();return w=M.done,M},e:function(M){x=!0,P=M},f:function(){try{!w&&p.return!=null&&p.return()}finally{if(x)throw P}}}}function ed(s,h){var p;if(!!s){if(typeof s=="string")return qf(s,h);var g=za(p=Object.prototype.toString.call(s)).call(p,8,-1);if(g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set")return xu(s);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return qf(s,h)}}function qf(s,h){(h==null||h>s.length)&&(h=s.length);for(var p=0,g=new Array(h);p<h;p++)g[p]=s[p];return g}var Kd=function(){function s(h){Jn(this,s),this._pairs=h}return Vi(s,[{key:zs,value:Cn.mark(function h(){var p,g,y,w,x;return Cn.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:p=zi(this._pairs),T.prev=1,p.s();case 3:if((g=p.n()).done){T.next=9;break}return y=hi(g.value,2),w=y[0],x=y[1],T.next=7,[w,x];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),p.e(T.t0);case 14:return T.prev=14,p.f(),T.finish(14);case 17:case"end":return T.stop()}},h,this,[[1,11,14,17]])})},{key:"entries",value:Cn.mark(function h(){var p,g,y,w,x;return Cn.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:p=zi(this._pairs),T.prev=1,p.s();case 3:if((g=p.n()).done){T.next=9;break}return y=hi(g.value,2),w=y[0],x=y[1],T.next=7,[w,x];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),p.e(T.t0);case 14:return T.prev=14,p.f(),T.finish(14);case 17:case"end":return T.stop()}},h,this,[[1,11,14,17]])})},{key:"keys",value:Cn.mark(function h(){var p,g,y,w;return Cn.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:p=zi(this._pairs),P.prev=1,p.s();case 3:if((g=p.n()).done){P.next=9;break}return y=hi(g.value,1),w=y[0],P.next=7,w;case 7:P.next=3;break;case 9:P.next=14;break;case 11:P.prev=11,P.t0=P.catch(1),p.e(P.t0);case 14:return P.prev=14,p.f(),P.finish(14);case 17:case"end":return P.stop()}},h,this,[[1,11,14,17]])})},{key:"values",value:Cn.mark(function h(){var p,g,y,w;return Cn.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:p=zi(this._pairs),P.prev=1,p.s();case 3:if((g=p.n()).done){P.next=9;break}return y=hi(g.value,2),w=y[1],P.next=7,w;case 7:P.next=3;break;case 9:P.next=14;break;case 11:P.prev=11,P.t0=P.catch(1),p.e(P.t0);case 14:return P.prev=14,p.f(),P.finish(14);case 17:case"end":return P.stop()}},h,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var p;return Qt(p=Be(this._pairs)).call(p,function(g){return g[0]})}},{key:"toItemArray",value:function(){var p;return Qt(p=Be(this._pairs)).call(p,function(g){return g[1]})}},{key:"toEntryArray",value:function(){return Be(this._pairs)}},{key:"toObjectMap",value:function(){var p=Wl(null),g=zi(this._pairs),y;try{for(g.s();!(y=g.n()).done;){var w=hi(y.value,2),x=w[0],P=w[1];p[x]=P}}catch(T){g.e(T)}finally{g.f()}return p}},{key:"toMap",value:function(){return new _h(this._pairs)}},{key:"toIdSet",value:function(){return new Jc(this.toIdArray())}},{key:"toItemSet",value:function(){return new Jc(this.toItemArray())}},{key:"cache",value:function(){return new s(Be(this._pairs))}},{key:"distinct",value:function(p){var g=new Jc,y=zi(this._pairs),w;try{for(y.s();!(w=y.n()).done;){var x=hi(w.value,2),P=x[0],T=x[1];g.add(p(T,P))}}catch(M){y.e(M)}finally{y.f()}return g}},{key:"filter",value:function(p){var g=this._pairs;return new s(Bn({},zs,Cn.mark(function y(){var w,x,P,T,M;return Cn.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:w=zi(g),j.prev=1,w.s();case 3:if((x=w.n()).done){j.next=10;break}if(P=hi(x.value,2),T=P[0],M=P[1],!p(M,T)){j.next=8;break}return j.next=8,[T,M];case 8:j.next=3;break;case 10:j.next=15;break;case 12:j.prev=12,j.t0=j.catch(1),w.e(j.t0);case 15:return j.prev=15,w.f(),j.finish(15);case 18:case"end":return j.stop()}},y,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(p){var g=zi(this._pairs),y;try{for(g.s();!(y=g.n()).done;){var w=hi(y.value,2),x=w[0],P=w[1];p(P,x)}}catch(T){g.e(T)}finally{g.f()}}},{key:"map",value:function(p){var g=this._pairs;return new s(Bn({},zs,Cn.mark(function y(){var w,x,P,T,M;return Cn.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:w=zi(g),j.prev=1,w.s();case 3:if((x=w.n()).done){j.next=9;break}return P=hi(x.value,2),T=P[0],M=P[1],j.next=7,[T,p(M,T)];case 7:j.next=3;break;case 9:j.next=14;break;case 11:j.prev=11,j.t0=j.catch(1),w.e(j.t0);case 14:return j.prev=14,w.f(),j.finish(14);case 17:case"end":return j.stop()}},y,null,[[1,11,14,17]])})))}},{key:"max",value:function(p){var g=Zi(this._pairs),y=g.next();if(y.done)return null;for(var w=y.value[1],x=p(y.value[1],y.value[0]);!(y=g.next()).done;){var P=hi(y.value,2),T=P[0],M=P[1],N=p(M,T);N>x&&(x=N,w=M)}return w}},{key:"min",value:function(p){var g=Zi(this._pairs),y=g.next();if(y.done)return null;for(var w=y.value[1],x=p(y.value[1],y.value[0]);!(y=g.next()).done;){var P=hi(y.value,2),T=P[0],M=P[1],N=p(M,T);N<x&&(x=N,w=M)}return w}},{key:"reduce",value:function(p,g){var y=zi(this._pairs),w;try{for(y.s();!(w=y.n()).done;){var x=hi(w.value,2),P=x[0],T=x[1];g=p(g,T,P)}}catch(M){y.e(M)}finally{y.f()}return g}},{key:"sort",value:function(p){var g=this;return new s(Bn({},zs,function(){var y;return Zi(Wd(y=Be(g._pairs)).call(y,function(w,x){var P=hi(w,2),T=P[0],M=P[1],N=hi(x,2),j=N[0],$=N[1];return p(M,$,T,j)}))}))}}]),s}();function Uf(s,h){var p=oh(s);if(Tl){var g=Tl(s);h&&(g=Bt(g).call(g,function(y){return yl(s,y).enumerable})),p.push.apply(p,g)}return p}function Vf(s){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};if(h%2){var g;Rr(g=Uf(Object(p),!0)).call(g,function(w){Bn(s,w,p[w])})}else if(Or)ls(s,Or(p));else{var y;Rr(y=Uf(Object(p))).call(y,function(w){tu(s,w,yl(p,w))})}}return s}function Qd(s,h){var p;if(typeof ta=="undefined"||xa(s)==null){if(ci(s)||(p=td(s))||h&&s&&typeof s.length=="number"){p&&(s=p);var g=0,y=function(){};return{s:y,n:function(){return g>=s.length?{done:!0}:{done:!1,value:s[g++]}},e:function(M){throw M},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,x=!1,P;return{s:function(){p=Zi(s)},n:function(){var M=p.next();return w=M.done,M},e:function(M){x=!0,P=M},f:function(){try{!w&&p.return!=null&&p.return()}finally{if(x)throw P}}}}function td(s,h){var p;if(!!s){if(typeof s=="string")return Zd(s,h);var g=za(p=Object.prototype.toString.call(s)).call(p,8,-1);if(g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set")return xu(s);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Zd(s,h)}}function Zd(s,h){(h==null||h>s.length)&&(h=s.length);for(var p=0,g=new Array(h);p<h;p++)g[p]=s[p];return g}function Jd(s){var h=Gf();return function(){var g=Qc(s),y;if(h){var w=Qc(this).constructor;y=Ya(g,arguments,w)}else y=g.apply(this,arguments);return Kc(this,y)}}function Gf(){if(typeof Reflect=="undefined"||!Ya||Ya.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Ya(Date,[],function(){})),!0}catch(s){return!1}}function Hs(s,h){return s[h]==null&&(s[h]=Hv()),s}var Vn=function(s){zf(p,s);var h=Jd(p);function p(g,y){var w;return Jn(this,p),w=h.call(this),w._queue=null,g&&!ci(g)&&(y=g,g=[]),w._options=y||{},w._data=new _h,w.length=0,w._idProp=w._options.fieldId||"id",g&&g.length&&w.add(g),w.setOptions(y),w}return Vi(p,[{key:"setOptions",value:function(y){y&&y.queue!==void 0&&(y.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=$f.extend(this,{replace:["add","update","remove"]})),y.queue&&mi(y.queue)==="object"&&this._queue.setOptions(y.queue)))}},{key:"add",value:function(y,w){var x=this,P=[],T;if(ci(y)){var M=Qt(y).call(y,function($){return $[x._idProp]});if(Tf(M).call(M,function($){return x._data.has($)}))throw new Error("A duplicate id was found in the parameter array.");for(var N=0,j=y.length;N<j;N++)T=this._addItem(y[N]),P.push(T)}else if(y&&mi(y)==="object")T=this._addItem(y),P.push(T);else throw new Error("Unknown dataType");return P.length&&this._trigger("add",{items:P},w),P}},{key:"update",value:function(y,w){var x=this,P=[],T=[],M=[],N=[],j=this._idProp,$=function(Ae){var wt=Ae[j];if(wt!=null&&x._data.has(wt)){var vi=Ae,St=Yl({},x._data.get(wt)),pi=x._updateItem(vi);T.push(pi),N.push(vi),M.push(St)}else{var ki=x._addItem(Ae);P.push(ki)}};if(ci(y))for(var ce=0,Re=y.length;ce<Re;ce++)y[ce]&&mi(y[ce])==="object"?$(y[ce]):console.warn("Ignoring input item, which is not an object at index "+ce);else if(y&&mi(y)==="object")$(y);else throw new Error("Unknown dataType");if(P.length&&this._trigger("add",{items:P},w),T.length){var $e={items:T,oldData:M,data:N};this._trigger("update",$e,w)}return an(P).call(P,T)}},{key:"updateOnly",value:function(y,w){var x,P=this;ci(y)||(y=[y]);var T=Qt(x=Qt(y).call(y,function(N){var j=P._data.get(N[P._idProp]);if(j==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:j,update:N}})).call(x,function(N){var j=N.oldData,$=N.update,ce=j[P._idProp],Re=nv(j,$);return P._data.set(ce,Re),{id:ce,oldData:j,updatedData:Re}});if(T.length){var M={items:Qt(T).call(T,function(N){return N.id}),oldData:Qt(T).call(T,function(N){return N.oldData}),data:Qt(T).call(T,function(N){return N.updatedData})};return this._trigger("update",M,w),M.items}else return[]}},{key:"get",value:function(y,w){var x=void 0,P=void 0,T=void 0;Yd(y)?(x=y,T=w):ci(y)?(P=y,T=w):T=y;var M=T&&T.returnType==="Object"?"Object":"Array",N=T&&Bt(T),j=[],$=void 0,ce=void 0,Re=void 0;if(x!=null)$=this._data.get(x),$&&N&&!N($)&&($=void 0);else if(P!=null)for(var $e=0,rt=P.length;$e<rt;$e++)$=this._data.get(P[$e]),$!=null&&(!N||N($))&&j.push($);else{var Ae;ce=Be(Bs(Ae=this._data).call(Ae));for(var wt=0,vi=ce.length;wt<vi;wt++)Re=ce[wt],$=this._data.get(Re),$!=null&&(!N||N($))&&j.push($)}if(T&&T.order&&x==null&&this._sort(j,T.order),T&&T.fields){var St=T.fields;if(x!=null&&$!=null)$=this._filterFields($,St);else for(var pi=0,ki=j.length;pi<ki;pi++)j[pi]=this._filterFields(j[pi],St)}if(M=="Object"){for(var Gr={},Bi=0,Qa=j.length;Bi<Qa;Bi++){var ua=j[Bi],$s=ua[this._idProp];Gr[$s]=ua}return Gr}else if(x!=null){var la;return(la=$)!==null&&la!==void 0?la:null}else return j}},{key:"getIds",value:function(y){var w=this._data,x=y&&Bt(y),P=y&&y.order,T=Be(Bs(w).call(w)),M=[];if(x)if(P){for(var N=[],j=0,$=T.length;j<$;j++){var ce=T[j],Re=this._data.get(ce);Re!=null&&x(Re)&&N.push(Re)}this._sort(N,P);for(var $e=0,rt=N.length;$e<rt;$e++)M.push(N[$e][this._idProp])}else for(var Ae=0,wt=T.length;Ae<wt;Ae++){var vi=T[Ae],St=this._data.get(vi);St!=null&&x(St)&&M.push(St[this._idProp])}else if(P){for(var pi=[],ki=0,Gr=T.length;ki<Gr;ki++){var Bi=T[ki];pi.push(w.get(Bi))}this._sort(pi,P);for(var Qa=0,ua=pi.length;Qa<ua;Qa++)M.push(pi[Qa][this._idProp])}else for(var $s=0,la=T.length;$s<la;$s++){var nd=T[$s],el=w.get(nd);el!=null&&M.push(el[this._idProp])}return M}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(y,w){var x=w&&Bt(w),P=this._data,T=Be(Bs(P).call(P));if(w&&w.order)for(var M=this.get(w),N=0,j=M.length;N<j;N++){var $=M[N],ce=$[this._idProp];y($,ce)}else for(var Re=0,$e=T.length;Re<$e;Re++){var rt=T[Re],Ae=this._data.get(rt);Ae!=null&&(!x||x(Ae))&&y(Ae,rt)}}},{key:"map",value:function(y,w){for(var x=w&&Bt(w),P=[],T=this._data,M=Be(Bs(T).call(T)),N=0,j=M.length;N<j;N++){var $=M[N],ce=this._data.get($);ce!=null&&(!x||x(ce))&&P.push(y(ce,$))}return w&&w.order&&this._sort(P,w.order),P}},{key:"_filterFields",value:function(y,w){var x;return y&&Po(x=ci(w)?w:oh(w)).call(x,function(P,T){return P[T]=y[T],P},{})}},{key:"_sort",value:function(y,w){if(typeof w=="string"){var x=w;Wd(y).call(y,function(P,T){var M=P[x],N=T[x];return M>N?1:M<N?-1:0})}else if(typeof w=="function")Wd(y).call(y,w);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(y,w){for(var x=[],P=[],T=ci(y)?y:[y],M=0,N=T.length;M<N;M++){var j=this._remove(T[M]);if(j){var $=j[this._idProp];$!=null&&(x.push($),P.push(j))}}return x.length&&this._trigger("remove",{items:x,oldData:P},w),x}},{key:"_remove",value:function(y){var w;if(Yd(y)?w=y:y&&mi(y)==="object"&&(w=y[this._idProp]),w!=null&&this._data.has(w)){var x=this._data.get(w)||null;return this._data.delete(w),--this.length,x}return null}},{key:"clear",value:function(y){for(var w,x=Be(Bs(w=this._data).call(w)),P=[],T=0,M=x.length;T<M;T++)P.push(this._data.get(x[T]));return this._data.clear(),this.length=0,this._trigger("remove",{items:x,oldData:P},y),x}},{key:"max",value:function(y){var w,x=null,P=null,T=Qd(yf(w=this._data).call(w)),M;try{for(T.s();!(M=T.n()).done;){var N=M.value,j=N[y];typeof j=="number"&&(P==null||j>P)&&(x=N,P=j)}}catch($){T.e($)}finally{T.f()}return x||null}},{key:"min",value:function(y){var w,x=null,P=null,T=Qd(yf(w=this._data).call(w)),M;try{for(T.s();!(M=T.n()).done;){var N=M.value,j=N[y];typeof j=="number"&&(P==null||j<P)&&(x=N,P=j)}}catch($){T.e($)}finally{T.f()}return x||null}},{key:"distinct",value:function(y){for(var w=this._data,x=Be(Bs(w).call(w)),P=[],T=0,M=0,N=x.length;M<N;M++){for(var j=x[M],$=w.get(j),ce=$[y],Re=!1,$e=0;$e<T;$e++)if(P[$e]==ce){Re=!0;break}!Re&&ce!==void 0&&(P[T]=ce,T++)}return P}},{key:"_addItem",value:function(y){var w=Hs(y,this._idProp),x=w[this._idProp];if(this._data.has(x))throw new Error("Cannot add item: item with id "+x+" already exists");return this._data.set(x,w),++this.length,x}},{key:"_updateItem",value:function(y){var w=y[this._idProp];if(w==null)throw new Error("Cannot update item: item has no id (item: "+$l(y)+")");var x=this._data.get(w);if(!x)throw new Error("Cannot update item: no item with id "+w+" found");return this._data.set(w,Vf(Vf({},x),y)),w}},{key:"stream",value:function(y){if(y){var w=this._data;return new Kd(Bn({},zs,Cn.mark(function P(){var T,M,N,j;return Cn.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:T=Qd(y),ce.prev=1,T.s();case 3:if((M=T.n()).done){ce.next=11;break}if(N=M.value,j=w.get(N),j==null){ce.next=9;break}return ce.next=9,[N,j];case 9:ce.next=3;break;case 11:ce.next=16;break;case 13:ce.prev=13,ce.t0=ce.catch(1),T.e(ce.t0);case 16:return ce.prev=16,T.f(),ce.finish(16);case 19:case"end":return ce.stop()}},P,null,[[1,13,16,19]])})))}else{var x;return new Kd(Bn({},zs,Qn(x=fv(this._data)).call(x,this._data)))}}},{key:"idProp",get:function(){return this._idProp}}]),p}(Xd);function Xa(s,h){var p;if(typeof ta=="undefined"||xa(s)==null){if(ci(s)||(p=Ka(s))||h&&s&&typeof s.length=="number"){p&&(s=p);var g=0,y=function(){};return{s:y,n:function(){return g>=s.length?{done:!0}:{done:!1,value:s[g++]}},e:function(M){throw M},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,x=!1,P;return{s:function(){p=Zi(s)},n:function(){var M=p.next();return w=M.done,M},e:function(M){x=!0,P=M},f:function(){try{!w&&p.return!=null&&p.return()}finally{if(x)throw P}}}}function Ka(s,h){var p;if(!!s){if(typeof s=="string")return Eh(s,h);var g=za(p=Object.prototype.toString.call(s)).call(p,8,-1);if(g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set")return xu(s);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Eh(s,h)}}function Eh(s,h){(h==null||h>s.length)&&(h=s.length);for(var p=0,g=new Array(h);p<h;p++)g[p]=s[p];return g}function xh(s){var h=Pt();return function(){var g=Qc(s),y;if(h){var w=Qc(this).constructor;y=Ya(g,arguments,w)}else y=g.apply(this,arguments);return Kc(this,y)}}function Pt(){if(typeof Reflect=="undefined"||!Ya||Ya.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Ya(Date,[],function(){})),!0}catch(s){return!1}}var ef=function(s){zf(p,s);var h=xh(p);function p(g,y){var w,x;return Jn(this,p),x=h.call(this),x.length=0,x._ids=new Jc,x._options=y||{},x._listener=Qn(w=x._onEvent).call(w,Bf(x)),x.setData(g),x}return Vi(p,[{key:"setData",value:function(y){if(this._data){this._data.off&&this._data.off("*",this._listener);var w=this._data.getIds({filter:Bt(this._options)}),x=this._data.get(w);this._ids.clear(),this.length=0,this._trigger("remove",{items:w,oldData:x})}if(y!=null){this._data=y;for(var P=this._data.getIds({filter:Bt(this._options)}),T=0,M=P.length;T<M;T++){var N=P[T];this._ids.add(N)}this.length=P.length,this._trigger("add",{items:P})}else this._data=new Vn;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var y=this._data.getIds({filter:Bt(this._options)}),w=Be(this._ids),x={},P=[],T=[],M=[],N=0,j=y.length;N<j;N++){var $=y[N];x[$]=!0,this._ids.has($)||(P.push($),this._ids.add($))}for(var ce=0,Re=w.length;ce<Re;ce++){var $e=w[ce],rt=this._data.get($e);rt==null?console.error("If you see this, report it please."):x[$e]||(T.push($e),M.push(rt),this._ids.delete($e))}this.length+=P.length-T.length,P.length&&this._trigger("add",{items:P}),T.length&&this._trigger("remove",{items:T,oldData:M})}},{key:"get",value:function(y,w){if(this._data==null)return null;var x=null,P;Yd(y)||ci(y)?(x=y,P=w):P=y;var T=Yl({},this._options,P),M=Bt(this._options),N=P&&Bt(P);return M&&N&&(T.filter=function(j){return M(j)&&N(j)}),x==null?this._data.get(T):this._data.get(x,T)}},{key:"getIds",value:function(y){if(this._data.length){var w=Bt(this._options),x=y!=null?Bt(y):null,P;return x?w?P=function(M){return w(M)&&x(M)}:P=x:P=w,this._data.getIds({filter:P,order:y&&y.order})}else return[]}},{key:"forEach",value:function(y,w){if(this._data){var x,P=Bt(this._options),T=w&&Bt(w),M;T?P?M=function(j){return P(j)&&T(j)}:M=T:M=P,Rr(x=this._data).call(x,y,{filter:M,order:w&&w.order})}}},{key:"map",value:function(y,w){if(this._data){var x,P=Bt(this._options),T=w&&Bt(w),M;return T?P?M=function(j){return P(j)&&T(j)}:M=T:M=P,Qt(x=this._data).call(x,y,{filter:M,order:w&&w.order})}else return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(y){var w;return this._data.stream(y||Bn({},zs,Qn(w=Bs(this._ids)).call(w,this._ids)))}},{key:"dispose",value:function(){var y;(y=this._data)!==null&&y!==void 0&&y.off&&this._data.off("*",this._listener);var w="This data view has already been disposed of.",x={get:function(){throw new Error(w)},set:function(){throw new Error(w)},configurable:!1},P=Xa(ah(p.prototype)),T;try{for(P.s();!(T=P.n()).done;){var M=T.value;tu(this,M,x)}}catch(N){P.e(N)}finally{P.f()}}},{key:"_onEvent",value:function(y,w,x){if(!(!w||!w.items||!this._data)){var P=w.items,T=[],M=[],N=[],j=[],$=[],ce=[];switch(y){case"add":for(var Re=0,$e=P.length;Re<$e;Re++){var rt=P[Re],Ae=this.get(rt);Ae&&(this._ids.add(rt),T.push(rt))}break;case"update":for(var wt=0,vi=P.length;wt<vi;wt++){var St=P[wt],pi=this.get(St);pi?this._ids.has(St)?(M.push(St),$.push(w.data[wt]),j.push(w.oldData[wt])):(this._ids.add(St),T.push(St)):this._ids.has(St)&&(this._ids.delete(St),N.push(St),ce.push(w.oldData[wt]))}break;case"remove":for(var ki=0,Gr=P.length;ki<Gr;ki++){var Bi=P[ki];this._ids.has(Bi)&&(this._ids.delete(Bi),N.push(Bi),ce.push(w.oldData[ki]))}break}this.length+=T.length-N.length,T.length&&this._trigger("add",{items:T},x),M.length&&this._trigger("update",{items:M,oldData:j,data:$},x),N.length&&this._trigger("remove",{items:N,oldData:ce},x)}}},{key:"idProp",get:function(){return this.getDataSet().idProp}}]),p}(Xd);function id(s,h){return mi(h)==="object"&&h!==null&&s===h.idProp&&typeof h.add=="function"&&typeof h.clear=="function"&&typeof h.distinct=="function"&&typeof Rr(h)=="function"&&typeof h.get=="function"&&typeof h.getDataSet=="function"&&typeof h.getIds=="function"&&typeof h.length=="number"&&typeof Qt(h)=="function"&&typeof h.max=="function"&&typeof h.min=="function"&&typeof h.off=="function"&&typeof h.on=="function"&&typeof h.remove=="function"&&typeof h.setOptions=="function"&&typeof h.stream=="function"&&typeof h.update=="function"&&typeof h.updateOnly=="function"}function Yf(s,h){return mi(h)==="object"&&h!==null&&s===h.idProp&&typeof Rr(h)=="function"&&typeof h.get=="function"&&typeof h.getDataSet=="function"&&typeof h.getIds=="function"&&typeof h.length=="number"&&typeof Qt(h)=="function"&&typeof h.off=="function"&&typeof h.on=="function"&&typeof h.stream=="function"&&id(s,h.getDataSet())}fe.DELETE=$d,fe.DataSet=Vn,fe.DataStream=Kd,fe.DataView=ef,fe.Queue=$f,fe.createNewDataPipeFrom=Bh,fe.isDataSetLike=id,fe.isDataViewLike=Yf,Object.defineProperty(fe,"__esModule",{value:!0})})});var ap=Sh((Qf,op)=>{(function(fe,ue){typeof Qf=="object"&&typeof op!="undefined"?ue(Qf,rp()):typeof define=="function"&&define.amd?define(["exports","vis-data/peer/umd/vis-data.js"],ue):ue((fe=typeof globalThis!="undefined"?globalThis:fe||self).vis=fe.vis||{},fe.vis)})(Qf,function(fe,ue){var le=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function _e(r){var e={exports:{}};return r(e,e.exports),e.exports}var ee=function(r){return r&&r.Math==Math&&r},J=ee(typeof globalThis=="object"&&globalThis)||ee(typeof window=="object"&&window)||ee(typeof self=="object"&&self)||ee(typeof le=="object"&&le)||function(){return this}()||Function("return this")(),re=function(r){try{return!!r()}catch(e){return!0}},tt=!re(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Gn={}.propertyIsEnumerable,Hi=Object.getOwnPropertyDescriptor,_t={f:Hi&&!Gn.call({1:2},1)?function(r){var e=Hi(this,r);return!!e&&e.enumerable}:Gn},jt=function(r,e){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:e}},Ct={}.toString,cn=function(r){return Ct.call(r).slice(8,-1)},gi="".split,Yr=re(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return cn(r)=="String"?gi.call(r,""):Object(r)}:Object,Ht=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r},ot=function(r){return Yr(Ht(r))},Ue=function(r){return typeof r=="object"?r!==null:typeof r=="function"},Tt=function(r,e){if(!Ue(r))return r;var t,i;if(e&&typeof(t=r.toString)=="function"&&!Ue(i=t.call(r))||typeof(t=r.valueOf)=="function"&&!Ue(i=t.call(r))||!e&&typeof(t=r.toString)=="function"&&!Ue(i=t.call(r)))return i;throw TypeError("Can't convert object to primitive value")},qe={}.hasOwnProperty,Ye=function(r,e){return qe.call(r,e)},Xe=J.document,qs=Ue(Xe)&&Ue(Xe.createElement),il=function(r){return qs?Xe.createElement(r):{}},Us=!tt&&!re(function(){return Object.defineProperty(il("div"),"a",{get:function(){return 7}}).a!=7}),Eo=Object.getOwnPropertyDescriptor,xo={f:tt?Eo:function(r,e){if(r=ot(r),e=Tt(e,!0),Us)try{return Eo(r,e)}catch(t){}if(Ye(r,e))return jt(!_t.f.call(r,e),r[e])}},Ja=/#|\.prototype\./,yr=function(r,e){var t=es[ad(r)];return t==ud||t!=sd&&(typeof e=="function"?re(e):!!e)},ad=yr.normalize=function(r){return String(r).replace(Ja,".").toLowerCase()},es=yr.data={},sd=yr.NATIVE="N",ud=yr.POLYFILL="P",at=yr,je={},dn=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r},Me=function(r,e,t){if(dn(r),e===void 0)return r;switch(t){case 0:return function(){return r.call(e)};case 1:return function(i){return r.call(e,i)};case 2:return function(i,n){return r.call(e,i,n)};case 3:return function(i,n,o){return r.call(e,i,n,o)}}return function(){return r.apply(e,arguments)}},At=function(r){if(!Ue(r))throw TypeError(String(r)+" is not an object");return r},Vt=Object.defineProperty,st={f:tt?Vt:function(r,e,t){if(At(r),e=Tt(e,!0),At(t),Us)try{return Vt(r,e,t)}catch(i){}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(r[e]=t.value),r}},$i=tt?function(r,e,t){return st.f(r,e,jt(1,t))}:function(r,e,t){return r[e]=t,r},ld=xo.f,De=function(r){var e=function(t,i,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,i)}return new r(t,i,n)}return r.apply(this,arguments)};return e.prototype=r.prototype,e},ke=function(r,e){var t,i,n,o,a,l,c,m,_=r.target,E=r.global,S=r.stat,A=r.proto,D=E?J:S?J[_]:(J[_]||{}).prototype,R=E?je:je[_]||(je[_]={}),H=R.prototype;for(n in e)t=!at(E?n:_+(S?".":"#")+n,r.forced)&&D&&Ye(D,n),a=R[n],t&&(l=r.noTargetGet?(m=ld(D,n))&&m.value:D[n]),o=t&&l?l:e[n],t&&typeof a==typeof o||(c=r.bind&&t?Me(o,J):r.wrap&&t?De(o):A&&typeof o=="function"?Me(Function.call,o):o,(r.sham||o&&o.sham||a&&a.sham)&&$i(c,"sham",!0),R[n]=c,A&&(Ye(je,i=_+"Prototype")||$i(je,i,{}),je[i][n]=o,r.real&&H&&!H[n]&&$i(H,n,o)))},hd=Math.ceil,cd=Math.floor,ze=function(r){return isNaN(r=+r)?0:(r>0?cd:hd)(r)},mr=Math.min,Gt=function(r){return r>0?mr(ze(r),9007199254740991):0},Ih=Math.max,Vs=Math.min,Yt=function(r,e){var t=ze(r);return t<0?Ih(t+e,0):Vs(t,e)},Wi=function(r){return function(e,t,i){var n,o=ot(e),a=Gt(o.length),l=Yt(i,a);if(r&&t!=t){for(;a>l;)if((n=o[l++])!=n)return!0}else for(;a>l;l++)if((r||l in o)&&o[l]===t)return r||l||0;return!r&&-1}},Yn={includes:Wi(!0),indexOf:Wi(!1)},fn={},Ei=Yn.indexOf,Ph=function(r,e){var t,i=ot(r),n=0,o=[];for(t in i)!Ye(fn,t)&&Ye(i,t)&&o.push(t);for(;e.length>n;)Ye(i,t=e[n++])&&(~Ei(o,t)||o.push(t));return o},br=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ri=Object.keys||function(r){return Ph(r,br)},vn={f:Object.getOwnPropertySymbols},Mt=function(r){return Object(Ht(r))},Xn=Object.assign,Ch=Object.defineProperty,xt=!Xn||re(function(){if(tt&&Xn({b:1},Xn(Ch({},"a",{enumerable:!0,get:function(){Ch(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},e={},t=Symbol(),i="abcdefghijklmnopqrst";return r[t]=7,i.split("").forEach(function(n){e[n]=n}),Xn({},r)[t]!=7||ri(Xn({},e)).join("")!=i})?function(r,e){for(var t=Mt(r),i=arguments.length,n=1,o=vn.f,a=_t.f;i>n;)for(var l,c=Yr(arguments[n++]),m=o?ri(c).concat(o(c)):ri(c),_=m.length,E=0;_>E;)l=m[E++],tt&&!a.call(c,l)||(t[l]=c[l]);return t}:Xn;ke({target:"Object",stat:!0,forced:Object.assign!==xt},{assign:xt});var pt=je.Object.assign,ha=[].slice,Dn={},Xr=function(r,e,t){if(!(e in Dn)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";Dn[e]=Function("C,a","return new C("+i.join(",")+")")}return Dn[e](r,t)},zt=Function.bind||function(r){var e=dn(this),t=ha.call(arguments,1),i=function(){var n=t.concat(ha.call(arguments));return this instanceof i?Xr(e,n.length,n):e.apply(r,n)};return Ue(e.prototype)&&(i.prototype=e.prototype),i};ke({target:"Function",proto:!0},{bind:zt});var nt=function(r){return je[r+"Prototype"]},Ah=nt("Function").bind,ts=Function.prototype,Z=function(r){var e=r.bind;return r===ts||r instanceof Function&&e===ts.bind?Ah:e};function wr(r,e,t,i){r.beginPath(),r.arc(e,t,i,0,2*Math.PI,!1),r.closePath()}function Kr(r,e,t,i,n,o){var a=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),r.beginPath(),r.moveTo(e+o,t),r.lineTo(e+i-o,t),r.arc(e+i-o,t+o,o,270*a,360*a,!1),r.lineTo(e+i,t+n-o),r.arc(e+i-o,t+n-o,o,0,90*a,!1),r.lineTo(e+o,t+n),r.arc(e+o,t+n-o,o,90*a,180*a,!1),r.lineTo(e,t+o),r.arc(e+o,t+o,o,180*a,270*a,!1),r.closePath()}function Gs(r,e,t,i,n){var o=.5522848,a=i/2*o,l=n/2*o,c=e+i,m=t+n,_=e+i/2,E=t+n/2;r.beginPath(),r.moveTo(e,E),r.bezierCurveTo(e,E-l,_-a,t,_,t),r.bezierCurveTo(_+a,t,c,E-l,c,E),r.bezierCurveTo(c,E+l,_+a,m,_,m),r.bezierCurveTo(_-a,m,e,E+l,e,E),r.closePath()}function Qr(r,e,t,i,n){var o=n*(1/3),a=.5522848,l=i/2*a,c=o/2*a,m=e+i,_=t+o,E=e+i/2,S=t+o/2,A=t+(n-o/2),D=t+n;r.beginPath(),r.moveTo(m,S),r.bezierCurveTo(m,S+c,E+l,_,E,_),r.bezierCurveTo(E-l,_,e,S+c,e,S),r.bezierCurveTo(e,S-c,E-l,t,E,t),r.bezierCurveTo(E+l,t,m,S-c,m,S),r.lineTo(m,A),r.bezierCurveTo(m,A+c,E+l,D,E,D),r.bezierCurveTo(E-l,D,e,A+c,e,A),r.lineTo(e,S)}function is(r,e,t,i,n,o){r.beginPath(),r.moveTo(e,t);for(var a=o.length,l=i-e,c=n-t,m=c/l,_=Math.sqrt(l*l+c*c),E=0,S=!0,A=0,D=+o[0];_>=.1;)(D=+o[E++%a])>_&&(D=_),A=Math.sqrt(D*D/(1+m*m)),e+=A=l<0?-A:A,t+=m*A,S===!0?r.lineTo(e,t):r.moveTo(e,t),_-=D,S=!S}var nl={circle:wr,dashedLine:is,database:Qr,diamond:function(r,e,t,i){r.beginPath(),r.lineTo(e,t+i),r.lineTo(e+i,t),r.lineTo(e,t-i),r.lineTo(e-i,t),r.closePath()},ellipse:Gs,ellipse_vis:Gs,hexagon:function(r,e,t,i){r.beginPath();var n=2*Math.PI/6;r.moveTo(e+i,t);for(var o=1;o<6;o++)r.lineTo(e+i*Math.cos(n*o),t+i*Math.sin(n*o));r.closePath()},roundRect:Kr,square:function(r,e,t,i){r.beginPath(),r.rect(e-i,t-i,2*i,2*i),r.closePath()},star:function(r,e,t,i){r.beginPath(),t+=.1*(i*=.82);for(var n=0;n<10;n++){var o=n%2==0?1.3*i:.5*i;r.lineTo(e+o*Math.sin(2*n*Math.PI/10),t-o*Math.cos(2*n*Math.PI/10))}r.closePath()},triangle:function(r,e,t,i){r.beginPath(),t+=.275*(i*=1.15);var n=2*i,o=n/2,a=Math.sqrt(3)/6*n,l=Math.sqrt(n*n-o*o);r.moveTo(e,t-(l-a)),r.lineTo(e+o,t+a),r.lineTo(e-o,t+a),r.lineTo(e,t-(l-a)),r.closePath()},triangleDown:function(r,e,t,i){r.beginPath(),t-=.275*(i*=1.15);var n=2*i,o=n/2,a=Math.sqrt(3)/6*n,l=Math.sqrt(n*n-o*o);r.moveTo(e,t+(l-a)),r.lineTo(e+o,t-a),r.lineTo(e-o,t-a),r.lineTo(e,t+(l-a)),r.closePath()}},_r=_e(function(r){function e(t){if(t)return function(i){for(var n in e.prototype)i[n]=e.prototype[n];return i}(t)}r.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(i),this},e.prototype.once=function(t,i){function n(){this.off(t,n),i.apply(this,arguments)}return n.fn=i,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a=0;a<o.length;a++)if((n=o[a])===i||n.fn===i){o.splice(a,1);break}return o.length===0&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(n){o=0;for(var a=(n=n.slice(0)).length;o<a;++o)n[o].apply(this,i)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),Zr=function(r){return function(e,t){var i,n,o=String(Ht(e)),a=ze(t),l=o.length;return a<0||a>=l?r?"":void 0:(i=o.charCodeAt(a))<55296||i>56319||a+1===l||(n=o.charCodeAt(a+1))<56320||n>57343?r?o.charAt(a):i:r?o.slice(a,a+2):n-56320+(i-55296<<10)+65536}},ns={codeAt:Zr(!1),charAt:Zr(!0)},Jr="__core-js_shared__",xi=J[Jr]||function(r,e){try{$i(J,r,e)}catch(t){J[r]=e}return e}(Jr,{}),Dh=Function.toString;typeof xi.inspectSource!="function"&&(xi.inspectSource=function(r){return Dh.call(r)});var Oo,So,$t,Ys=xi.inspectSource,rs=J.WeakMap,Mh=typeof rs=="function"&&/native code/.test(Ys(rs)),Mn=_e(function(r){(r.exports=function(e,t){return xi[e]||(xi[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.9.1",mode:"pure",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),Fh=0,yi=Math.random(),ca=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++Fh+yi).toString(36)},Kn=Mn("keys"),Xs=function(r){return Kn[r]||(Kn[r]=ca(r))},dd=J.WeakMap;if(Mh){var To=xi.state||(xi.state=new dd),Kt=To.get,rl=To.has,fd=To.set;Oo=function(r,e){return e.facade=r,fd.call(To,r,e),e},So=function(r){return Kt.call(To,r)||{}},$t=function(r){return rl.call(To,r)}}else{var kr=Xs("state");fn[kr]=!0,Oo=function(r,e){return e.facade=r,$i(r,kr,e),e},So=function(r){return Ye(r,kr)?r[kr]:{}},$t=function(r){return Ye(r,kr)}}var Qt,Ks,qi={set:Oo,get:So,has:$t,enforce:function(r){return $t(r)?So(r):Oo(r,{})},getterFor:function(r){return function(e){var t;if(!Ue(e)||(t=So(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}},Nh=!re(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),Rh=Xs("IE_PROTO"),ol=Object.prototype,Io=Nh?Object.getPrototypeOf:function(r){return r=Mt(r),Ye(r,Rh)?r[Rh]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?ol:null},al=cn(J.process)=="process",Bt=function(r){return typeof r=="function"?r:void 0},eo=function(r,e){return arguments.length<2?Bt(je[r])||Bt(J[r]):je[r]&&je[r][e]||J[r]&&J[r][e]},os=eo("navigator","userAgent")||"",da=J.process,sl=da&&da.versions,to=sl&&sl.v8;to?Ks=(Qt=to.split("."))[0]+Qt[1]:os&&(!(Qt=os.match(/Edge\/(\d+)/))||Qt[1]>=74)&&(Qt=os.match(/Chrome\/(\d+)/))&&(Ks=Qt[1]);var Ui,ul,ll,io=Ks&&+Ks,oi=!!Object.getOwnPropertySymbols&&!re(function(){return!Symbol.sham&&(al?io===38:io>37&&io<41)}),jh=oi&&!Symbol.sham&&typeof Symbol.iterator=="symbol",as=Mn("wks"),Po=J.Symbol,zh=jh?Po:Po&&Po.withoutSetter||ca,Ft=function(r){return Ye(as,r)&&(oi||typeof as[r]=="string")||(oi&&Ye(Po,r)?as[r]=Po[r]:as[r]=zh("Symbol."+r)),as[r]},no=Ft("iterator"),Qs=!1;[].keys&&("next"in(ll=[].keys())?(ul=Io(Io(ll)))!==Object.prototype&&(Ui=ul):Qs=!0);var Zs=Ui==null||re(function(){var r={};return Ui[no].call(r)!==r});Zs&&(Ui={}),Zs&&!Ye(Ui,no)&&$i(Ui,no,function(){return this});var Er,hl={IteratorPrototype:Ui,BUGGY_SAFARI_ITERATORS:Qs},cl=tt?Object.defineProperties:function(r,e){At(r);for(var t,i=ri(e),n=i.length,o=0;n>o;)st.f(r,t=i[o++],e[t]);return r},Qn=eo("document","documentElement"),Zn=Xs("IE_PROTO"),Jn=function(){},dl=function(r){return"<script>"+r+"<\/script>"},Js=function(){try{Er=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var r,e;Js=Er?function(i){i.write(dl("")),i.close();var n=i.parentWindow.Object;return i=null,n}(Er):((e=il("iframe")).style.display="none",Qn.appendChild(e),e.src=String("javascript:"),(r=e.contentWindow.document).open(),r.write(dl("document.F=Object")),r.close(),r.F);for(var t=br.length;t--;)delete Js.prototype[br[t]];return Js()};fn[Zn]=!0;var pn=Object.create||function(r,e){var t;return r!==null?(Jn.prototype=At(r),t=new Jn,Jn.prototype=null,t[Zn]=r):t=Js(),e===void 0?t:cl(t,e)},Co={};Co[Ft("toStringTag")]="z";var eu=String(Co)==="[object z]",Vi=Ft("toStringTag"),Bh=cn(function(){return arguments}())=="Arguments",Ao=eu?cn:function(r){var e,t,i;return r===void 0?"Undefined":r===null?"Null":typeof(t=function(n,o){try{return n[o]}catch(a){}}(e=Object(r),Vi))=="string"?t:Bh?cn(e):(i=cn(e))=="Object"&&typeof e.callee=="function"?"Arguments":i},vd=eu?{}.toString:function(){return"[object "+Ao(this)+"]"},fl=st.f,tu=Ft("toStringTag"),ss=function(r,e,t,i){if(r){var n=t?r:r.prototype;Ye(n,tu)||fl(n,tu,{configurable:!0,value:e}),i&&!eu&&$i(n,"toString",vd)}},Fn={},xr=hl.IteratorPrototype,vl=function(){return this},us=Object.setPrototypeOf||("__proto__"in{}?function(){var r,e=!1,t={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),e=t instanceof Array}catch(i){}return function(i,n){return At(i),function(o){if(!Ue(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype")}(n),e?r.call(i,n):i.__proto__=n,i}}():void 0),er=function(r,e,t,i){i&&i.enumerable?r[e]=t:$i(r,e,t)},iu=hl.IteratorPrototype,Gi=hl.BUGGY_SAFARI_ITERATORS,Do=Ft("iterator"),tr="keys",fa="values",pl="entries",nu=function(){return this},ls=function(r,e,t,i,n,o,a){(function(X,z,B){var G=z+" Iterator";X.prototype=pn(xr,{next:jt(1,B)}),ss(X,G,!1,!0),Fn[G]=vl})(t,e,i);var l,c,m,_=function(X){if(X===n&&R)return R;if(!Gi&&X in A)return A[X];switch(X){case tr:case fa:case pl:return function(){return new t(this,X)}}return function(){return new t(this)}},E=e+" Iterator",S=!1,A=r.prototype,D=A[Do]||A["@@iterator"]||n&&A[n],R=!Gi&&D||_(n),H=e=="Array"&&A.entries||D;if(H&&(l=Io(H.call(new r)),iu!==Object.prototype&&l.next&&(ss(l,E,!0,!0),Fn[E]=nu)),n==fa&&D&&D.name!==fa&&(S=!0,R=function(){return D.call(this)}),a&&A[Do]!==R&&$i(A,Do,R),Fn[e]=R,n)if(c={values:_(fa),keys:o?R:_(tr),entries:_(pl)},a)for(m in c)(Gi||S||!(m in A))&&er(A,m,c[m]);else ke({target:e,proto:!0,forced:Gi||S},c);return c},pd=ns.charAt,Wt="String Iterator",ru=qi.set,gl=qi.getterFor(Wt);ls(String,"String",function(r){ru(this,{type:Wt,string:String(r),index:0})},function(){var r,e=gl(this),t=e.string,i=e.index;return i>=t.length?{value:void 0,done:!0}:(r=pd(t,i),e.index+=r.length,{value:r,done:!1})});var Mo=function(r){var e=r.return;if(e!==void 0)return At(e.call(r)).value},Lh=function(r,e,t,i){try{return i?e(At(t)[0],t[1]):e(t)}catch(n){throw Mo(r),n}},Oi=Ft("iterator"),gd=Array.prototype,Hh=function(r){return r!==void 0&&(Fn.Array===r||gd[Oi]===r)},Or=function(r,e,t){var i=Tt(e);i in r?st.f(r,i,jt(0,t)):r[i]=t},va=Ft("iterator"),ou=function(r){if(r!=null)return r[va]||r["@@iterator"]||Fn[Ao(r)]},hs=Ft("iterator"),pa=!1;try{var au=0,yl={next:function(){return{done:!!au++}},return:function(){pa=!0}};yl[hs]=function(){return this},Array.from(yl,function(){throw 2})}catch(r){}var $h=!function(r,e){if(!e&&!pa)return!1;var t=!1;try{var i={};i[hs]=function(){return{next:function(){return{done:t=!0}}}},r(i)}catch(n){}return t}(function(r){Array.from(r)});ke({target:"Array",stat:!0,forced:$h},{from:function(r){var e,t,i,n,o,a,l=Mt(r),c=typeof this=="function"?this:Array,m=arguments.length,_=m>1?arguments[1]:void 0,E=_!==void 0,S=ou(l),A=0;if(E&&(_=Me(_,m>2?arguments[2]:void 0,2)),S==null||c==Array&&Hh(S))for(t=new c(e=Gt(l.length));e>A;A++)a=E?_(l[A],A):l[A],Or(t,A,a);else for(o=(n=S.call(l)).next,t=new c;!(i=o.call(n)).done;A++)a=E?Lh(n,_,[i.value,A],!0):i.value,Or(t,A,a);return t.length=A,t}});var ml=je.Array.from,Nn=ml,ro="Array Iterator",Wh=qi.set,bl=qi.getterFor(ro);ls(Array,"Array",function(r,e){Wh(this,{type:ro,target:ot(r),index:0,kind:e})},function(){var r=bl(this),e=r.target,t=r.kind,i=r.index++;return!e||i>=e.length?(r.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:i,done:!1}:t=="values"?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values"),Fn.Arguments=Fn.Array;var su=Ft("toStringTag");for(var oo in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Yi=J[oo],Fo=Yi&&Yi.prototype;Fo&&Ao(Fo)!==su&&$i(Fo,su,oo),Fn[oo]=Fn.Array}var Lt=ou,gn=function(r){var e=ou(r);if(typeof e!="function")throw TypeError(String(r)+" is not iterable");return At(e.call(r))},Rn=Array.isArray||function(r){return cn(r)=="Array"},uu=br.concat("length","prototype"),yn={f:Object.getOwnPropertyNames||function(r){return Ph(r,uu)}},Xi=yn.f,Ki={}.toString,No=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],lu={f:function(r){return No&&Ki.call(r)=="[object Window]"?function(e){try{return Xi(e)}catch(t){return No.slice()}}(r):Xi(ot(r))}},ir={f:Ft},wl=st.f,Nt=function(r){var e=je.Symbol||(je.Symbol={});Ye(e,r)||wl(e,r,{value:ir.f(r)})},Sr=Ft("species"),Tr=function(r,e){var t;return Rn(r)&&(typeof(t=r.constructor)!="function"||t!==Array&&!Rn(t.prototype)?Ue(t)&&(t=t[Sr])===null&&(t=void 0):t=void 0),new(t===void 0?Array:t)(e===0?0:e)},hu=[].push,gt=function(r){var e=r==1,t=r==2,i=r==3,n=r==4,o=r==6,a=r==7,l=r==5||o;return function(c,m,_,E){for(var S,A,D=Mt(c),R=Yr(D),H=Me(m,_,3),X=Gt(R.length),z=0,B=E||Tr,G=e?B(c,X):t||a?B(c,0):void 0;X>z;z++)if((l||z in R)&&(A=H(S=R[z],z,D),r))if(e)G[z]=A;else if(A)switch(r){case 3:return!0;case 5:return S;case 6:return z;case 2:hu.call(G,S)}else switch(r){case 4:return!1;case 7:hu.call(G,S)}return o?-1:i||n?n:G}},Ir={forEach:gt(0),map:gt(1),filter:gt(2),some:gt(3),every:gt(4),find:gt(5),findIndex:gt(6),filterOut:gt(7)},Ro=Ir.forEach,Zt=Xs("hidden"),ga="Symbol",cu=Ft("toPrimitive"),_l=qi.set,mn=qi.getterFor(ga),bn=Object.prototype,Si=J.Symbol,jo=eo("JSON","stringify"),zo=xo.f,nr=st.f,qh=lu.f,cs=_t.f,rr=Mn("symbols"),ya=Mn("op-symbols"),Bo=Mn("string-to-symbol-registry"),ui=Mn("symbol-to-string-registry"),ds=Mn("wks"),du=J.QObject,kl=!du||!du.prototype||!du.prototype.findChild,wn=tt&&re(function(){return pn(nr({},"a",{get:function(){return nr(this,"a",{value:7}).a}})).a!=7})?function(r,e,t){var i=zo(bn,e);i&&delete bn[e],nr(r,e,t),i&&r!==bn&&nr(bn,e,i)}:nr,fu=function(r,e){var t=rr[r]=pn(Si.prototype);return _l(t,{type:ga,tag:r,description:e}),tt||(t.description=e),t},fs=jh?function(r){return typeof r=="symbol"}:function(r){return Object(r)instanceof Si},vu=function(r,e,t){r===bn&&vu(ya,e,t),At(r);var i=Tt(e,!0);return At(t),Ye(rr,i)?(t.enumerable?(Ye(r,Zt)&&r[Zt][i]&&(r[Zt][i]=!1),t=pn(t,{enumerable:jt(0,!1)})):(Ye(r,Zt)||nr(r,Zt,jt(1,{})),r[Zt][i]=!0),wn(r,i,t)):nr(r,i,t)},ma=function(r,e){At(r);var t=ot(e),i=ri(t).concat(ao(t));return Ro(i,function(n){tt&&!jn.call(t,n)||vu(r,n,t[n])}),r},jn=function(r){var e=Tt(r,!0),t=cs.call(this,e);return!(this===bn&&Ye(rr,e)&&!Ye(ya,e))&&(!(t||!Ye(this,e)||!Ye(rr,e)||Ye(this,Zt)&&this[Zt][e])||t)},vs=function(r,e){var t=ot(r),i=Tt(e,!0);if(t!==bn||!Ye(rr,i)||Ye(ya,i)){var n=zo(t,i);return!n||!Ye(rr,i)||Ye(t,Zt)&&t[Zt][i]||(n.enumerable=!0),n}},Jt=function(r){var e=qh(ot(r)),t=[];return Ro(e,function(i){Ye(rr,i)||Ye(fn,i)||t.push(i)}),t},ao=function(r){var e=r===bn,t=qh(e?ya:ot(r)),i=[];return Ro(t,function(n){!Ye(rr,n)||e&&!Ye(bn,n)||i.push(rr[n])}),i};if(oi||(er((Si=function(){if(this instanceof Si)throw TypeError("Symbol is not a constructor");var r=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,e=ca(r),t=function(i){this===bn&&t.call(ya,i),Ye(this,Zt)&&Ye(this[Zt],e)&&(this[Zt][e]=!1),wn(this,e,jt(1,i))};return tt&&kl&&wn(bn,e,{configurable:!0,set:t}),fu(e,r)}).prototype,"toString",function(){return mn(this).tag}),er(Si,"withoutSetter",function(r){return fu(ca(r),r)}),_t.f=jn,st.f=vu,xo.f=vs,yn.f=lu.f=Jt,vn.f=ao,ir.f=function(r){return fu(Ft(r),r)},tt&&nr(Si.prototype,"description",{configurable:!0,get:function(){return mn(this).description}})),ke({global:!0,wrap:!0,forced:!oi,sham:!oi},{Symbol:Si}),Ro(ri(ds),function(r){Nt(r)}),ke({target:ga,stat:!0,forced:!oi},{for:function(r){var e=String(r);if(Ye(Bo,e))return Bo[e];var t=Si(e);return Bo[e]=t,ui[t]=e,t},keyFor:function(r){if(!fs(r))throw TypeError(r+" is not a symbol");if(Ye(ui,r))return ui[r]},useSetter:function(){kl=!0},useSimple:function(){kl=!1}}),ke({target:"Object",stat:!0,forced:!oi,sham:!tt},{create:function(r,e){return e===void 0?pn(r):ma(pn(r),e)},defineProperty:vu,defineProperties:ma,getOwnPropertyDescriptor:vs}),ke({target:"Object",stat:!0,forced:!oi},{getOwnPropertyNames:Jt,getOwnPropertySymbols:ao}),ke({target:"Object",stat:!0,forced:re(function(){vn.f(1)})},{getOwnPropertySymbols:function(r){return vn.f(Mt(r))}}),jo){var or=!oi||re(function(){var r=Si();return jo([r])!="[null]"||jo({a:r})!="{}"||jo(Object(r))!="{}"});ke({target:"JSON",stat:!0,forced:or},{stringify:function(r,e,t){for(var i,n=[r],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e,(Ue(e)||r!==void 0)&&!fs(r))return Rn(e)||(e=function(a,l){if(typeof i=="function"&&(l=i.call(this,a,l)),!fs(l))return l}),n[1]=e,jo.apply(null,n)}})}Si.prototype[cu]||$i(Si.prototype,cu,Si.prototype.valueOf),ss(Si,ga),fn[Zt]=!0;var _n=je.Object.getOwnPropertySymbols,El=xo.f,Uh=re(function(){El(1)});ke({target:"Object",stat:!0,forced:!tt||Uh,sham:!tt},{getOwnPropertyDescriptor:function(r,e){return El(ot(r),e)}});var Ti=_e(function(r){var e=je.Object,t=r.exports=function(i,n){return e.getOwnPropertyDescriptor(i,n)};e.getOwnPropertyDescriptor.sham&&(t.sham=!0)}),Rt=Ti,ba=eo("Reflect","ownKeys")||function(r){var e=yn.f(At(r)),t=vn.f;return t?e.concat(t(r)):e};ke({target:"Object",stat:!0,sham:!tt},{getOwnPropertyDescriptors:function(r){for(var e,t,i=ot(r),n=xo.f,o=ba(i),a={},l=0;o.length>l;)(t=n(i,e=o[l++]))!==void 0&&Or(a,e,t);return a}});var Pr=je.Object.getOwnPropertyDescriptors;ke({target:"Object",stat:!0,forced:!tt,sham:!tt},{defineProperties:cl});var kn=_e(function(r){var e=je.Object,t=r.exports=function(i,n){return e.defineProperties(i,n)};e.defineProperties.sham&&(t.sham=!0)});ke({target:"Object",stat:!0,forced:!tt,sham:!tt},{defineProperty:st.f});var ps=_e(function(r){var e=je.Object,t=r.exports=function(i,n,o){return e.defineProperty(i,n,o)};e.defineProperty.sham&&(t.sham=!0)}),gs=ps;function ae(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Lo=ps;function pu(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Lo(r,i.key,i)}}function ve(r,e,t){return e&&pu(r.prototype,e),t&&pu(r,t),r}function gu(r,e,t){return e in r?Lo(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}ke({target:"Array",stat:!0},{isArray:Rn});var yu=je.Array.isArray,mu=yu,wa=Ft("species"),Ii=function(r){return io>=51||!re(function(){var e=[];return(e.constructor={})[wa]=function(){return{foo:1}},e[r](Boolean).foo!==1})},Ho=Ft("isConcatSpreadable"),$o=9007199254740991,xl="Maximum allowed index exceeded",yd=io>=51||!re(function(){var r=[];return r[Ho]=!1,r.concat()[0]!==r}),Vh=Ii("concat"),Ol=function(r){if(!Ue(r))return!1;var e=r[Ho];return e!==void 0?!!e:Rn(r)};ke({target:"Array",proto:!0,forced:!yd||!Vh},{concat:function(r){var e,t,i,n,o,a=Mt(this),l=Tr(a,0),c=0;for(e=-1,i=arguments.length;e<i;e++)if(Ol(o=e===-1?a:arguments[e])){if(c+(n=Gt(o.length))>$o)throw TypeError(xl);for(t=0;t<n;t++,c++)t in o&&Or(l,c,o[t])}else{if(c>=$o)throw TypeError(xl);Or(l,c++,o)}return l.length=c,l}}),Nt("asyncIterator"),Nt("hasInstance"),Nt("isConcatSpreadable"),Nt("iterator"),Nt("match"),Nt("matchAll"),Nt("replace"),Nt("search"),Nt("species"),Nt("split"),Nt("toPrimitive"),Nt("toStringTag"),Nt("unscopables"),ss(J.JSON,"JSON",!0);var bu=je.Symbol;Nt("asyncDispose"),Nt("dispose"),Nt("observable"),Nt("patternMatch"),Nt("replaceAll");var Cr=bu,md=Ft("iterator"),Sl=function(r){var e=Object(r);return e[md]!==void 0||"@@iterator"in e||Fn.hasOwnProperty(Ao(e))},bd=Ii("slice"),Tl=Ft("species"),Qi=[].slice,Gh=Math.max;ke({target:"Array",proto:!0,forced:!bd},{slice:function(r,e){var t,i,n,o=ot(this),a=Gt(o.length),l=Yt(r,a),c=Yt(e===void 0?a:e,a);if(Rn(o)&&(typeof(t=o.constructor)!="function"||t!==Array&&!Rn(t.prototype)?Ue(t)&&(t=t[Tl])===null&&(t=void 0):t=void 0,t===Array||t===void 0))return Qi.call(o,l,c);for(i=new(t===void 0?Array:t)(Gh(c-l,0)),n=0;l<c;l++,n++)l in o&&Or(i,n,o[l]);return i.length=n,i}});var Yh=nt("Array").slice,Il=Array.prototype,_a=function(r){var e=r.slice;return r===Il||r instanceof Array&&e===Il.slice?Yh:e},Pl=_a,Cl=ml;function Wo(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function ys(r,e){var t;if(r){if(typeof r=="string")return Wo(r,e);var i=Pl(t=Object.prototype.toString.call(r)).call(t,8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Cl(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Wo(r,e):void 0}}function It(r,e){return function(t){if(mu(t))return t}(r)||function(t,i){if(Cr!==void 0&&Sl(Object(t))){var n=[],o=!0,a=!1,l=void 0;try{for(var c,m=gn(t);!(o=(c=m.next()).done)&&(n.push(c.value),!i||n.length!==i);o=!0);}catch(_){a=!0,l=_}finally{try{o||m.return==null||m.return()}finally{if(a)throw l}}return n}}(r,e)||ys(r,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Al=ir.f("iterator");function kt(r){return(kt=typeof Cr=="function"&&typeof Al=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Cr=="function"&&e.constructor===Cr&&e!==Cr.prototype?"symbol":typeof e})(r)}function ar(r){return function(e){if(mu(e))return Wo(e)}(r)||function(e){if(Cr!==void 0&&Sl(Object(e)))return Cl(e)}(r)||ys(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var sr=bu,wd=nt("Array").concat,ka=Array.prototype,Ar=function(r){var e=r.concat;return r===ka||r instanceof Array&&e===ka.concat?wd:e},Ot=_a;ke({target:"Reflect",stat:!0},{ownKeys:ba}),je.Reflect.ownKeys;var ut=yu,Xh=Ir.map,wu=Ii("map");ke({target:"Array",proto:!0,forced:!wu},{map:function(r){return Xh(this,r,arguments.length>1?arguments[1]:void 0)}});var _u=nt("Array").map,Dl=Array.prototype,so=function(r){var e=r.map;return r===Dl||r instanceof Array&&e===Dl.map?_u:e},Kh=re(function(){ri(1)});ke({target:"Object",stat:!0,forced:Kh},{keys:function(r){return ri(Mt(r))}});var Dt=je.Object.keys;ke({target:"Date",stat:!0},{now:function(){return new Date().getTime()}});var ms=je.Date.now,bs=function(r,e){var t=[][r];return!!t&&re(function(){t.call(null,e||function(){throw 1},1)})},_d=Ir.forEach,Ml=bs("forEach")?[].forEach:function(r){return _d(this,r,arguments.length>1?arguments[1]:void 0)};ke({target:"Array",proto:!0,forced:[].forEach!=Ml},{forEach:Ml});var Ea=nt("Array").forEach,Fl=Array.prototype,ku={DOMTokenList:!0,NodeList:!0},yt=function(r){var e=r.forEach;return r===Fl||r instanceof Array&&e===Fl.forEach||ku.hasOwnProperty(Ao(r))?Ea:e},Qh=[].reverse,Zh=[1,2];ke({target:"Array",proto:!0,forced:String(Zh)===String(Zh.reverse())},{reverse:function(){return Rn(this)&&(this.length=this.length),Qh.call(this)}});var Jh=nt("Array").reverse,ec=Array.prototype,qo=function(r){var e=r.reverse;return r===ec||r instanceof Array&&e===ec.reverse?Jh:e},kd=Ii("splice"),Eu=Math.max,Ed=Math.min,xd=9007199254740991,Zi="Maximum allowed length exceeded";ke({target:"Array",proto:!0,forced:!kd},{splice:function(r,e){var t,i,n,o,a,l,c=Mt(this),m=Gt(c.length),_=Yt(r,m),E=arguments.length;if(E===0?t=i=0:E===1?(t=0,i=m-_):(t=E-2,i=Ed(Eu(ze(e),0),m-_)),m+t-i>xd)throw TypeError(Zi);for(n=Tr(c,i),o=0;o<i;o++)(a=_+o)in c&&Or(n,o,c[a]);if(n.length=i,t<i){for(o=_;o<m-i;o++)l=o+t,(a=o+i)in c?c[l]=c[a]:delete c[l];for(o=m;o>m-i+t;o--)delete c[o-1]}else if(t>i)for(o=m-i;o>_;o--)l=o+t-1,(a=o+i-1)in c?c[l]=c[a]:delete c[l];for(o=0;o<t;o++)c[o+_]=arguments[o+2];return c.length=m-i+t,n}});var tc=nt("Array").splice,xa=Array.prototype,En=function(r){var e=r.splice;return r===xa||r instanceof Array&&e===xa.splice?tc:e},Od=Yn.includes;ke({target:"Array",proto:!0},{includes:function(r){return Od(this,r,arguments.length>1?arguments[1]:void 0)}});var Sd=nt("Array").includes,Td=Ft("match"),ic=function(r){if(function(e){var t;return Ue(e)&&((t=e[Td])!==void 0?!!t:cn(e)=="RegExp")}(r))throw TypeError("The method doesn't accept regular expressions");return r},Id=Ft("match");ke({target:"String",proto:!0,forced:!function(r){var e=/./;try{"/./"[r](e)}catch(t){try{return e[Id]=!1,"/./"[r](e)}catch(i){}}return!1}("includes")},{includes:function(r){return!!~String(Ht(this)).indexOf(ic(r),arguments.length>1?arguments[1]:void 0)}});var nc=nt("String").includes,Nl=Array.prototype,Rl=String.prototype,xn=function(r){var e=r.includes;return r===Nl||r instanceof Array&&e===Nl.includes?Sd:typeof r=="string"||r===Rl||r instanceof String&&e===Rl.includes?nc:e},Pd=re(function(){Io(1)});ke({target:"Object",stat:!0,forced:Pd,sham:!Nh},{getPrototypeOf:function(r){return Io(Mt(r))}});var jl=je.Object.getPrototypeOf,zl=jl,rc=Ir.filter,xu=Ii("filter");ke({target:"Array",proto:!0,forced:!xu},{filter:function(r){return rc(this,r,arguments.length>1?arguments[1]:void 0)}});var Cd=nt("Array").filter,Ad=Array.prototype,Pi=function(r){var e=r.filter;return r===Ad||r instanceof Array&&e===Ad.filter?Cd:e},oc=_t.f,Bl=function(r){return function(e){for(var t,i=ot(e),n=ri(i),o=n.length,a=0,l=[];o>a;)t=n[a++],tt&&!oc.call(i,t)||l.push(r?[t,i[t]]:i[t]);return l}},ac={entries:Bl(!0),values:Bl(!1)}.values;ke({target:"Object",stat:!0},{values:function(r){return ac(r)}}),je.Object.values;var Oa=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Ci="["+Oa+"]",sc=RegExp("^"+Ci+Ci+"*"),Ll=RegExp(Ci+Ci+"*$"),Ou=function(r){return function(e){var t=String(Ht(e));return 1&r&&(t=t.replace(sc,"")),2&r&&(t=t.replace(Ll,"")),t}},Hl={start:Ou(1),end:Ou(2),trim:Ou(3)},uc=Hl.trim,ws=J.parseInt,lc=/^[+-]?0[Xx]/,$l=ws(Oa+"08")!==8||ws(Oa+"0x16")!==22?function(r,e){var t=uc(String(r));return ws(t,e>>>0||(lc.test(t)?16:10))}:ws;ke({global:!0,forced:parseInt!=$l},{parseInt:$l});var zn=je.parseInt,hc=Yn.indexOf,cc=[].indexOf,Wl=!!cc&&1/[1].indexOf(1,-0)<0,Sa=bs("indexOf");ke({target:"Array",proto:!0,forced:Wl||!Sa},{indexOf:function(r){return Wl?cc.apply(this,arguments)||0:hc(this,r,arguments.length>1?arguments[1]:void 0)}});var Bn,Ta=nt("Array").indexOf,_s=Array.prototype,ct=function(r){var e=r.indexOf;return r===_s||r instanceof Array&&e===_s.indexOf?Ta:e},Dd=Hl.trim;ke({target:"String",proto:!0,forced:(Bn="trim",re(function(){return!!Oa[Bn]()||"\u200B\x85\u180E"[Bn]()!="\u200B\x85\u180E"||Oa[Bn].name!==Bn}))},{trim:function(){return Dd(this)}}),nt("String").trim,ke({target:"Object",stat:!0,sham:!tt},{create:pn});var ql=je.Object,Ul=function(r,e){return ql.create(r,e)},uo=Ul,ks=eo("JSON","stringify"),dc=/[\uD800-\uDFFF]/g,Md=/^[\uD800-\uDBFF]$/,Su=/^[\uDC00-\uDFFF]$/,Vl=function(r,e,t){var i=t.charAt(e-1),n=t.charAt(e+1);return Md.test(r)&&!Su.test(n)||Su.test(r)&&!Md.test(i)?"\\u"+r.charCodeAt(0).toString(16):r},fc=re(function(){return ks("\uDF06\uD834")!=='"\\udf06\\ud834"'||ks("\uDEAD")!=='"\\udead"'});ks&&ke({target:"JSON",stat:!0,forced:fc},{stringify:function(r,e,t){var i=ks.apply(null,arguments);return typeof i=="string"?i.replace(dc,Vl):i}}),je.JSON||(je.JSON={stringify:JSON.stringify});var ei=function(r,e,t){return je.JSON.stringify.apply(null,arguments)},Fd=[].slice,vc=/MSIE .\./.test(os),li=function(r){return function(e,t){var i=arguments.length>2,n=i?Fd.call(arguments,2):void 0;return r(i?function(){(typeof e=="function"?e:Function(e)).apply(this,n)}:e,t)}};ke({global:!0,bind:!0,forced:vc},{setTimeout:li(J.setTimeout),setInterval:li(J.setInterval)});var Ai=je.setTimeout;ke({target:"Array",proto:!0},{fill:function(r){for(var e=Mt(this),t=Gt(e.length),i=arguments.length,n=Yt(i>1?arguments[1]:void 0,t),o=i>2?arguments[2]:void 0,a=o===void 0?t:Yt(o,t);a>n;)e[n++]=r;return e}});var Nd=nt("Array").fill,Ji=Array.prototype,Uo=function(r){var e=r.fill;return r===Ji||r instanceof Array&&e===Ji.fill?Nd:e};function Di(){return(Di=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r}).apply(this,arguments)}function en(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function Tu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var lo,qt=typeof Object.assign!="function"?function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),t=1;t<arguments.length;t++){var i=arguments[t];if(i!=null)for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}:Object.assign,pc=["","webkit","Moz","MS","ms","o"],gc=typeof document=="undefined"?{style:{}}:document.createElement("div"),Dr=Math.round,Ln=Math.abs,yc=Date.now;function tn(r,e){for(var t,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<pc.length;){if((i=(t=pc[o])?t+n:e)in r)return i;o++}}lo=typeof window=="undefined"?{}:window;var nn=tn(gc.style,"touchAction"),Es=nn!==void 0,Mr="compute",ho="auto",Gl="manipulation",Hn="none",ur="pan-x",$n="pan-y",Ia=function(){if(!Es)return!1;var r={},e=lo.CSS&&lo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return r[t]=!e||lo.CSS.supports("touch-action",t)}),r}(),xs="ontouchstart"in lo,Yl=tn(lo,"PointerEvent")!==void 0,mc=xs&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Pa="touch",Iu="mouse",Vo=16,Fr=24,Os=["x","y"],Go=["clientX","clientY"];function rn(r,e,t){var i;if(r)if(r.forEach)r.forEach(e,t);else if(r.length!==void 0)for(i=0;i<r.length;)e.call(t,r[i],i,r),i++;else for(i in r)r.hasOwnProperty(i)&&e.call(t,r[i],i,r)}function Ss(r,e){return typeof r=="function"?r.apply(e&&e[0]||void 0,e):r}function Yo(r,e){return r.indexOf(e)>-1}var Xl=function(){function r(t,i){this.manager=t,this.set(i)}var e=r.prototype;return e.set=function(t){t===Mr&&(t=this.compute()),Es&&this.manager.element.style&&Ia[t]&&(this.manager.element.style[nn]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return rn(this.manager.recognizers,function(i){Ss(i.options.enable,[i])&&(t=t.concat(i.getTouchAction()))}),function(i){if(Yo(i,Hn))return Hn;var n=Yo(i,ur),o=Yo(i,$n);return n&&o?Hn:n||o?n?ur:$n:Yo(i,Gl)?Gl:ho}(t.join(" "))},e.preventDefaults=function(t){var i=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)i.preventDefault();else{var o=this.actions,a=Yo(o,Hn)&&!Ia.none,l=Yo(o,$n)&&!Ia["pan-y"],c=Yo(o,ur)&&!Ia["pan-x"];if(a){var m=t.pointers.length===1,_=t.distance<2,E=t.deltaTime<250;if(m&&_&&E)return}if(!c||!l)return a||l&&6&n||c&&n&Fr?this.preventSrc(i):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},r}();function Xo(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}function Ts(r){var e=r.length;if(e===1)return{x:Dr(r[0].clientX),y:Dr(r[0].clientY)};for(var t=0,i=0,n=0;n<e;)t+=r[n].clientX,i+=r[n].clientY,n++;return{x:Dr(t/e),y:Dr(i/e)}}function Ca(r){for(var e=[],t=0;t<r.pointers.length;)e[t]={clientX:Dr(r.pointers[t].clientX),clientY:Dr(r.pointers[t].clientY)},t++;return{timeStamp:yc(),pointers:e,center:Ts(e),deltaX:r.deltaX,deltaY:r.deltaY}}function co(r,e,t){t||(t=Os);var i=e[t[0]]-r[t[0]],n=e[t[1]]-r[t[1]];return Math.sqrt(i*i+n*n)}function Pu(r,e,t){t||(t=Os);var i=e[t[0]]-r[t[0]],n=e[t[1]]-r[t[1]];return 180*Math.atan2(n,i)/Math.PI}function Is(r,e){return r===e?1:Ln(r)>=Ln(e)?r<0?2:4:e<0?8:Vo}function lr(r,e,t){return{x:e/r||0,y:t/r||0}}function Cu(r,e){var t=r.session,i=e.pointers,n=i.length;t.firstInput||(t.firstInput=Ca(e)),n>1&&!t.firstMultiple?t.firstMultiple=Ca(e):n===1&&(t.firstMultiple=!1);var o=t.firstInput,a=t.firstMultiple,l=a?a.center:o.center,c=e.center=Ts(i);e.timeStamp=yc(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Pu(l,c),e.distance=co(l,c),function(R,H){var X=H.center,z=R.offsetDelta||{},B=R.prevDelta||{},G=R.prevInput||{};H.eventType!==1&&G.eventType!==4||(B=R.prevDelta={x:G.deltaX||0,y:G.deltaY||0},z=R.offsetDelta={x:X.x,y:X.y}),H.deltaX=B.x+(X.x-z.x),H.deltaY=B.y+(X.y-z.y)}(t,e),e.offsetDirection=Is(e.deltaX,e.deltaY);var m,_,E=lr(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=E.x,e.overallVelocityY=E.y,e.overallVelocity=Ln(E.x)>Ln(E.y)?E.x:E.y,e.scale=a?(m=a.pointers,co((_=i)[0],_[1],Go)/co(m[0],m[1],Go)):1,e.rotation=a?function(R,H){return Pu(H[1],H[0],Go)+Pu(R[1],R[0],Go)}(a.pointers,i):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(R,H){var X,z,B,G,ne=R.lastInterval||H,K=H.timeStamp-ne.timeStamp;if(H.eventType!==8&&(K>25||ne.velocity===void 0)){var pe=H.deltaX-ne.deltaX,Y=H.deltaY-ne.deltaY,Q=lr(K,pe,Y);z=Q.x,B=Q.y,X=Ln(Q.x)>Ln(Q.y)?Q.x:Q.y,G=Is(pe,Y),R.lastInterval=H}else X=ne.velocity,z=ne.velocityX,B=ne.velocityY,G=ne.direction;H.velocity=X,H.velocityX=z,H.velocityY=B,H.direction=G}(t,e);var S,A=r.element,D=e.srcEvent;Xo(S=D.composedPath?D.composedPath()[0]:D.path?D.path[0]:D.target,A)&&(A=S),e.target=A}function Ko(r,e,t){var i=t.pointers.length,n=t.changedPointers.length,o=1&e&&i-n==0,a=12&e&&i-n==0;t.isFirst=!!o,t.isFinal=!!a,o&&(r.session={}),t.eventType=e,Cu(r,t),r.emit("hammer.input",t),r.recognize(t),r.session.prevInput=t}function Aa(r){return r.trim().split(/\s+/g)}function fo(r,e,t){rn(Aa(e),function(i){r.addEventListener(i,t,!1)})}function Da(r,e,t){rn(Aa(e),function(i){r.removeEventListener(i,t,!1)})}function Kl(r){var e=r.ownerDocument||r;return e.defaultView||e.parentWindow||window}var hr=function(){function r(t,i){var n=this;this.manager=t,this.callback=i,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){Ss(t.options.enable,[t])&&n.handler(o)},this.init()}var e=r.prototype;return e.handler=function(){},e.init=function(){this.evEl&&fo(this.element,this.evEl,this.domHandler),this.evTarget&&fo(this.target,this.evTarget,this.domHandler),this.evWin&&fo(Kl(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Da(this.element,this.evEl,this.domHandler),this.evTarget&&Da(this.target,this.evTarget,this.domHandler),this.evWin&&Da(Kl(this.element),this.evWin,this.domHandler)},r}();function Nr(r,e,t){if(r.indexOf&&!t)return r.indexOf(e);for(var i=0;i<r.length;){if(t&&r[i][t]==e||!t&&r[i]===e)return i;i++}return-1}var bc={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Rr={2:Pa,3:"pen",4:Iu,5:"kinect"},Ql="pointerdown",wc="pointermove pointerup pointercancel";lo.MSPointerEvent&&!lo.PointerEvent&&(Ql="MSPointerDown",wc="MSPointerMove MSPointerUp MSPointerCancel");var Qo=function(r){function e(){var t,i=e.prototype;return i.evEl=Ql,i.evWin=wc,(t=r.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return en(e,r),e.prototype.handler=function(t){var i=this.store,n=!1,o=t.type.toLowerCase().replace("ms",""),a=bc[o],l=Rr[t.pointerType]||t.pointerType,c=l===Pa,m=Nr(i,t.pointerId,"pointerId");1&a&&(t.button===0||c)?m<0&&(i.push(t),m=i.length-1):12&a&&(n=!0),m<0||(i[m]=t,this.callback(this.manager,a,{pointers:i,changedPointers:[t],pointerType:l,srcEvent:t}),n&&i.splice(m,1))},e}(hr);function jr(r){return Array.prototype.slice.call(r,0)}function Zo(r,e,t){for(var i=[],n=[],o=0;o<r.length;){var a=e?r[o][e]:r[o];Nr(n,a)<0&&i.push(r[o]),n[o]=a,o++}return t&&(i=e?i.sort(function(l,c){return l[e]>c[e]}):i.sort()),i}var _c={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ma="touchstart touchmove touchend touchcancel",zr=function(r){function e(){var t;return e.prototype.evTarget=Ma,(t=r.apply(this,arguments)||this).targetIds={},t}return en(e,r),e.prototype.handler=function(t){var i=_c[t.type],n=kc.call(this,t,i);n&&this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:Pa,srcEvent:t})},e}(hr);function kc(r,e){var t,i,n=jr(r.touches),o=this.targetIds;if(3&e&&n.length===1)return o[n[0].identifier]=!0,[n,n];var a=jr(r.changedTouches),l=[],c=this.target;if(i=n.filter(function(m){return Xo(m.target,c)}),e===1)for(t=0;t<i.length;)o[i[t].identifier]=!0,t++;for(t=0;t<a.length;)o[a[t].identifier]&&l.push(a[t]),12&e&&delete o[a[t].identifier],t++;return l.length?[Zo(i.concat(l),"identifier",!0),l]:void 0}var Ec={mousedown:1,mousemove:2,mouseup:4},Zl="mousedown",Jl="mousemove mouseup",Au=function(r){function e(){var t,i=e.prototype;return i.evEl=Zl,i.evWin=Jl,(t=r.apply(this,arguments)||this).pressed=!1,t}return en(e,r),e.prototype.handler=function(t){var i=Ec[t.type];1&i&&t.button===0&&(this.pressed=!0),2&i&&t.which!==1&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:Iu,srcEvent:t}))},e}(hr);function Fa(r){var e=r.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var n=i.indexOf(t);n>-1&&i.splice(n,1)},2500)}}function eh(r,e){1&r?(this.primaryTouch=e.changedPointers[0].identifier,Fa.call(this,e)):12&r&&Fa.call(this,e)}function Rd(r){for(var e=r.srcEvent.clientX,t=r.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),a=Math.abs(t-n.y);if(o<=25&&a<=25)return!0}return!1}var th=function(){return function(r){function e(t,i){var n;return(n=r.call(this,t,i)||this).handler=function(o,a,l){var c=l.pointerType===Pa,m=l.pointerType===Iu;if(!(m&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(c)eh.call(Tu(Tu(n)),a,l);else if(m&&Rd.call(Tu(Tu(n)),l))return;n.callback(o,a,l)}},n.touch=new zr(n.manager,n.handler),n.mouse=new Au(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return en(e,r),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(hr)}();function vo(r,e,t){return!!Array.isArray(r)&&(rn(r,t[e],t),!0)}var on=32,jd=1;function Du(r,e){var t=e.manager;return t?t.get(r):r}function xc(r){return 16&r?"cancel":8&r?"end":4&r?"move":2&r?"start":""}var po=function(){function r(t){t===void 0&&(t={}),this.options=Di({enable:!0},t),this.id=jd++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=r.prototype;return e.set=function(t){return qt(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(vo(t,"recognizeWith",this))return this;var i=this.simultaneous;return i[(t=Du(t,this)).id]||(i[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return vo(t,"dropRecognizeWith",this)||(t=Du(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(vo(t,"requireFailure",this))return this;var i=this.requireFail;return Nr(i,t=Du(t,this))===-1&&(i.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(vo(t,"dropRequireFailure",this))return this;t=Du(t,this);var i=Nr(this.requireFail,t);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var i=this,n=this.state;function o(a){i.manager.emit(a,t)}n<8&&o(i.options.event+xc(n)),o(i.options.event),t.additionalEvent&&o(t.additionalEvent),n>=8&&o(i.options.event+xc(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=on},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var i=qt({},t);if(!Ss(this.options.enable,[this,i]))return this.reset(),void(this.state=on);56&this.state&&(this.state=1),this.state=this.process(i),30&this.state&&this.tryEmit(i)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},r}(),Mu=function(r){function e(i){var n;return i===void 0&&(i={}),(n=r.call(this,Di({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}en(e,r);var t=e.prototype;return t.getTouchAction=function(){return[Gl]},t.process=function(i){var n=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime<o.time;if(this.reset(),1&i.eventType&&this.count===0)return this.failTimeout();if(l&&c&&a){if(i.eventType!==4)return this.failTimeout();var m=!this.pTime||i.timeStamp-this.pTime<o.interval,_=!this.pCenter||co(this.pCenter,i.center)<o.posThreshold;if(this.pTime=i.timeStamp,this.pCenter=i.center,_&&m?this.count+=1:this.count=1,this._input=i,this.count%o.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){n.state=8,n.tryEmit()},o.interval),2):8}return on},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=on},this.options.interval),on},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(po),Na=function(r){function e(i){return i===void 0&&(i={}),r.call(this,Di({pointers:1},i))||this}en(e,r);var t=e.prototype;return t.attrTest=function(i){var n=this.options.pointers;return n===0||i.pointers.length===n},t.process=function(i){var n=this.state,o=i.eventType,a=6&n,l=this.attrTest(i);return a&&(8&o||!l)?16|n:a||l?4&o?8|n:2&n?4|n:2:on},e}(po);function Oc(r){return r===Vo?"down":r===8?"up":r===2?"left":r===4?"right":""}var Fu=function(r){function e(i){var n;return i===void 0&&(i={}),(n=r.call(this,Di({event:"pan",threshold:10,pointers:1,direction:30},i))||this).pX=null,n.pY=null,n}en(e,r);var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,n=[];return 6&i&&n.push($n),i&Fr&&n.push(ur),n},t.directionTest=function(i){var n=this.options,o=!0,a=i.distance,l=i.direction,c=i.deltaX,m=i.deltaY;return l&n.direction||(6&n.direction?(l=c===0?1:c<0?2:4,o=c!==this.pX,a=Math.abs(i.deltaX)):(l=m===0?1:m<0?8:Vo,o=m!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>n.threshold&&l&n.direction},t.attrTest=function(i){return Na.prototype.attrTest.call(this,i)&&(2&this.state||!(2&this.state)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var n=Oc(i.direction);n&&(i.additionalEvent=this.options.event+n),r.prototype.emit.call(this,i)},e}(Na),Jo=function(r){function e(i){return i===void 0&&(i={}),r.call(this,Di({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},i))||this}en(e,r);var t=e.prototype;return t.getTouchAction=function(){return Fu.prototype.getTouchAction.call(this)},t.attrTest=function(i){var n,o=this.options.direction;return 30&o?n=i.overallVelocity:6&o?n=i.overallVelocityX:o&Fr&&(n=i.overallVelocityY),r.prototype.attrTest.call(this,i)&&o&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ln(n)>this.options.velocity&&4&i.eventType},t.emit=function(i){var n=Oc(i.offsetDirection);n&&this.manager.emit(this.options.event+n,i),this.manager.emit(this.options.event,i)},e}(Na),Br=function(r){function e(i){return i===void 0&&(i={}),r.call(this,Di({event:"pinch",threshold:0,pointers:2},i))||this}en(e,r);var t=e.prototype;return t.getTouchAction=function(){return[Hn]},t.attrTest=function(i){return r.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||2&this.state)},t.emit=function(i){if(i.scale!==1){var n=i.scale<1?"in":"out";i.additionalEvent=this.options.event+n}r.prototype.emit.call(this,i)},e}(Na),ih=function(r){function e(i){return i===void 0&&(i={}),r.call(this,Di({event:"rotate",threshold:0,pointers:2},i))||this}en(e,r);var t=e.prototype;return t.getTouchAction=function(){return[Hn]},t.attrTest=function(i){return r.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||2&this.state)},e}(Na),Ra=function(r){function e(i){var n;return i===void 0&&(i={}),(n=r.call(this,Di({event:"press",pointers:1,time:251,threshold:9},i))||this)._timer=null,n._input=null,n}en(e,r);var t=e.prototype;return t.getTouchAction=function(){return[ho]},t.process=function(i){var n=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,c=i.deltaTime>o.time;if(this._input=i,!l||!a||12&i.eventType&&!c)this.reset();else if(1&i.eventType)this.reset(),this._timer=setTimeout(function(){n.state=8,n.tryEmit()},o.time);else if(4&i.eventType)return 8;return on},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===8&&(i&&4&i.eventType?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=yc(),this.manager.emit(this.options.event,this._input)))},e}(po),nh={domEvents:!1,touchAction:Mr,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ja=[[ih,{enable:!1}],[Br,{enable:!1},["rotate"]],[Jo,{direction:6}],[Fu,{direction:6},["swipe"]],[Mu],[Mu,{event:"doubletap",taps:2},["tap"]],[Ra]];function Nu(r,e){var t,i=r.element;i.style&&(rn(r.options.cssProps,function(n,o){t=tn(i.style,o),e?(r.oldCssProps[t]=i.style[t],i.style[t]=n):i.style[t]=r.oldCssProps[t]||""}),e||(r.oldCssProps={}))}var Lr=function(){function r(t,i){var n,o=this;this.options=qt({},nh,i||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Yl?Qo:mc?zr:xs?th:Au))(n,Ko),this.touchAction=new Xl(this,this.options.touchAction),Nu(this,!0),rn(this.options.recognizers,function(a){var l=o.add(new a[0](a[1]));a[2]&&l.recognizeWith(a[2]),a[3]&&l.requireFailure(a[3])},this)}var e=r.prototype;return e.set=function(t){return qt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var i=this.session;if(!i.stopped){var n;this.touchAction.preventDefaults(t);var o=this.recognizers,a=i.curRecognizer;(!a||a&&8&a.state)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)n=o[l],i.stopped===2||a&&n!==a&&!n.canRecognizeWith(a)?n.reset():n.recognize(t),!a&&14&n.state&&(i.curRecognizer=n,a=n),l++}},e.get=function(t){if(t instanceof po)return t;for(var i=this.recognizers,n=0;n<i.length;n++)if(i[n].options.event===t)return i[n];return null},e.add=function(t){if(vo(t,"add",this))return this;var i=this.get(t.options.event);return i&&this.remove(i),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(vo(t,"remove",this))return this;var i=this.get(t);if(t){var n=this.recognizers,o=Nr(n,i);o!==-1&&(n.splice(o,1),this.touchAction.update())}return this},e.on=function(t,i){if(t===void 0||i===void 0)return this;var n=this.handlers;return rn(Aa(t),function(o){n[o]=n[o]||[],n[o].push(i)}),this},e.off=function(t,i){if(t===void 0)return this;var n=this.handlers;return rn(Aa(t),function(o){i?n[o]&&n[o].splice(Nr(n[o],i),1):delete n[o]}),this},e.emit=function(t,i){this.options.domEvents&&function(a,l){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=l,l.target.dispatchEvent(c)}(t,i);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){i.type=t,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](i),o++}},e.destroy=function(){this.element&&Nu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),Sc={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ru="touchstart",Tc="touchstart touchmove touchend touchcancel",Ic=function(r){function e(){var t,i=e.prototype;return i.evTarget=Ru,i.evWin=Tc,(t=r.apply(this,arguments)||this).started=!1,t}return en(e,r),e.prototype.handler=function(t){var i=Sc[t.type];if(i===1&&(this.started=!0),this.started){var n=Pc.call(this,t,i);12&i&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:Pa,srcEvent:t})}},e}(hr);function Pc(r,e){var t=jr(r.touches),i=jr(r.changedTouches);return 12&e&&(t=Zo(t.concat(i),"identifier",!0)),[t,i]}function hi(r,e,t){var i="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,i,o),r.apply(this,arguments)}}var Cc=hi(function(r,e,t){for(var i=Object.keys(e),n=0;n<i.length;)(!t||t&&r[i[n]]===void 0)&&(r[i[n]]=e[i[n]]),n++;return r},"extend","Use `assign`."),Ac=hi(function(r,e){return Cc(r,e,!0)},"merge","Use `assign`.");function Dc(r,e,t){var i,n=e.prototype;(i=r.prototype=Object.create(n)).constructor=r,i._super=n,t&&qt(i,t)}function rh(r,e){return function(){return r.apply(e,arguments)}}var oh=function(){var r=function(e,t){return t===void 0&&(t={}),new Lr(e,Di({recognizers:ja.concat()},t))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=30,r.DIRECTION_DOWN=Vo,r.DIRECTION_LEFT=2,r.DIRECTION_RIGHT=4,r.DIRECTION_UP=8,r.DIRECTION_HORIZONTAL=6,r.DIRECTION_VERTICAL=Fr,r.DIRECTION_NONE=1,r.DIRECTION_DOWN=Vo,r.INPUT_START=1,r.INPUT_MOVE=2,r.INPUT_END=4,r.INPUT_CANCEL=8,r.STATE_POSSIBLE=1,r.STATE_BEGAN=2,r.STATE_CHANGED=4,r.STATE_ENDED=8,r.STATE_RECOGNIZED=8,r.STATE_CANCELLED=16,r.STATE_FAILED=on,r.Manager=Lr,r.Input=hr,r.TouchAction=Xl,r.TouchInput=zr,r.MouseInput=Au,r.PointerEventInput=Qo,r.TouchMouseInput=th,r.SingleTouchInput=Ic,r.Recognizer=po,r.AttrRecognizer=Na,r.Tap=Mu,r.Pan=Fu,r.Swipe=Jo,r.Pinch=Br,r.Rotate=ih,r.Press=Ra,r.on=fo,r.off=Da,r.each=rn,r.merge=Ac,r.extend=Cc,r.bindFn=rh,r.assign=qt,r.inherit=Dc,r.bindFn=rh,r.prefixed=tn,r.toArray=jr,r.inArray=Nr,r.uniqueArray=Zo,r.splitStr=Aa,r.boolOrFn=Ss,r.hasParent=Xo,r.addEventListeners=fo,r.removeEventListeners=Da,r.defaults=qt({},nh,{preset:ja}),r}();function Mc(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return ci(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return ci(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function ci(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function Ps(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return zd(e.length?e:[ms()])}function zd(r){var e=It(function(){for(var l=Fc(),c=l(" "),m=l(" "),_=l(" "),E=0;E<arguments.length;E++)(c-=l(E<0||arguments.length<=E?void 0:arguments[E]))<0&&(c+=1),(m-=l(E<0||arguments.length<=E?void 0:arguments[E]))<0&&(m+=1),(_-=l(E<0||arguments.length<=E?void 0:arguments[E]))<0&&(_+=1);return[c,m,_]}(r),3),t=e[0],i=e[1],n=e[2],o=1,a=function(){var l=2091639*t+23283064365386963e-26*o;return t=i,i=n,n=l-(o=0|l)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=r,a.version="0.9",a}function Fc(){var r=4022871197;return function(e){for(var t=e.toString(),i=0;i<t.length;i++){var n=.02519603282416938*(r+=t.charCodeAt(i));n-=r=n>>>0,r=(n*=r)>>>0,r+=4294967296*(n-=r)}return 23283064365386963e-26*(r>>>0)}}sr("DELETE");var mi=typeof window!="undefined"?window.Hammer||oh:function(){return{on:r=function(){},off:r,destroy:r,emit:r,get:function(){return{set:r}}};var r};function cr(r){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=mi(this._dom.overlay);i.on("tap",Z(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];yt(n).call(n,function(o){i.on(o,function(a){a.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1})(o.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&t.deactivate()}}_r(cr.prototype),cr.current=null,cr.prototype.destroy=function(){var r,e;this.deactivate();var t,i=Mc(qo(r=En(e=this._cleanupQueue).call(e,0)).call(r));try{for(i.s();!(t=i.n()).done;)(0,t.value)()}catch(n){i.e(n)}finally{i.f()}},cr.prototype.activate=function(){cr.current&&cr.current.deactivate(),cr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},cr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},cr.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};var Bd=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ah=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ld=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,za=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Hr(r){if(r)for(;r.hasChildNodes()===!0;){var e=r.firstChild;e&&(Hr(e),r.removeChild(e))}}function dr(r){return r instanceof String||typeof r=="string"}function sh(r){return kt(r)==="object"&&r!==null}function fr(r,e,t,i){var n=!1;i===!0&&(n=e[t]===null&&r[t]!==void 0),n?delete r[t]:r[t]=e[t]}function uh(r,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];for(var i in r)if(e[i]!==void 0)if(e[i]===null||kt(e[i])!=="object")fr(r,e,i,t);else{var n=r[i],o=e[i];sh(n)&&sh(o)&&uh(n,o,t)}}function ea(r,e,t){var i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ut(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<r.length;n++){var o=r[n];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Be(e[o],t[o],!1,i):fr(e,t,o,i);else{if(ut(t[o]))throw new TypeError("Arrays are not supported by deepExtend");fr(e,t,o,i)}}return e}function ju(r,e,t){var i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(ut(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!xn(r).call(r,n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?Be(e[n],t[n]):fr(e,t,n,i);else if(ut(t[n])){e[n]=[];for(var o=0;o<t[n].length;o++)e[n].push(t[n][o])}else fr(e,t,n,i);return e}function Be(r,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)||t===!0)if(kt(e[n])==="object"&&e[n]!==null&&zl(e[n])===Object.prototype)r[n]===void 0?r[n]=Be({},e[n],t):kt(r[n])==="object"&&r[n]!==null&&zl(r[n])===Object.prototype?Be(r[n],e[n],t):fr(r,e,n,i);else if(ut(e[n])){var o;r[n]=Ot(o=e[n]).call(o)}else fr(r,e,n,i);return r}function Ba(r,e){var t;return Ar(t=[]).call(t,ar(r),[e])}function lh(r){return Ot(r).call(r)}function Nc(r){return r.getBoundingClientRect().top}function Qe(r,e){if(ut(r))for(var t=r.length,i=0;i<t;i++)e(r[i],i,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(r[n],n,r)}function an(r){var e;switch(r.length){case 3:case 4:return(e=ah.exec(r))?{r:zn(e[1]+e[1],16),g:zn(e[2]+e[2],16),b:zn(e[3]+e[3],16)}:null;case 6:case 7:return(e=Bd.exec(r))?{r:zn(e[1],16),g:zn(e[2],16),b:zn(e[3],16)}:null;default:return null}}function On(r,e){if(xn(r).call(r,"rgba"))return r;if(xn(r).call(r,"rgb")){var t=r.substr(ct(r).call(r,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var i=an(r);return i==null?r:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function ta(r,e,t){var i;return"#"+Ot(i=((1<<24)+(r<<16)+(e<<8)+t).toString(16)).call(i,1)}function hh(r,e){if(dr(r)){var t=r;if($r(t)){var i,n=so(i=t.substr(4).substr(0,t.length-5).split(",")).call(i,function(_){return zn(_)});t=ta(n[0],n[1],n[2])}if(zu(t)===!0){var o=function(_){var E=an(_);if(!E)throw new TypeError("'".concat(_,"' is not a valid color."));return bi(E.r,E.g,E.b)}(t),a={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},l={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},c=Sn(l.h,l.s,l.v),m=Sn(a.h,a.s,a.v);return{background:t,border:c,highlight:{background:m,border:c},hover:{background:m,border:c}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:r.background||e.background,border:r.border||e.border,highlight:dr(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||e.highlight.background,border:r.highlight&&r.highlight.border||e.highlight.border},hover:dr(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||e.hover.border,background:r.hover&&r.hover.background||e.hover.background}}:{background:r.background||void 0,border:r.border||void 0,highlight:dr(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||void 0,border:r.highlight&&r.highlight.border||void 0},hover:dr(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||void 0,background:r.hover&&r.hover.background||void 0}}}function bi(r,e,t){r/=255,e/=255,t/=255;var i=Math.min(r,Math.min(e,t)),n=Math.max(r,Math.max(e,t));return i===n?{h:0,s:0,v:i}:{h:60*((r===i?3:t===i?1:5)-(r===i?e-t:t===i?r-e:t-r)/(n-i))/360,s:(n-i)/n,v:n}}function mt(r,e,t){var i,n,o,a=Math.floor(6*r),l=6*r-a,c=t*(1-e),m=t*(1-l*e),_=t*(1-(1-l)*e);switch(a%6){case 0:i=t,n=_,o=c;break;case 1:i=m,n=t,o=c;break;case 2:i=c,n=t,o=_;break;case 3:i=c,n=m,o=t;break;case 4:i=_,n=c,o=t;break;case 5:i=t,n=c,o=m}return{r:Math.floor(255*i),g:Math.floor(255*n),b:Math.floor(255*o)}}function Sn(r,e,t){var i=mt(r,e,t);return ta(i.r,i.g,i.b)}function zu(r){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r)}function $r(r){return Ld.test(r)}function Rc(r){return za.test(r)}function Wr(r){if(r===null||kt(r)!=="object")return null;if(r instanceof Element)return r;var e=uo(r);for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&kt(r[t])=="object"&&(e[t]=Wr(r[t]));return e}function Mi(r,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=function(A){return A!=null},o=function(A){return A!==null&&kt(A)==="object"},a=function(A){for(var D in A)if(Object.prototype.hasOwnProperty.call(A,D))return!1;return!0};if(!o(r))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var l=function(A,D,R){o(A[R])||(A[R]={});var H=D[R],X=A[R];for(var z in H)Object.prototype.hasOwnProperty.call(H,z)&&(X[z]=H[z])},c=e[t],m=o(i)&&!a(i),_=m?i[t]:void 0,E=_?_.enabled:void 0;if(c!==void 0){if(typeof c=="boolean")return o(r[t])||(r[t]={}),void(r[t].enabled=c);if(c===null&&!o(r[t])){if(!n(_))return;r[t]=uo(_)}if(o(c)){var S=!0;c.enabled!==void 0?S=c.enabled:E!==void 0&&(S=_.enabled),l(r,e,t),r[t].enabled=S}}}var ia={linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:(4-2*r)*r-1},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}};function Fi(r,e){var t;ut(e)||(e=[e]);var i,n=Mc(r);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o){t=o[e[0]];for(var a=1;a<e.length;a++)t&&(t=t[e[a]]);if(t!==void 0)break}}}catch(l){n.e(l)}finally{n.f()}return t}var ch={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},Bu=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;ae(this,r),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return ve(r,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if(typeof e=="string")return ch[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e!=="none"){var i,n=this._isColorString(e);if(n!==void 0&&(e=n),dr(e)===!0){if($r(e)===!0){var o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(Rc(e)===!0){var a=e.substr(5).substr(0,e.length-6).split(",");i={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(zu(e)===!0){var l=an(e);i={r:l.r,g:l.g,b:l.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var c=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:c}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ei(e));this._setColor(i,t)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];t===!0&&(this.previousColor=pt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Ai(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];t===!0&&(this.initialColor=pt({},e)),this.color=e;var i=bi(e.r,e.g,e.b),n=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(n*i.h),l=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=bi(this.color.r,this.color.g,this.color.b);t.v=e/100;var i=mt(t.h,t.s,t.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=bi(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-t.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Uo(i).call(i),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(c){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(c){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var l=this;this.opacityRange.onchange=function(){l._setOpacity(this.value)},this.opacityRange.oninput=function(){l._setOpacity(this.value)},this.brightnessRange.onchange=function(){l._setBrightness(this.value)},this.brightnessRange.oninput=function(){l._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Z(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Z(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Z(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Z(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new mi(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,i,n,o,a=this.colorPickerCanvas.clientWidth,l=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,a,l),this.centerCoordinates={x:.5*a,y:.5*l},this.r=.49*a;var c,m=2*Math.PI/360,_=1/this.r;for(n=0;n<360;n++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(m*n),i=this.centerCoordinates.y+o*Math.cos(m*n),c=mt(.002777777777777778*n,o*_,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(t-.5,i-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,a,l)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-t.left,n=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=n-o,m=Math.atan2(l,c),_=.98*Math.min(Math.sqrt(l*l+c*c),a),E=Math.cos(m)*_+o,S=Math.sin(m)*_+a;this.colorPickerSelector.style.top=E-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=S-.5*this.colorPickerSelector.clientWidth+"px";var A=m/(2*Math.PI);A=A<0?A+1:A;var D=_/this.r,R=bi(this.color.r,this.color.g,this.color.b);R.h=A,R.s=D;var H=mt(R.h,R.s,R.v);H.a=this.color.a,this.color=H,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),r}();function Wn(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);var i=document.createElement(e[0]);return i.appendChild(Wn.apply(void 0,ar(Ot(e).call(e,1)))),i}var Lu,go=!1,dh="background: #FFeeee; color: #dd0000",fh=cr,jc=function(){function r(e,t,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};ae(this,r),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},pt(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Bu(n),this.wrapper=void 0}return ve(r,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var t=!0;if(typeof e=="string")this.options.filter=e;else if(ut(e))this.options.filter=e.join();else if(kt(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Pi(e)!==void 0&&(this.options.filter=Pi(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);Pi(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Pi(this.options),t=0,i=!1;for(var n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,typeof e=="function"?i=(i=e(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):e!==!0&&ct(e).call(e,n)===-1||(i=!0),i!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,i=0;i<e.length;i++){if(t[e[i]]===void 0){t=void 0;break}t=t[e[i]]}return t}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return yt(n).call(n,function(a){t.appendChild(a)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,i===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(Wn("i","b",e))}else n.innerText=e+":";return n}},{key:"_makeDropdown",value:function(e,t,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;t!==void 0&&ct(e).call(e,t)!==-1&&(o=ct(e).call(e,t));for(var a=0;a<e.length;a++){var l=document.createElement("option");l.value=e[a],a===o&&(l.selected="selected"),l.innerText=e[a],n.appendChild(l)}var c=this;n.onchange=function(){c._update(this.value,i)};var m=this._makeLabel(i[i.length-1],i);this._makeItem(i,m,n)}},{key:"_makeRange",value:function(e,t,i){var n=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch(H){}c.step=l;var m="",_=0;if(t!==void 0){var E=1.2;t<0&&t*E<o?(c.min=Math.ceil(t*E),_=c.min,m="range increased"):t/E<o&&(c.min=Math.ceil(t/E),_=c.min,m="range increased"),t*E>a&&a!==1&&(c.max=Math.ceil(t*E),_=c.max,m="range increased"),c.value=t}else c.value=n;var S=document.createElement("input");S.className="vis-configuration vis-config-rangeinput",S.value=c.value;var A=this;c.onchange=function(){S.value=this.value,A._update(Number(this.value),i)},c.oninput=function(){S.value=this.value};var D=this._makeLabel(i[i.length-1],i),R=this._makeItem(i,D,c,S);m!==""&&this.popupHistory[R]!==_&&(this.popupHistory[R]=_,this._setupPopup(m,R))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var i=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Ai(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Ai(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(kt(e)==="object"?t!==e.enabled&&this.changedOptions.push({path:i,value:t}):this.changedOptions.push({path:i,value:t})));var o=this;n.onchange=function(){o._update(this.checked,i)};var a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,n)}},{key:"_makeTextInput",value:function(e,t,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:i,value:t});var o=this;n.onchange=function(){o._update(this.value,i)};var a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,n)}},{key:"_makeColorField",value:function(e,t,i){var n=this,o=e[1],a=document.createElement("div");(t=t===void 0?o:t)!=="none"?(a.className="vis-configuration vis-config-colorBlock",a.style.backgroundColor=t):a.className="vis-configuration vis-config-colorBlock none",t=t===void 0?o:t,a.onclick=function(){n._showColorPicker(t,a,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,a)}},{key:"_showColorPicker",value:function(e,t,i){var n=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var a="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";t.style.backgroundColor=a,n._update(a,i)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){n._showColorPicker(e,t,i)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=!1,o=Pi(this.options),a=!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){n=!0;var c=e[l],m=Ba(t,l);if(typeof o=="function"&&(n=o(l,t))===!1&&!ut(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,n=this._handleObject(c,m,!0),this.allowCreation=i===!1),n!==!1){a=!0;var _=this._getValue(m);if(ut(c))this._handleArray(c,_,m);else if(typeof c=="string")this._makeTextInput(c,_,m);else if(typeof c=="boolean")this._makeCheckbox(c,_,m);else if(c instanceof Object){if(!this.hideOption(t,l,this.moduleOptions))if(c.enabled!==void 0){var E=Ba(m,"enabled"),S=this._getValue(E);if(S===!0){var A=this._makeLabel(l,m,!0);this._makeItem(m,A),a=this._handleObject(c,m)||a}else this._makeCheckbox(c,S,m)}else{var D=this._makeLabel(l,m,!0);this._makeItem(m,D),a=this._handleObject(c,m)||a}}else console.error("dont know how to handle",c,l,m)}}return a}},{key:"_handleArray",value:function(e,t,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,i),e[1]!==t&&this.changedOptions.push({path:i,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:Number(t)}))}},{key:"_update",value:function(e,t){var i=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i;e=(e=e==="true"||e)!=="false"&&e;for(var o=0;o<t.length;o++)t[o]!=="global"&&(n[t[o]]===void 0&&(n[t[o]]={}),o!==t.length-1?n=n[t[o]]:n[t[o]]=e);return i}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Wn("pre","const options = "+ei(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),r}(),Ni=mi,na=function(){function r(e,t){ae(this,r),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return ve(r,[{key:"setPosition",value:function(e,t){this.x=zn(e),this.y=zn(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,a=0,l=0;if(this.overflowMethod=="flip"){var c=!1,m=!0;this.y-t<this.padding&&(m=!1),this.x+i>o-this.padding&&(c=!0),a=c?this.x-i:this.x,l=m?this.y-t:this.y}else(l=this.y-t)+t+this.padding>n&&(l=n-t-this.padding),l<this.padding&&(l=this.padding),(a=this.x)+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),r}(),La=dh,Cs=function(){function r(){ae(this,r)}return ve(r,null,[{key:"validate",value:function(e,t,i){go=!1,Lu=t;var n=t;return i!==void 0&&(n=t[i]),r.parse(e,n,[]),go}},{key:"parse",value:function(e,t,i){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.check(n,e,t,i)}},{key:"check",value:function(e,t,i,n){if(i[e]!==void 0||i.__any__!==void 0){var o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=r.getType(t[e])==="object");var l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),r.checkFields(e,t,i,o,l,n)}else r.getSuggestion(e,i,n)}},{key:"checkFields",value:function(e,t,i,n,o,a){var l=function(_){console.error("%c"+_+r.printLocation(a,e),dh)},c=r.getType(t[e]),m=o[c];m!==void 0?r.getType(m)==="array"&&ct(m).call(m,t[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+r.print(m)+' not "'+t[e]+'". '),go=!0):c==="object"&&n!=="__any__"&&(a=Ba(a,e),r.parse(t[e],i[n],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+r.print(Dt(o))+". Received ["+c+'] "'+t[e]+'"'),go=!0)}},{key:"getType",value:function(e){var t=kt(e);return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":ut(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}},{key:"getSuggestion",value:function(e,t,i){var n,o=r.findInOptions(e,t,i,!1),a=r.findInOptions(e,Lu,[],!0);n=o.indexMatch!==void 0?" in "+r.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+`"?

`:a.distance<=4&&o.distance>a.distance?" in "+r.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+r.printLocation(a.path,a.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+r.printLocation(o.path,e):". Did you mean one of these: "+r.print(Dt(t))+r.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+n,dh),go=!0}},{key:"findInOptions",value:function(e,t,i){var n=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=1e9,a="",l=[],c=e.toLowerCase(),m=void 0;for(var _ in t){var E=void 0;if(t[_].__type__!==void 0&&n===!0){var S=r.findInOptions(e,t[_],Ba(i,_));o>S.distance&&(a=S.closestMatch,l=S.path,o=S.distance,m=S.indexMatch)}else{var A;ct(A=_.toLowerCase()).call(A,c)!==-1&&(m=_),o>(E=r.levenshteinDistance(e,_))&&(a=_,l=lh(i),o=E)}}return{closestMatch:a,path:l,distance:o,indexMatch:m}}},{key:"printLocation",value:function(e,t){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,n=`

`+i+`options = {
`,o=0;o<e.length;o++){for(var a=0;a<o+1;a++)n+="  ";n+=e[o]+`: {
`}for(var l=0;l<e.length+1;l++)n+="  ";n+=t+`
`;for(var c=0;c<e.length+1;c++){for(var m=0;m<e.length-c;m++)n+="  ";n+=`}
`}return n+`

`}},{key:"print",value:function(e){return ei(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var i,n,o=[];for(i=0;i<=t.length;i++)o[i]=[i];for(n=0;n<=e.length;n++)o[0][n]=n;for(i=1;i<=t.length;i++)for(n=1;n<=e.length;n++)t.charAt(i-1)==e.charAt(n-1)?o[i][n]=o[i-1][n-1]:o[i][n]=Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[t.length][e.length]}}]),r}();function As(r){return yo=r,function(){var e={};if(Ha=0,Fe=yo.charAt(0),bt(),Pe==="strict"&&(e.strict=!0,bt()),Pe!=="graph"&&Pe!=="digraph"||(e.type=Pe,bt()),ht===ai&&(e.id=Pe,bt()),Pe!="{")throw di("Angle bracket { expected");if(bt(),Wu(e),Pe!="}")throw di("Angle bracket } expected");if(bt(),Pe!=="")throw di("End of file expected");return bt(),delete e.node,delete e.edge,delete e.graph,e}()}var vh={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Hu=uo(vh);Hu.color="color.color",Hu.style="dashes";var zc=0,$u=1,ai=2,Bc=3,Ds={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},yo="",Ha=0,Fe="",Pe="",ht=zc;function dt(){Ha++,Fe=yo.charAt(Ha)}function vr(){return yo.charAt(Ha+1)}function $a(r){var e=r.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123&&e>96}function sn(r,e){if(r||(r={}),e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function Wa(r,e,t){for(var i=e.split("."),n=r;i.length;){var o=i.shift();i.length?(n[o]||(n[o]={}),n=n[o]):n[o]=t}}function qr(r,e){for(var t,i,n=null,o=[r],a=r;a.parent;)o.push(a.parent),a=a.parent;if(a.nodes){for(t=0,i=a.nodes.length;t<i;t++)if(e.id===a.nodes[t].id){n=a.nodes[t];break}}for(n||(n={id:e.id},r.node&&(n.attr=sn(n.attr,r.node))),t=o.length-1;t>=0;t--){var l,c=o[t];c.nodes||(c.nodes=[]),ct(l=c.nodes).call(l,n)===-1&&c.nodes.push(n)}e.attr&&(n.attr=sn(n.attr,e.attr))}function qn(r,e){if(r.edges||(r.edges=[]),r.edges.push(e),r.edge){var t=sn({},r.edge);e.attr=sn(t,e.attr)}}function Ur(r,e,t,i,n){var o={from:e,to:t,type:i};return r.edge&&(o.attr=sn({},r.edge)),o.attr=sn(o.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(o.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),o}function bt(){for(ht=zc,Pe="";Fe===" "||Fe==="	"||Fe===`
`||Fe==="\r";)dt();do{var r=!1;if(Fe==="#"){for(var e=Ha-1;yo.charAt(e)===" "||yo.charAt(e)==="	";)e--;if(yo.charAt(e)===`
`||yo.charAt(e)===""){for(;Fe!=""&&Fe!=`
`;)dt();r=!0}}if(Fe==="/"&&vr()==="/"){for(;Fe!=""&&Fe!=`
`;)dt();r=!0}if(Fe==="/"&&vr()==="*"){for(;Fe!="";){if(Fe==="*"&&vr()==="/"){dt(),dt();break}dt()}r=!0}for(;Fe===" "||Fe==="	"||Fe===`
`||Fe==="\r";)dt()}while(r);if(Fe!==""){var t=Fe+vr();if(Ds[t])return ht=$u,Pe=t,dt(),void dt();if(Ds[Fe])return ht=$u,Pe=Fe,void dt();if($a(Fe)||Fe==="-"){for(Pe+=Fe,dt();$a(Fe);)Pe+=Fe,dt();return Pe==="false"?Pe=!1:Pe==="true"?Pe=!0:isNaN(Number(Pe))||(Pe=Number(Pe)),void(ht=ai)}if(Fe==='"'){for(dt();Fe!=""&&(Fe!='"'||Fe==='"'&&vr()==='"');)Fe==='"'?(Pe+=Fe,dt()):Fe==="\\"&&vr()==="n"?(Pe+=`
`,dt()):Pe+=Fe,dt();if(Fe!='"')throw di('End of string " expected');return dt(),void(ht=ai)}for(ht=Bc;Fe!="";)Pe+=Fe,dt();throw new SyntaxError('Syntax error in part "'+Uu(Pe,30)+'"')}ht=$u}function Wu(r){for(;Pe!==""&&Pe!="}";)qu(r),Pe===";"&&bt()}function qu(r){var e=Un(r);if(e)qa(r,e);else if(!function(i){return Pe==="node"?(bt(),i.node=un(),"node"):Pe==="edge"?(bt(),i.edge=un(),"edge"):Pe==="graph"?(bt(),i.graph=un(),"graph"):null}(r)){if(ht!=ai)throw di("Identifier expected");var t=Pe;if(bt(),Pe==="="){if(bt(),ht!=ai)throw di("Identifier expected");r[t]=Pe,bt()}else(function(i,n){var o={id:n},a=un();a&&(o.attr=a),qr(i,o),qa(i,n)})(r,t)}}function Un(r){var e=null;if(Pe==="subgraph"&&((e={}).type="subgraph",bt(),ht===ai&&(e.id=Pe,bt())),Pe==="{"){if(bt(),e||(e={}),e.parent=r,e.node=r.node,e.edge=r.edge,e.graph=r.graph,Wu(e),Pe!="}")throw di("Angle bracket } expected");bt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,r.subgraphs||(r.subgraphs=[]),r.subgraphs.push(e)}return e}function qa(r,e){for(;Pe==="->"||Pe==="--";){var t,i=Pe;bt();var n=Un(r);if(n)t=n;else{if(ht!=ai)throw di("Identifier or subgraph expected");qr(r,{id:t=Pe}),bt()}qn(r,Ur(r,e,t,i,un())),e=t}}function un(){for(var r,e,t=null,i={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,a=new Array;Pe==="[";){for(bt(),t={};Pe!==""&&Pe!="]";){if(ht!=ai)throw di("Attribute name expected");var l=Pe;if(bt(),Pe!="=")throw di("Equal sign = expected");if(bt(),ht!=ai)throw di("Attribute value expected");var c=Pe;l==="style"&&(c=i[c]),l==="arrowhead"&&(l="arrows",c={to:{enabled:!0,type:n[c]}}),l==="arrowtail"&&(l="arrows",c={from:{enabled:!0,type:n[c]}}),o.push({attr:t,name:l,value:c}),a.push(l),bt(),Pe==","&&bt()}if(Pe!="]")throw di("Bracket ] expected");bt()}if(xn(a).call(a,"dir")){var m={arrows:{}};for(r=0;r<o.length;r++)if(o[r].name==="arrows")if(o[r].value.to!=null)m.arrows.to=r;else{if(o[r].value.from==null)throw di("Invalid value of arrows");m.arrows.from=r}else o[r].name==="dir"&&(m.dir=r);var _,E,S=o[m.dir].value;if(!xn(a).call(a,"arrows"))if(S==="both")o.push({attr:o[m.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),m.arrows.to=o.length-1,o.push({attr:o[m.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),m.arrows.from=o.length-1;else if(S==="forward")o.push({attr:o[m.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),m.arrows.to=o.length-1;else if(S==="back")o.push({attr:o[m.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),m.arrows.from=o.length-1;else{if(S!=="none")throw di('Invalid dir type "'+S+'"');o.push({attr:o[m.dir].attr,name:"arrows",value:""}),m.arrows.to=o.length-1}if(S==="both")m.arrows.to&&m.arrows.from?(E=o[m.arrows.to].value.to.type,_=o[m.arrows.from].value.from.type,o[m.arrows.to]={attr:o[m.arrows.to].attr,name:o[m.arrows.to].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}},En(o).call(o,m.arrows.from,1)):m.arrows.to?(E=o[m.arrows.to].value.to.type,_="arrow",o[m.arrows.to]={attr:o[m.arrows.to].attr,name:o[m.arrows.to].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}}):m.arrows.from&&(E="arrow",_=o[m.arrows.from].value.from.type,o[m.arrows.from]={attr:o[m.arrows.from].attr,name:o[m.arrows.from].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}});else if(S==="back")m.arrows.to&&m.arrows.from?(E="",_=o[m.arrows.from].value.from.type,o[m.arrows.from]={attr:o[m.arrows.from].attr,name:o[m.arrows.from].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}}):m.arrows.to?(E="",_="arrow",m.arrows.from=m.arrows.to,o[m.arrows.from]={attr:o[m.arrows.from].attr,name:o[m.arrows.from].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}}):m.arrows.from&&(E="",_=o[m.arrows.from].value.from.type,o[m.arrows.to]={attr:o[m.arrows.from].attr,name:o[m.arrows.from].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}}),o[m.arrows.from]={attr:o[m.arrows.from].attr,name:o[m.arrows.from].name,value:{from:{enabled:!0,type:o[m.arrows.from].value.from.type}}};else if(S==="none"){var A;o[A=m.arrows.to?m.arrows.to:m.arrows.from]={attr:o[A].attr,name:o[A].name,value:""}}else{if(S!=="forward")throw di('Invalid dir type "'+S+'"');m.arrows.to&&m.arrows.from||m.arrows.to?(E=o[m.arrows.to].value.to.type,_="",o[m.arrows.to]={attr:o[m.arrows.to].attr,name:o[m.arrows.to].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}}):m.arrows.from&&(E="arrow",_="",m.arrows.to=m.arrows.from,o[m.arrows.to]={attr:o[m.arrows.to].attr,name:o[m.arrows.to].name,value:{to:{enabled:!0,type:E},from:{enabled:!0,type:_}}}),o[m.arrows.to]={attr:o[m.arrows.to].attr,name:o[m.arrows.to].name,value:{to:{enabled:!0,type:o[m.arrows.to].value.to.type}}}}En(o).call(o,m.dir,1)}if(xn(a).call(a,"penwidth")){var D=[];for(e=o.length,r=0;r<e;r++)o[r].name!=="width"&&(o[r].name==="penwidth"&&(o[r].name="width"),D.push(o[r]));o=D}for(e=o.length,r=0;r<e;r++)Wa(o[r].attr,o[r].name,o[r].value);return t}function di(r){return new SyntaxError(r+', got "'+Uu(Pe,30)+'" (char '+Ha+")")}function Uu(r,e){return r.length<=e?r:r.substr(0,27)+"..."}function ra(r,e,t){for(var i=e.split("."),n=i.pop(),o=r,a=0;a<i.length;a++){var l=i[a];l in o||(o[l]={}),o=o[l]}return o[n]=t,r}function ph(r,e){var t={};for(var i in r)if(r.hasOwnProperty(i)){var n=e[i];ut(n)?yt(n).call(n,function(o){ra(t,o,r[i])}):ra(t,typeof n=="string"?n:i,r[i])}return t}function Vu(r){var e,t=As(r),i={nodes:[],edges:[],options:{}};if(t.nodes&&yt(e=t.nodes).call(e,function(a){var l={id:a.id,label:String(a.label||a.id)};sn(l,ph(a.attr,vh)),l.image&&(l.shape="image"),i.nodes.push(l)}),t.edges){var n,o=function(a){var l={from:a.from,to:a.to};return sn(l,ph(a.attr,Hu)),l.arrows==null&&a.type==="->"&&(l.arrows="to"),l};yt(n=t.edges).call(n,function(a){var l,c,m,_,E,S,A;l=a.from instanceof Object?a.from.nodes:{id:a.from},c=a.to instanceof Object?a.to.nodes:{id:a.to},a.from instanceof Object&&a.from.edges&&yt(m=a.from.edges).call(m,function(D){var R=o(D);i.edges.push(R)}),E=c,S=function(D,R){var H=Ur(i,D.id,R.id,a.type,a.attr),X=o(H);i.edges.push(X)},ut(_=l)?yt(_).call(_,function(D){ut(E)?yt(E).call(E,function(R){S(D,R)}):S(D,E)}):ut(E)?yt(E).call(E,function(D){S(_,D)}):S(_,E),a.to instanceof Object&&a.to.edges&&yt(A=a.to.edges).call(A,function(D){var R=o(D);i.edges.push(R)})})}return t.attr&&(i.options=t.attr),i}var Gu=Object.freeze({__proto__:null,parseDOT:As,DOTToGraph:Vu});function Ms(r,e){var t,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(i.nodes.fixed=e.fixed),e.parseColor!=null&&(i.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(i.edges.inheritColor=e.inheritColor));var n=r.edges,o=so(n).call(n,function(a){var l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&i.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:so(t=r.nodes).call(t,function(a){var l={id:a.id,fixed:i.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(i.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:o}}var ti=Object.freeze({__proto__:null,parseGephi:Ms}),gh=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xFCgen",addNode:"Knoten hinzuf\xFCgen",back:"Zur\xFCck",close:"Schlie\xDFen",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",del:"L\xF6sche Auswahl",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xF6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",addEdge:"A\xF1adir arista",addNode:"A\xF1adir nodo",back:"Atr\xE1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xF3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xF3",back:"Voltar",close:"Fechar",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",edit:"Editar",editClusterError:"Clusters n\xE3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",editNode:"Editar n\xF3"},ru:{addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u044B\u0432\u0430\u0442\u044C",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B"},cn:{addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",addNode:"\u6DFB\u52A0\u8282\u70B9",back:"\u8FD4\u56DE",close:"\u95DC\u9589",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",del:"\u5220\u9664\u9009\u5B9A",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",edit:"\u7F16\u8F91",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",editNode:"\u7F16\u8F91\u8282\u70B9"},uk:{addDescription:"K\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0456\u043B\u044C\u043D\u0435 \u043C\u0456\u0441\u0446\u0435, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0432\u0443\u0437\u043E\u043B.",addEdge:"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",addNode:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438",createEdgeError:"\u041D\u0435 \u043C\u043E\u0436\u043B\u0438\u0432\u043E \u043E\u0431'\u0454\u0434\u043D\u0430\u0442\u0438 \u043A\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043F\u0443.",del:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0435",deleteClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0456.",edgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0443\u0437\u043E\u043B \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u043A\u0440\u0430\u0439 \u0434\u043E \u0456\u043D\u0448\u043E\u0433\u043E \u0432\u0443\u0437\u043B\u0430, \u0449\u043E\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043D\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",editEdgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u0456 \u0442\u043E\u0447\u043A\u0438 \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0457\u0445 \u0443 \u0432\u0443\u0437\u043E\u043B, \u0449\u043E\u0431 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438\u0441\u044F \u0434\u043E \u043D\u044C\u043E\u0433\u043E.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xE9er un lien vers un cluster.",del:"Effacer la s\xE9lection",deleteClusterError:"Les clusters ne peuvent pas \xEAtre effac\xE9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xC9diter",editClusterError:"Les clusters ne peuvent pas \xEAtre \xE9dit\xE9s.",editEdge:"\xC9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xF4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xC9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xEDm do pr\xE1zdn\xE9ho prostoru m\u016F\u017Eete p\u0159idat nov\xFD vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011Bt",close:"Zav\u0159\xEDt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xFDb\u011Br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017Een\xEDm z jednoho vrcholu do druh\xE9ho m\u016F\u017Eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017Een\xEDm kontroln\xEDho vrcholu hrany ji m\u016F\u017Eete p\u0159ipojit k jin\xE9mu vrcholu.",editNode:"Upravit vrchol"}}),Lc=function(){function r(){ae(this,r),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return ve(r,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var i=Math.floor(t/2),n=Math.floor(t/4),o=Math.floor(t/8),a=Math.floor(t/16),l=Math.floor(e/2),c=Math.floor(e/4),m=Math.floor(e/8),_=Math.floor(e/16);this.canvas.width=3*c,this.canvas.height=i,this.coordinates=[[0,0,l,i],[l,0,c,n],[l,n,m,o],[5*m,n,_,a]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,i,n,o,a){if(this.initialized())if(t>2){t*=.5;for(var l=0;t>2&&l<this.NUM_ITERATIONS;)t*=.5,l+=1;l>=this.NUM_ITERATIONS&&(l=this.NUM_ITERATIONS-1);var c=this.coordinates[l];e.drawImage(this.canvas,c[0],c[1],c[2],c[3],i,n,o,a)}else e.drawImage(this.image,i,n,o,a)}}]),r}(),Yu=function(){function r(e){ae(this,r),this.images={},this.imageBroken={},this.callback=e}return ve(r,[{key:"_tryloadBrokenUrl",value:function(e,t,i){e!==void 0&&i!==void 0&&(t!==void 0?(i.image.onerror=function(){console.error("Could not load brokenImage:",t)},i.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var i=this,n=this.images[e];if(n)return n;var o=new Lc;return this.images[e]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),i._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),r}(),Hc=!re(function(){return Object.isExtensible(Object.preventExtensions({}))}),Fs=_e(function(r){var e=st.f,t=ca("meta"),i=0,n=Object.isExtensible||function(){return!0},o=function(l){e(l,t,{value:{objectID:"O"+ ++i,weakData:{}}})},a=r.exports={REQUIRED:!1,fastKey:function(l,c){if(!Ue(l))return typeof l=="symbol"?l:(typeof l=="string"?"S":"P")+l;if(!Ye(l,t)){if(!n(l))return"F";if(!c)return"E";o(l)}return l[t].objectID},getWeakData:function(l,c){if(!Ye(l,t)){if(!n(l))return!0;if(!c)return!1;o(l)}return l[t].weakData},onFreeze:function(l){return Hc&&a.REQUIRED&&n(l)&&!Ye(l,t)&&o(l),l}};fn[t]=!0}),mo=function(r,e){this.stopped=r,this.result=e},Tn=function(r,e,t){var i,n,o,a,l,c,m,_=t&&t.that,E=!(!t||!t.AS_ENTRIES),S=!(!t||!t.IS_ITERATOR),A=!(!t||!t.INTERRUPTED),D=Me(e,_,1+E+A),R=function(X){return i&&Mo(i),new mo(!0,X)},H=function(X){return E?(At(X),A?D(X[0],X[1],R):D(X[0],X[1])):A?D(X,R):D(X)};if(S)i=r;else{if(typeof(n=ou(r))!="function")throw TypeError("Target is not iterable");if(Hh(n)){for(o=0,a=Gt(r.length);a>o;o++)if((l=H(r[o]))&&l instanceof mo)return l;return new mo(!1)}i=n.call(r)}for(c=i.next;!(m=c.call(i)).done;){try{l=H(m.value)}catch(X){throw Mo(i),X}if(typeof l=="object"&&l&&l instanceof mo)return l}return new mo(!1)},bo=function(r,e,t){if(!(r instanceof e))throw TypeError("Incorrect "+(t?t+" ":"")+"invocation");return r},oa=st.f,Ua=Ir.forEach,yh=qi.set,wo=qi.getterFor,pr=function(r,e,t){var i,n=r.indexOf("Map")!==-1,o=r.indexOf("Weak")!==-1,a=n?"set":"add",l=J[r],c=l&&l.prototype,m={};if(tt&&typeof l=="function"&&(o||c.forEach&&!re(function(){new l().entries().next()}))){i=e(function(E,S){yh(bo(E,i,r),{type:r,collection:new l}),S!=null&&Tn(S,E[a],{that:E,AS_ENTRIES:n})});var _=wo(r);Ua(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(E){var S=E=="add"||E=="set";!(E in c)||o&&E=="clear"||$i(i.prototype,E,function(A,D){var R=_(this).collection;if(!S&&o&&!Ue(A))return E=="get"&&void 0;var H=R[E](A===0?0:A,D);return S?this:H})}),o||oa(i.prototype,"size",{configurable:!0,get:function(){return _(this).collection.size}})}else i=t.getConstructor(e,r,n,a),Fs.REQUIRED=!0;return ss(i,r,!1,!0),m[r]=i,ke({global:!0,forced:!0},m),o||t.setStrong(i,r,n),i},Ns=function(r,e,t){for(var i in e)t&&t.unsafe&&r[i]?r[i]=e[i]:er(r,i,e[i],t);return r},mh=Ft("species"),$c=st.f,Xu=Fs.fastKey,bh=qi.set,aa=qi.getterFor,Rs={getConstructor:function(r,e,t,i){var n=r(function(c,m){bo(c,n,e),bh(c,{type:e,index:pn(null),first:void 0,last:void 0,size:0}),tt||(c.size=0),m!=null&&Tn(m,c[i],{that:c,AS_ENTRIES:t})}),o=aa(e),a=function(c,m,_){var E,S,A=o(c),D=l(c,m);return D?D.value=_:(A.last=D={index:S=Xu(m,!0),key:m,value:_,previous:E=A.last,next:void 0,removed:!1},A.first||(A.first=D),E&&(E.next=D),tt?A.size++:c.size++,S!=="F"&&(A.index[S]=D)),c},l=function(c,m){var _,E=o(c),S=Xu(m);if(S!=="F")return E.index[S];for(_=E.first;_;_=_.next)if(_.key==m)return _};return Ns(n.prototype,{clear:function(){for(var c=o(this),m=c.index,_=c.first;_;)_.removed=!0,_.previous&&(_.previous=_.previous.next=void 0),delete m[_.index],_=_.next;c.first=c.last=void 0,tt?c.size=0:this.size=0},delete:function(c){var m=this,_=o(m),E=l(m,c);if(E){var S=E.next,A=E.previous;delete _.index[E.index],E.removed=!0,A&&(A.next=S),S&&(S.previous=A),_.first==E&&(_.first=S),_.last==E&&(_.last=A),tt?_.size--:m.size--}return!!E},forEach:function(c){for(var m,_=o(this),E=Me(c,arguments.length>1?arguments[1]:void 0,3);m=m?m.next:_.first;)for(E(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(c){return!!l(this,c)}}),Ns(n.prototype,t?{get:function(c){var m=l(this,c);return m&&m.value},set:function(c,m){return a(this,c===0?0:c,m)}}:{add:function(c){return a(this,c=c===0?0:c,c)}}),tt&&$c(n.prototype,"size",{get:function(){return o(this).size}}),n},setStrong:function(r,e,t){var i=e+" Iterator",n=aa(e),o=aa(i);ls(r,e,function(a,l){bh(this,{type:i,target:a,state:n(a),kind:l,last:void 0})},function(){for(var a=o(this),l=a.kind,c=a.last;c&&c.removed;)c=c.previous;return a.target&&(a.last=c=c?c.next:a.state.first)?l=="keys"?{value:c.key,done:!1}:l=="values"?{value:c.value,done:!1}:{value:[c.key,c.value],done:!1}:(a.target=void 0,{value:void 0,done:!0})},t?"entries":"values",!t,!0),function(a){var l=eo(a),c=st.f;tt&&l&&!l[mh]&&c(l,mh,{configurable:!0,get:function(){return this}})}(e)}};pr("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Rs);var u=je.Map,d=function(){function r(){ae(this,r),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},pt(this.options,this.defaultOptions)}return ve(r,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(e!==void 0){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&ct(t).call(t,i)===-1){var n=e[i];this.add(i,n)}}}},{key:"clear",value:function(){this._groups=new u,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this._groups.get(e);if(i===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var n=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[n]),this._groups.set(e,i)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[o],this._groups.set(e,i)}return i}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),r}();ke({target:"Number",stat:!0},{isNaN:function(r){return r!=r}});var f=je.Number.isNaN,v=J.isFinite,b=Number.isFinite||function(r){return typeof r=="number"&&v(r)};ke({target:"Number",stat:!0},{isFinite:b});var k=je.Number.isFinite,O=Ir.some,I=bs("some");ke({target:"Array",proto:!0,forced:!I},{some:function(r){return O(this,r,arguments.length>1?arguments[1]:void 0)}});var C=nt("Array").some,F=Array.prototype,U=function(r){var e=r.some;return r===F||r instanceof Array&&e===F.some?C:e},W=Hl.trim,he=J.parseFloat,ye=1/he(Oa+"-0")!=-1/0?function(r){var e=W(String(r)),t=he(e);return t===0&&e.charAt(0)=="-"?-0:t}:he;ke({global:!0,forced:parseFloat!=ye},{parseFloat:ye});var Te=je.parseFloat,xe=lu.f,Oe=re(function(){return!Object.getOwnPropertyNames(1)});ke({target:"Object",stat:!0,forced:Oe},{getOwnPropertyNames:xe});var me=je.Object,Ve=function(r){return me.getOwnPropertyNames(r)};function Ke(r,e){var t=["node","edge","label"],i=!0,n=Fi(e,"chosen");if(typeof n=="boolean")i=n;else if(kt(n)==="object"){if(ct(t).call(t,r)===-1)throw new Error("choosify: subOption '"+r+"' should be one of '"+t.join("', '")+"'");var o=Fi(e,["chosen",r]);typeof o!="boolean"&&typeof o!="function"||(i=o)}return i}function Ze(r,e,t){if(r.width<=0||r.height<=0)return!1;if(t!==void 0){var i={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){var n=-t.angle;e={x:Math.cos(n)*i.x-Math.sin(n)*i.y,y:Math.sin(n)*i.x+Math.cos(n)*i.y}}else e=i}var o=r.x+r.width,a=r.y+r.width;return r.left<e.x&&o>e.x&&r.top<e.y&&a>e.y}function ft(r){return typeof r=="string"&&r!==""}function Ut(r,e,t,i){var n=i.x,o=i.y;if(typeof i.distanceToBorder=="function"){var a=i.distanceToBorder(r,e),l=Math.sin(e)*a,c=Math.cos(e)*a;c===a?(n+=a,o=i.y):l===a?(n=i.x,o-=a):(n+=c,o-=l)}else i.shape.width>i.shape.height?(n=i.x+.5*i.shape.width,o=i.y-t):(n=i.x+t,o=i.y-.5*i.shape.height);return{x:n,y:o}}var In=nt("Array").values,ii=Array.prototype,fi={DOMTokenList:!0,NodeList:!0},ln=function(r){var e=r.values;return r===ii||r instanceof Array&&e===ii.values||fi.hasOwnProperty(Ao(r))?In:e},_o=function(){function r(e){ae(this,r),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return ve(r,[{key:"_add",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var n=t;t!==void 0&&t!==""||(n=" ");var o=this.measureText(n,i),a=pt({},ln(o));a.text=t,a.width=o.width,a.mod=i,t!==void 0&&t!==""||(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],i=0;if(t.blocks!==void 0)for(var n=0;n<t.blocks.length;n++){var o=t.blocks[n];i<o.height&&(i=o.height)}t.height=i}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var i=this.lines[t];if(i.blocks.length!==0&&(t!==this.lines.length-1||i.width!==0)){var n={};pt(n,i),n.blocks=[];for(var o=void 0,a=[],l=0;l<i.blocks.length;l++){var c=i.blocks[l];c.width!==0?a.push(c):o===void 0&&(o=c)}a.length===0&&o!==void 0&&a.push(o),n.blocks=a,e.push(n)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),r}(),js={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Pn=function(){function r(e){ae(this,r),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return ve(r,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){return this.modStack.length===0?"normal":this.modStack[0]==="mono"?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this.prepareRegExp(e),n=It(i,2),o=n[0],a=n[1],l=o.test(this.text.substr(this.position,a));return l&&t&&(this.position+=a-1),l}},{key:"parseEndTag",value:function(e,t,i){var n=this.mod()===e;return!(!(n=e==="mono"?n&&this.mono:n&&!this.mono)||!this.match(t))&&(i!==void 0?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),!0)}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,i;if(e instanceof RegExp)i=e,t=1;else{var n=js[e];i=n!==void 0?n:new RegExp(e),t=e.length}return[i,t]}}]),r}(),Ku=function(){function r(e,t,i,n){var o=this;ae(this,r),this.ctx=e,this.parent=t,this.selected=i,this.hover=n,this.lines=new _o(function(a,l){if(a===void 0)return 0;var c=o.parent.getFormattingValues(e,i,n,l),m=0;return a!==""&&(m=o.ctx.measureText(a).width),{width:m,values:c}})}return ve(r,[{key:"process",value:function(e){if(!ft(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,`
`)).replace(/\r/g,`
`);var i=String(e).split(`
`),n=i.length;if(t.multi)for(var o=0;o<n;o++){var a=this.splitBlocks(i[o],t.multi);if(a!==void 0)if(a.length!==0){if(t.maxWdt>0)for(var l=0;l<a.length;l++){var c=a[l].mod,m=a[l].text;this.splitStringIntoLines(m,c,!0)}else for(var _=0;_<a.length;_++){var E=a[_].mod,S=a[_].text;this.lines.append(S,E)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var A=0;A<n;A++)this.splitStringIntoLines(i[A]);else for(var D=0;D<n;D++)this.lines.newLine(i[D]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return e==="markdown"||e==="md"?t="markdown":e!==!0&&e!=="html"||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new Pn(e),i=function(o){return!!/&/.test(o)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||i(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,i=new Pn(e),n=!0,o=function(l){return!!/\\/.test(l)&&(i.position<t.text.length+1&&(i.position++,l=t.text.charAt(i.position),/ \t/.test(l)?i.spacing=!0:(i.add(l),n=!1)),!0)};i.position<i.text.length;){var a=i.text.charAt(i.position);i.parseWS(a)||o(a)||(n||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(a),n=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(e,t){var i=this.decodeMarkupSystem(t);return i==="none"?[{text:e,mod:"normal"}]:i==="markdown"?this.splitMarkdownBlocks(e):i==="html"?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",i=0;i<e.length;){var n=t+(t===""?"":" ")+e[i];if(this.overMaxWidth(n))break;t=n,i++}return i}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(Ot(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var n=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var o=this.getLongestFit(n);if(o===0){var a=n[0],l=this.getLongestFitWord(a);this.lines.newLine(Ot(a).call(a,0,l),t),n[0]=Ot(a).call(a,l)}else{var c=o;n[o-1]===" "?o--:n[c]===" "&&c++;var m=Ot(n).call(n,0,o).join("");o==n.length&&i?this.lines.append(m,t):this.lines.newLine(m,t),n=Ot(n).call(n,c)}}}}]),r}(),Vr=["bold","ital","boldital","mono"],Qu=function(){function r(e,t){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];ae(this,r),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return ve(r,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),ft(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(kt(e.font)==="object"){var t=e.font.size;t!==void 0&&(this.baseSize=t)}}}},{key:"initFontOptions",value:function(e){var t=this;Qe(Vr,function(i){t.fontOptions[i]={}}),r.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Qe(e,function(i,n){i!=null&&kt(i)!=="object"&&(t.fontOptions[n]=i)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Fi(e,"widthConstraint");if(typeof i=="number")t.maxWdt=Number(i),t.minWdt=Number(i);else if(kt(i)==="object"){var n=Fi(e,["widthConstraint","maximum"]);typeof n=="number"&&(t.maxWdt=Number(n));var o=Fi(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}var a=Fi(e,"heightConstraint");if(typeof a=="number")t.minHgt=Number(a);else if(kt(a)==="object"){var l=Fi(e,["heightConstraint","minimum"]);typeof l=="number"&&(t.minHgt=Number(l));var c=Fi(e,["heightConstraint","valign"]);typeof c=="string"&&(c!=="top"&&c!=="bottom"||(t.valign=c))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),Be(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Ke("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var i=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(e,t){for(var i=0;i<t.length;++i)this.addFontToPile(e,t[i])}},{key:"addFontToPile",value:function(e,t){if(t!==void 0&&t.font!==void 0&&t.font!==null){var i=t.font;e.push(i)}}},{key:"getBasicOptions",value:function(e){for(var t={},i=0;i<e.length;++i){var n=e[i],o={};r.parseFontString(o,n)&&(n=o),Qe(n,function(a,l){a!==void 0&&(Object.prototype.hasOwnProperty.call(t,l)||(ct(Vr).call(Vr,l)!==-1?t[l]={}:t[l]=a))})}return t}},{key:"getFontOption",value:function(e,t,i){for(var n,o=0;o<e.length;++o){var a=e[o];if(Object.prototype.hasOwnProperty.call(a,t)){if((n=a[t])==null)continue;var l={};if(r.parseFontString(l,n)&&(n=l),Object.prototype.hasOwnProperty.call(n,i))return n[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,t){for(var i={},n=["color","size","face","mod","vadjust"],o=0;o<n.length;++o){var a=n[o];i[a]=this.getFontOption(e,t,a)}return i}},{key:"propagateFonts",value:function(e){var t=this,i=[];this.addFontOptionsToPile(i,e),this.fontOptions=this.getBasicOptions(i);for(var n=function(a){var l=Vr[a],c=t.fontOptions[l];Qe(t.getFontOptions(i,l),function(m,_){c[_]=m}),c.size=Number(c.size),c.vadjust=Number(c.vadjust)},o=0;o<Vr.length;++o)n(o)}},{key:"draw",value:function(e,t,i,n,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,t,i,a),this._drawBackground(e),this._drawText(e,t,this.size.yLine,a,l))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0,a=this._setAlignment(e,t,i,n),l=It(a,2);t=l[0],i=l[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(i-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(i+=(this.size.height-this.size.labelHeight)/2));for(var c=0;c<this.lineCount;c++){var m=this.lines[c];if(m&&m.blocks){var _=0;this.isEdgeLabel||this.fontOptions.align==="center"?_+=(this.size.width-m.width)/2:this.fontOptions.align==="right"&&(_+=this.size.width-m.width);for(var E=0;E<m.blocks.length;E++){var S=m.blocks[E];e.font=S.font;var A=this._getColor(S.color,o,S.strokeColor),D=It(A,2),R=D[0],H=D[1];S.strokeWidth>0&&(e.lineWidth=S.strokeWidth,e.strokeStyle=H,e.lineJoin="round"),e.fillStyle=R,S.strokeWidth>0&&e.strokeText(S.text,t+_,i+S.vadjust),e.fillText(S.text,t+_,i+S.vadjust),_+=S.width}i+=m.height}}}},{key:"_setAlignment",value:function(e,t,i,n){return this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1?(t=0,i=0,this.fontOptions.align==="top"?(e.textBaseline="alphabetic",i-=4):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",i+=4):e.textBaseline="middle"):e.textBaseline=n,[t,i]}},{key:"_getColor",value:function(e,t,i){var n=e||"#000000",o=i||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=On(n,a),o=On(o,a)}return[n,o]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return this._processLabel(e,t,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=i,t=.5*-this.size.height;break;case"top":e=i,t=-(this.size.height+2);break;case"bottom":e=i,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,i,n){var o=function(c,m,_){return m==="normal"?_==="mod"?"":c[_]:c[m][_]!==void 0?c[m][_]:c[_]},a={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||i)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,t,i));var l="";return a.mod!==void 0&&a.mod!==""&&(l+=a.mod+" "),l+=a.size+"px "+a.face,e.font=l.replace(/"/g,""),a.font=e.font,a.height=a.size,a}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,i,n){return new Ku(e,this,t,i).process(n)}},{key:"_processLabel",value:function(e,t,i){if(this.labelDirty!==!1||this.differentState(t,i)){var n=this._processLabelText(e,t,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return this.size.width!==0&&this.size.height!==0&&this.elementOptions.label!==void 0&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||typeof t!="string")return!1;var i=t.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}}]),r}(),de=eo("Reflect","construct"),se=re(function(){function r(){}return!(de(function(){},[],r)instanceof r)}),Le=!re(function(){de(function(){})}),it=se||Le;ke({target:"Reflect",stat:!0,forced:it,sham:it},{construct:function(r,e){dn(r),At(e);var t=arguments.length<3?r:dn(arguments[2]);if(Le&&!se)return de(r,e,t);if(r==t){switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(zt.apply(r,i))}var n=t.prototype,o=pn(Ue(n)?n:Object.prototype),a=Function.apply.call(r,o,e);return Ue(a)?a:o}});var L=je.Reflect.construct,si=Ul;ke({target:"Object",stat:!0},{setPrototypeOf:us});var ni=je.Object.setPrototypeOf;function hn(r,e){return(hn=ni||function(t,i){return t.__proto__=i,t})(r,e)}function Je(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=si(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&hn(r,e)}function Ce(r,e){return!e||kt(e)!=="object"&&typeof e!="function"?function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):e}var Ri=jl;function be(r){return(be=ni?Ri:function(e){return e.__proto__||Ri(e)})(r)}var ko=function(){function r(e,t,i){ae(this,r),this.body=t,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return ve(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(kt(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){var i=t.borderDashes;i===!0&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var i=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,i),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var i=t.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Uo(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,i,n,o){i!==void 0&&this.resize(i,n,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,i,n,o){this._updateBoundingBox(e,t,i,n,o)}},{key:"getDimensionsFromLabel",value:function(e,t,i){this.textSize=this.labelModule.getTextSize(e,t,i);var n=this.textSize.width,o=this.textSize.height;return n===0&&(n=14,o=14),{width:n,height:o}}}]),r}();function Wc(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var wh=function(r){Je(t,r);var e=Wc(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o))._setMargins(o),a}return ve(t,[{key:"resize",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var a=this.getDimensionsFromLabel(i,n,o);this.width=a.width+this.margin.right+this.margin.left,this.height=a.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(i,n,o,a,l,c){this.resize(i,a,l),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,c),Kr(i,this.left,this.top,this.width,this.height,c.borderRadius),this.performFill(i,c),this.updateBoundingBox(n,o,i,a,l),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,a,l)}},{key:"updateBoundingBox",value:function(i,n,o,a,l){this._updateBoundingBox(i,n,o,a,l);var c=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(c)}},{key:"distanceToBorder",value:function(i,n){i&&this.resize(i);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(n)),Math.abs(this.height/2/Math.sin(n)))+o}}]),t}(ko);function Va(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var qc=function(r){Je(t,r);var e=Va(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o)).labelOffset=0,a.selected=!1,a}return ve(t,[{key:"setOptions",value:function(i,n,o){this.options=i,n===void 0&&o===void 0||this.setImages(n,o)}},{key:"setImages",value:function(i,n){n&&this.selected?(this.imageObj=n,this.imageObjAlt=i):(this.imageObj=i,this.imageObjAlt=n)}},{key:"switchImages",value:function(i){var n=i&&!this.selected||!i&&this.selected;if(this.selected=i,this.imageObjAlt!==void 0&&n){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var i={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var n=this.options.imagePadding;kt(n)=="object"?(i.top=n.top,i.right=n.right,i.bottom=n.bottom,i.left=n.left):(i.top=n,i.right=n,i.bottom=n,i.left=n)}return i}},{key:"_resizeImage",value:function(){var i,n;if(this.options.shapeProperties.useImageSize===!1){var o=1,a=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:a=this.imageObj.height/this.imageObj.width),i=2*this.options.size*o,n=2*this.options.size*a}else{var l=this._getImagePadding();i=this.imageObj.width+l.left+l.right,n=this.imageObj.height+l.top+l.bottom}this.width=i,this.height=n,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(i,n,o,a){this.initContextForDraw(i,a),wr(i,n,o,a.size),this.performFill(i,a)}},{key:"_drawImageAtPosition",value:function(i,n){if(this.imageObj.width!=0){i.globalAlpha=n.opacity!==void 0?n.opacity:1,this.enableShadow(i,n);var o=1;this.options.shapeProperties.interpolation===!0&&(o=this.imageObj.width/this.width/this.body.view.scale);var a=this._getImagePadding(),l=this.left+a.left,c=this.top+a.top,m=this.width-a.left-a.right,_=this.height-a.top-a.bottom;this.imageObj.drawImageAtPosition(i,o,l,c,m,_),this.disableShadow(i,n)}}},{key:"_drawImageLabel",value:function(i,n,o,a,l){var c=0;if(this.height!==void 0){c=.5*this.height;var m=this.labelModule.getTextSize(i,a,l);m.lineCount>=1&&(c+=m.height/2)}var _=o+c;this.options.label&&(this.labelOffset=c),this.labelModule.draw(i,n,_,a,l,"hanging")}}]),t}(ko);function ev(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var tv=function(r){Je(t,r);var e=ev(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o))._setMargins(o),a}return ve(t,[{key:"resize",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var a=this.getDimensionsFromLabel(i,n,o),l=Math.max(a.width+this.margin.right+this.margin.left,a.height+this.margin.top+this.margin.bottom);this.options.size=l/2,this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(i,n,o,a,l,c){this.resize(i,a,l),this.left=n-this.width/2,this.top=o-this.height/2,this._drawRawCircle(i,n,o,c),this.updateBoundingBox(n,o),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,o,a,l)}},{key:"updateBoundingBox",value:function(i,n){this.boundingBox.top=n-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=n+this.options.size}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),t}(qc);function of(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var iv=function(r){Je(t,r);var e=of(t);function t(i,n,o,a,l){var c;return ae(this,t),(c=e.call(this,i,n,o)).setImages(a,l),c}return ve(t,[{key:"resize",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,a=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(a){var l=2*this.options.size;return this.width=l,this.height=l,void(this.radius=.5*this.width)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(i,n,o,a,l,c){this.switchImages(a),this.resize();var m=n,_=o;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=o,m+=this.width/2,_+=this.height/2):(this.left=n-this.width/2,this.top=o-this.height/2),this._drawRawCircle(i,m,_,c),i.save(),i.clip(),this._drawImageAtPosition(i,c),i.restore(),this._drawImageLabel(i,m,_,a,l),this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(i,n){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=n,this.boundingBox.left=i,this.boundingBox.right=i+2*this.options.size,this.boundingBox.bottom=n+2*this.options.size):(this.boundingBox.top=n-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=n+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),t}(qc);function af(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Ga=function(r){Je(t,r);var e=af(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"resize",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(n,o)){var l,c;this.labelModule.getTextSize(i,n,o);var m=2*a.size;this.width=(l=this.customSizeWidth)!==null&&l!==void 0?l:m,this.height=(c=this.customSizeHeight)!==null&&c!==void 0?c:m,this.radius=.5*this.width}}},{key:"_drawShape",value:function(i,n,o,a,l,c,m,_){var E,S=this;return this.resize(i,c,m,_),this.left=a-this.width/2,this.top=l-this.height/2,this.initContextForDraw(i,_),(E=n,Object.prototype.hasOwnProperty.call(nl,E)?nl[E]:function(A){for(var D=arguments.length,R=new Array(D>1?D-1:0),H=1;H<D;H++)R[H-1]=arguments[H];CanvasRenderingContext2D.prototype[E].call(A,R)})(i,a,l,_.size),this.performFill(i,_),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(i.font=(c?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",i.fillText(this.options.icon.code,a,l)),{drawExternalLabel:function(){if(S.options.label!==void 0){S.labelModule.calculateLabelSize(i,c,m,a,l,"hanging");var A=l+.5*S.height+.5*S.labelModule.size.height;S.labelModule.draw(i,a,A,c,m,"hanging")}S.updateBoundingBox(a,l)}}}},{key:"updateBoundingBox",value:function(i,n){this.boundingBox.top=n-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=n+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(ko);function Hd(r,e){var t=Dt(r);if(_n){var i=_n(r);e&&(i=Pi(i).call(i,function(n){return Rt(r,n).enumerable})),t.push.apply(t,i)}return t}function $d(r){for(var e=1;e<arguments.length;e++){var t,i=arguments[e]!=null?arguments[e]:{};if(e%2)yt(t=Hd(Object(i),!0)).call(t,function(o){gu(r,o,i[o])});else if(Pr)kn(r,Pr(i));else{var n;yt(n=Hd(Object(i))).call(n,function(o){gs(r,o,Rt(i,o))})}}return r}function nv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var sf=function(r){Je(t,r);var e=nv(t);function t(i,n,o,a){var l;return ae(this,t),(l=e.call(this,i,n,o,a)).ctxRenderer=a,l}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){this.resize(i,a,l,c),this.left=n-this.width/2,this.top=o-this.height/2,i.save();var m=this.ctxRenderer({ctx:i,id:this.options.id,x:n,y:o,state:{selected:a,hover:l},style:$d({},c),label:this.options.label});if(m.drawNode!=null&&m.drawNode(),i.restore(),m.drawExternalLabel){var _=m.drawExternalLabel;m.drawExternalLabel=function(){i.save(),_(),i.restore()}}return m.nodeDimensions&&(this.customSizeWidth=m.nodeDimensions.width,this.customSizeHeight=m.nodeDimensions.height),m}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(Ga);function Uc(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var uf=function(r){Je(t,r);var e=Uc(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o))._setMargins(o),a}return ve(t,[{key:"resize",value:function(i,n,o){if(this.needsRefresh(n,o)){var a=this.getDimensionsFromLabel(i,n,o).width+this.margin.right+this.margin.left;this.width=a,this.height=a,this.radius=this.width/2}}},{key:"draw",value:function(i,n,o,a,l,c){this.resize(i,a,l),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,c),Qr(i,n-this.width/2,o-this.height/2,this.width,this.height),this.performFill(i,c),this.updateBoundingBox(n,o,i,a,l),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,a,l)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(ko);function lf(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var rv=function(r){Je(t,r);var e=lf(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){return this._drawShape(i,"diamond",4,n,o,a,l,c)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(Ga);function ov(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var sa=function(r){Je(t,r);var e=ov(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){return this._drawShape(i,"circle",2,n,o,a,l,c)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.options.size}}]),t}(Ga);function av(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Vc=function(r){Je(t,r);var e=av(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"resize",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var a=this.getDimensionsFromLabel(i,n,o);this.height=2*a.height,this.width=a.width+a.height,this.radius=.5*this.width}}},{key:"draw",value:function(i,n,o,a,l,c){this.resize(i,a,l),this.left=n-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(i,c),Gs(i,this.left,this.top,this.width,this.height),this.performFill(i,c),this.updateBoundingBox(n,o,i,a,l),this.labelModule.draw(i,n,o,a,l)}},{key:"distanceToBorder",value:function(i,n){i&&this.resize(i);var o=.5*this.width,a=.5*this.height,l=Math.sin(n)*o,c=Math.cos(n)*a;return o*a/Math.sqrt(l*l+c*c)}}]),t}(ko);function hf(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var cf=function(r){Je(t,r);var e=hf(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o))._setMargins(o),a}return ve(t,[{key:"resize",value:function(i,n,o){this.needsRefresh(n,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,n,o,a,l,c){var m=this;return this.resize(i,a,l),this.options.icon.size=this.options.icon.size||50,this.left=n-this.width/2,this.top=o-this.height/2,this._icon(i,n,o,a,l,c),{drawExternalLabel:function(){m.options.label!==void 0&&m.labelModule.draw(i,m.left+m.iconSize.width/2+m.margin.left,o+m.height/2+5,a),m.updateBoundingBox(n,o)}}}},{key:"updateBoundingBox",value:function(i,n){this.boundingBox.top=n-.5*this.options.icon.size,this.boundingBox.left=i-.5*this.options.icon.size,this.boundingBox.right=i+.5*this.options.icon.size,this.boundingBox.bottom=n+.5*this.options.icon.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(i,n,o,a,l,c){var m=Number(this.options.icon.size);this.options.icon.code!==void 0?(i.font=[this.options.icon.weight!=null?this.options.icon.weight:a?"bold":"",(this.options.icon.weight!=null&&a?5:0)+m+"px",this.options.icon.face].join(" "),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",this.enableShadow(i,c),i.fillText(this.options.icon.code,n,o),this.disableShadow(i,c)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(ko);function df(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var sv=function(r){Je(t,r);var e=df(t);function t(i,n,o,a,l){var c;return ae(this,t),(c=e.call(this,i,n,o)).setImages(a,l),c}return ve(t,[{key:"resize",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,a=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(a){var l=2*this.options.size;return this.width=l,void(this.height=l)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(i,n,o,a,l,c){i.save(),this.switchImages(a),this.resize();var m=n,_=o;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=o,m+=this.width/2,_+=this.height/2):(this.left=n-this.width/2,this.top=o-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var E=this.options.borderWidth,S=this.options.borderWidthSelected||2*this.options.borderWidth,A=(a?S:E)/this.body.view.scale;i.lineWidth=Math.min(this.width,A),i.beginPath();var D=a?this.options.color.highlight.border:l?this.options.color.hover.border:this.options.color.border,R=a?this.options.color.highlight.background:l?this.options.color.hover.background:this.options.color.background;c.opacity!==void 0&&(D=On(D,c.opacity),R=On(R,c.opacity)),i.strokeStyle=D,i.fillStyle=R,i.rect(this.left-.5*i.lineWidth,this.top-.5*i.lineWidth,this.width+i.lineWidth,this.height+i.lineWidth),Uo(i).call(i),this.performStroke(i,c),i.closePath()}this._drawImageAtPosition(i,c),this._drawImageLabel(i,m,_,a,l),this.updateBoundingBox(n,o),i.restore()}},{key:"updateBoundingBox",value:function(i,n){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=i,this.top=n):(this.left=i-this.width/2,this.top=n-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(qc);function uv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Ya=function(r){Je(t,r);var e=uv(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){return this._drawShape(i,"square",2,n,o,a,l,c)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(Ga);function lv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var hv=function(r){Je(t,r);var e=lv(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){return this._drawShape(i,"hexagon",4,n,o,a,l,c)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(Ga);function ff(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var cv=function(r){Je(t,r);var e=ff(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){return this._drawShape(i,"star",4,n,o,a,l,c)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(Ga);function dv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var fv=function(r){Je(t,r);var e=dv(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o))._setMargins(o),a}return ve(t,[{key:"resize",value:function(i,n,o){this.needsRefresh(n,o)&&(this.textSize=this.labelModule.getTextSize(i,n,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,n,o,a,l,c){this.resize(i,a,l),this.left=n-this.width/2,this.top=o-this.height/2,this.enableShadow(i,c),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,a,l),this.disableShadow(i,c),this.updateBoundingBox(n,o,i,a,l)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(ko);function vv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Cn=function(r){Je(t,r);var e=vv(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){return this._drawShape(i,"triangle",3,n,o,a,l,c)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(Ga);function pv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var zs=function(r){Je(t,r);var e=pv(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"draw",value:function(i,n,o,a,l,c){return this._drawShape(i,"triangleDown",3,n,o,a,l,c)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),t}(Ga);function vf(r,e){var t=Dt(r);if(_n){var i=_n(r);e&&(i=Pi(i).call(i,function(n){return Rt(r,n).enumerable})),t.push.apply(t,i)}return t}function pf(r){for(var e=1;e<arguments.length;e++){var t,i=arguments[e]!=null?arguments[e]:{};if(e%2)yt(t=vf(Object(i),!0)).call(t,function(o){gu(r,o,i[o])});else if(Pr)kn(r,Pr(i));else{var n;yt(n=vf(Object(i))).call(n,function(o){gs(r,o,Rt(i,o))})}}return r}var An=function(){function r(e,t,i,n,o,a){ae(this,r),this.options=Wr(o),this.globalOptions=o,this.defaultOptions=a,this.body=t,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Qu(this.body,this.options,!1),this.setOptions(e)}return ve(r,[{key:"attachEdge",value:function(e){var t;ct(t=this.edges).call(t,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,i,n=ct(t=this.edges).call(t,e);n!=-1&&En(i=this.edges).call(i,n,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(e.color!==void 0&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");r.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=zn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=zn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=Te(e.value)),r.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=Ke("node",i),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&r.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var t=this.options.opacity;e.borderColor=On(e.borderColor,t),e.color=On(e.color,t),e.shadowColor=On(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){this.options.label!==void 0&&this.options.label!==null||(this.options.label=""),r.updateGroupOptions(this.options,pf(pf({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1),i=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new wh(this.options,this.body,this.labelModule);break;case"circle":this.shape=new tv(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new iv(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new sf(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new uf(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new rv(this.options,this.body,this.labelModule);break;case"dot":this.shape=new sa(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Vc(this.options,this.body,this.labelModule);break;case"icon":this.shape=new cf(this.options,this.body,this.labelModule);break;case"image":this.shape=new sv(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Ya(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new hv(this.options,this.body,this.labelModule);break;case"star":this.shape=new cv(this.options,this.body,this.labelModule);break;case"text":this.shape=new fv(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Cn(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new zs(this.options,this.body,this.labelModule);break;default:this.shape=new Vc(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,i){if(this.options.value!==void 0){var n=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*a}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&Ze(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),Ze(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,t,i){var n;if(i!==void 0){var o=e.group;if(t!==void 0&&t.group!==void 0&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(typeof o=="number"||typeof o=="string"&&o!=""){var a=i.get(o);a.opacity!==void 0&&t.opacity===void 0&&(r.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));var l=Pi(n=Ve(t)).call(n,function(c){return t[c]!=null});l.push("font"),ju(l,e,a),e.color=hh(e.color)}}}},{key:"parseOptions",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,a=["color","fixed","shadow"];if(ju(a,e,t,i),r.checkMass(t),e.opacity!==void 0&&(r.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(r.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!r.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),Mi(e,t,"shadow",n),t.color!==void 0&&t.color!==null){var l=hh(t.color);uh(e.color,l)}else i===!0&&t.color===null&&(e.color=Wr(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),i===!0&&t.font===null&&(e.font=Wr(n.font)),r.updateGroupOptions(e,t,o),t.scaling!==void 0&&Mi(e.scaling,t.scaling,"label",n.scaling)}},{key:"checkMass",value:function(e,t){if(e.mass!==void 0&&e.mass<=0){var i="";t!==void 0&&(i=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",La),e.mass=1}}}]),r}();function gv(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return gf(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return gf(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function gf(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}var yf=function(){function r(e,t,i,n){var o,a=this;if(ae(this,r),this.body=e,this.images=t,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=Z(o=this.create).call(o,this),this.nodesListeners={add:function(l,c){a.add(c.items)},update:function(l,c){a.update(c.items,c.data,c.oldData)},remove:function(l,c){a.remove(c.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,c,m,_){if(c===l)return .5;var E=1/(c-l);return Math.max(0,(_-l)*E)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Wr(this.defaultOptions),this.bindEventListeners()}return ve(r,[{key:"bindEventListeners",value:function(){var e,t,i=this;this.body.emitter.on("refreshNodes",Z(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Z(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){Qe(i.nodesListeners,function(n,o){i.body.data.nodes&&i.body.data.nodes.off(o,n)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(An.parseOptions(this.options,e),e.opacity!==void 0&&(f(e.opacity)||!k(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(e.font!==void 0||e.widthConstraint!==void 0||e.heightConstraint!==void 0)for(var i=0,n=Dt(this.body.nodes);i<n.length;i++){var o=n[i];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(e.size!==void 0)for(var a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.body.nodes[a].needsRefresh();e.hidden===void 0&&e.physics===void 0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.body.data.nodes;if(ue.isDataViewLike("id",e))this.body.data.nodes=e;else if(ut(e))this.body.data.nodes=new ue.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new ue.DataSet}if(i&&Qe(this.nodesListeners,function(a,l){i.off(l,a)}),this.body.nodes={},this.body.data.nodes){var n=this;Qe(this.nodesListeners,function(a,l){n.body.data.nodes.on(l,a)});var o=this.body.data.nodes.getIds();this.add(o,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=[],o=0;o<e.length;o++){t=e[o];var a=this.body.data.nodes.get(t),l=this.create(a);n.push(l),this.body.nodes[t]=l}this.layoutEngine.positionInitially(n),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,i){for(var n=this.body.nodes,o=!1,a=0;a<e.length;a++){var l=e[a],c=n[l],m=t[a];c!==void 0?c.setOptions(m)&&(o=!0):(o=!0,c=this.create(m),n[l]=c)}o||i===void 0||(o=U(t).call(t,function(_,E){var S=i[E];return S&&S.level!==_.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,i=0;i<e.length;i++)delete t[e[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:An;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Qe(this.body.nodes,function(i,n){var o=e.body.data.nodes.get(n);o!==void 0&&(t===!0&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(e!==void 0){if(ut(e)===!0){for(var i=0;i<e.length;i++)if(this.body.nodes[e[i]]!==void 0){var n=this.body.nodes[e[i]];t[e[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var a=0;a<this.body.nodeIndices.length;a++){var l=this.body.nodes[this.body.nodeIndices[a]];t[this.body.nodeIndices[a]]={x:Math.round(l.x),y:Math.round(l.y)}}return t}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],i=this.body.data.nodes.getDataSet(),n=gv(i.get());try{for(n.s();!(e=n.n()).done;){var o=e.value,a=o.id,l=this.body.nodes[a],c=Math.round(l.x),m=Math.round(l.y);o.x===c&&o.y===m||t.push({id:a,x:c,y:m})}}catch(_){n.e(_)}finally{n.f()}i.update(t)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var i=[];if(this.body.nodes[e]!==void 0)for(var n=this.body.nodes[e],o={},a=0;a<n.edges.length;a++){var l=n.edges[a];t!=="to"&&l.toId==n.id?o[l.fromId]===void 0&&(i.push(l.fromId),o[l.fromId]=!0):t!=="from"&&l.fromId==n.id&&o[l.toId]===void 0&&(i.push(l.toId),o[l.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(e){var t=[];if(this.body.nodes[e]!==void 0)for(var i=this.body.nodes[e],n=0;n<i.edges.length;n++)t.push(i.edges[n].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,i){var n=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(i),Ai(function(){n.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),r}();ke({target:"Reflect",stat:!0},{get:function r(e,t){var i,n,o=arguments.length<3?e:arguments[2];return At(e)===o?e[t]:(i=xo.f(e,t))?Ye(i,"value")?i.value:i.get===void 0?void 0:i.get.call(o):Ue(n=Io(e))?r(n,t,o):void 0}});var Gc=je.Reflect.get,mf=Ti;function bf(r,e,t){return(bf=typeof Reflect!="undefined"&&Gc?Gc:function(i,n,o){var a=function(c,m){for(;!Object.prototype.hasOwnProperty.call(c,m)&&(c=be(c))!==null;);return c}(i,n);if(a){var l=mf(a,n);return l.get?l.get.call(o):l.value}})(r,e,t||r)}var wf=Math.hypot,yv=Math.abs,mv=Math.sqrt,bv=!!wf&&wf(1/0,NaN)!==1/0;ke({target:"Math",stat:!0,forced:bv},{hypot:function(r,e){for(var t,i,n=0,o=0,a=arguments.length,l=0;o<a;)l<(t=yv(arguments[o++]))?(n=n*(i=l/t)*i+1,l=t):n+=t>0?(i=t/l)*i:t;return l===1/0?1/0:l*mv(n)}});var _f=je.Math.hypot;function kf(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Xt=function(){function r(){ae(this,r)}return ve(r,null,[{key:"transform",value:function(e,t){ut(e)||(e=[e]);for(var i=t.point.x,n=t.point.y,o=t.angle,a=t.length,l=0;l<e.length;++l){var c=e[l],m=c.x*Math.cos(o)-c.y*Math.sin(o),_=c.x*Math.sin(o)+c.y*Math.cos(o);c.x=i+a*m,c.y=n+a*_}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;++i)e.lineTo(t[i].x,t[i].y);e.closePath()}}]),r}(),Wd=function(r){Je(t,r);var e=kf(t);function t(){return ae(this,t),e.apply(this,arguments)}return ve(t,null,[{key:"draw",value:function(i,n){if(n.image){i.save(),i.translate(n.point.x,n.point.y),i.rotate(Math.PI/2+n.angle);var o=n.imageWidth!=null?n.imageWidth:n.image.width,a=n.imageHeight!=null?n.imageHeight:n.image.height;n.image.drawImageAtPosition(i,1,-o/2,0,o,a),i.restore()}return!1}}]),t}(Xt),wv=function(r){Je(t,r);var e=kf(t);function t(){return ae(this,t),e.apply(this,arguments)}return ve(t,null,[{key:"draw",value:function(i,n){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Xt.transform(o,n),Xt.drawPath(i,o),!0}}]),t}(Xt),_v=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Xt.transform(i,t),Xt.drawPath(e,i),!0}}]),r}(),Ef=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i={x:-.4,y:0};Xt.transform(i,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,o=t.angle-n/2,a=t.angle+n/2;return e.beginPath(),e.arc(i.x,i.y,.4*t.length,o,a,!1),e.stroke(),!0}}]),r}(),kv=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i={x:-.3,y:0};Xt.transform(i,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,o=t.angle+n/2,a=t.angle+3*n/2;return e.beginPath(),e.arc(i.x,i.y,.4*t.length,o,a,!1),e.stroke(),!0}}]),r}(),Ev=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Xt.transform(i,t),Xt.drawPath(e,i),!0}}]),r}(),Bs=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Xt.transform(i,t),Xt.drawPath(e,i),!0}}]),r}(),xv=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i={x:-.4,y:0};return Xt.transform(i,t),wr(e,i.x,i.y,.4*t.length),!0}}]),r}(),Ov=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Xt.transform(i,t),Xt.drawPath(e,i),!0}}]),r}(),Sv=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Xt.transform(i,t),Xt.drawPath(e,i),!0}}]),r}(),Tv=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Xt.transform(i,t),Xt.drawPath(e,i),!0}}]),r}(),xf=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Xt.transform(i,t),Xt.drawPath(e,i),!0}}]),r}(),Of=function(){function r(){ae(this,r)}return ve(r,null,[{key:"draw",value:function(e,t){var i;switch(t.type&&(i=t.type.toLowerCase()),i){case"image":return Wd.draw(e,t);case"circle":return xv.draw(e,t);case"box":return Sv.draw(e,t);case"crow":return _v.draw(e,t);case"curve":return Ef.draw(e,t);case"diamond":return Tv.draw(e,t);case"inv_curve":return kv.draw(e,t);case"triangle":return Ev.draw(e,t);case"inv_triangle":return Bs.draw(e,t);case"bar":return Ov.draw(e,t);case"vee":return xf.draw(e,t);case"arrow":default:return wv.draw(e,t)}}}]),r}();function Sf(r,e){var t=Dt(r);if(_n){var i=_n(r);e&&(i=Pi(i).call(i,function(n){return Rt(r,n).enumerable})),t.push.apply(t,i)}return t}function Tf(r){for(var e=1;e<arguments.length;e++){var t,i=arguments[e]!=null?arguments[e]:{};if(e%2)yt(t=Sf(Object(i),!0)).call(t,function(o){gu(r,o,i[o])});else if(Pr)kn(r,Pr(i));else{var n;yt(n=Sf(Object(i))).call(n,function(o){gs(r,o,Rt(i,o))})}}return r}var If=function(){function r(e,t,i){ae(this,r),this._body=t,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return ve(r,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,i,n){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,i,n,o){if(this.from!=this.to)this._line(e,t,i,n,o);else{var a=It(this._getCircleData(e),3),l=a[0],c=a[1],m=a[2];this._circle(e,t,l,c,m)}}},{key:"_drawDashedLine",value:function(e,t,i,n,o){e.lineCap="round";var a=ut(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,i);else{var l=It(this._getCircleData(e),3),c=l[0],m=l[1],_=l[2];this._circle(e,t,c,m,_)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)is(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{var E=It(this._getCircleData(e),3),S=E[0],A=E[1],D=E[2];this._circle(e,t,S,A,D)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,i){return this.from!=this.to?this._findBorderPosition(e,t,i):this._findBorderPositionCircle(e,t,i)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,i=It(Ot(t=this._getCircleData(e)).call(t,0,2),2),n=i[0],o=i[1];return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var i=Ut(e,this.options.selfReference.angle,t,this.from);return[i.x,i.y,t]}},{key:"_pointOnCircle",value:function(e,t,i,n){var o=2*n*Math.PI;return{x:e+i*Math.cos(o),y:t-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,i){var n,o=i.x,a=i.y,l=i.low,c=i.high,m=i.direction,_=this.options.selfReference.size,E=.5*(l+c),S=0;this.options.arrowStrikethrough===!0&&(m===-1?S=this.options.endPointOffset.from:m===1&&(S=this.options.endPointOffset.to));var A=0;do{E=.5*(l+c),n=this._pointOnCircle(o,a,_,E);var D=Math.atan2(e.y-n.y,e.x-n.x),R=e.distanceToBorder(t,D)+S-Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));if(Math.abs(R)<.05)break;R>0?m>0?l=E:c=E:m>0?c=E:l=E,++A}while(l<=c&&A<10);return Tf(Tf({},n),{},{t:E})}},{key:"getLineWidth",value:function(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){var i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=On(this.from.options.color.border,t.opacity),o=On(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}return t.inheritsColor==="to"?On(this.to.options.color.border,t.opacity):On(this.from.options.color.border,t.opacity)}return On(t.color,t.opacity)}},{key:"_circle",value:function(e,t,i,n,o){this.enableShadow(e,t);var a=0,l=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var c=this.options.selfReference.angle,m=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:c,high:m,direction:-1}),E=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:c,high:m,direction:1});a=Math.atan2(_.y-n,_.x-i),l=Math.atan2(E.y-n,E.x-i)}e.beginPath(),e.arc(i,n,o,a,l,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,i,n,o,a){if(this.from!=this.to)return this._getDistanceToEdge(e,t,i,n,o,a);var l=It(this._getCircleData(void 0),3),c=l[0],m=l[1],_=l[2],E=c-o,S=m-a;return Math.abs(Math.sqrt(E*E+S*S)-_)}},{key:"_getDistanceToLine",value:function(e,t,i,n,o,a){var l=i-e,c=n-t,m=((o-e)*l+(a-t)*c)/(l*l+c*c);m>1?m=1:m<0&&(m=0);var _=e+m*l-o,E=t+m*c-a;return Math.sqrt(_*_+E*E)}},{key:"getArrowData",value:function(e,t,i,n,o,a){var l,c,m,_,E,S,A,D=a.width;t==="from"?(m=this.from,_=this.to,E=a.fromArrowScale<0,S=Math.abs(a.fromArrowScale),A=a.fromArrowType):t==="to"?(m=this.to,_=this.from,E=a.toArrowScale<0,S=Math.abs(a.toArrowScale),A=a.toArrowType):(m=this.to,_=this.from,E=a.middleArrowScale<0,S=Math.abs(a.middleArrowScale),A=a.middleArrowType);var R=15*S+3*D;if(m!=_){var H=R/_f(m.x-_.x,m.y-_.y);if(t!=="middle")if(this.options.smooth.enabled===!0){var X=this._findBorderPosition(m,e,{via:i}),z=this.getPoint(X.t+H*(t==="from"?1:-1),i);l=Math.atan2(X.y-z.y,X.x-z.x),c=X}else l=Math.atan2(m.y-_.y,m.x-_.x),c=this._findBorderPosition(m,e);else{var B=(E?-H:H)/2,G=this.getPoint(.5+B,i),ne=this.getPoint(.5-B,i);l=Math.atan2(G.y-ne.y,G.x-ne.x),c=this.getPoint(.5,i)}}else{var K=It(this._getCircleData(e),3),pe=K[0],Y=K[1],Q=K[2];if(t==="from"){var q=this.options.selfReference.angle,Ne=this.options.selfReference.angle+Math.PI,Se=this._findBorderPositionCircle(this.from,e,{x:pe,y:Y,low:q,high:Ne,direction:-1});l=-2*Se.t*Math.PI+1.5*Math.PI+.1*Math.PI,c=Se}else if(t==="to"){var He=this.options.selfReference.angle,et=this.options.selfReference.angle+Math.PI,lt=this._findBorderPositionCircle(this.from,e,{x:pe,y:Y,low:He,high:et,direction:1});l=-2*lt.t*Math.PI+1.5*Math.PI-1.1*Math.PI,c=lt}else{var Et=this.options.selfReference.angle/(2*Math.PI);c=this._pointOnCircle(pe,Y,Q,Et),l=-2*Et*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:c,core:{x:c.x-.9*R*Math.cos(l),y:c.y-.9*R*Math.sin(l)},angle:l,length:R,type:A}}},{key:"drawArrowHead",value:function(e,t,i,n,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Of.draw(e,o)&&(this.enableShadow(e,t),Uo(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(t.background!==!1){var i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(t!==!1)if(e.setLineDash!==void 0){var i=ut(t)?t:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),r}();function qd(r,e){var t=Dt(r);if(_n){var i=_n(r);e&&(i=Pi(i).call(i,function(n){return Rt(r,n).enumerable})),t.push.apply(t,i)}return t}function Zu(r){for(var e=1;e<arguments.length;e++){var t,i=arguments[e]!=null?arguments[e]:{};if(e%2)yt(t=qd(Object(i),!0)).call(t,function(o){gu(r,o,i[o])});else if(Pr)kn(r,Pr(i));else{var n;yt(n=qd(Object(i))).call(n,function(o){gs(r,o,Rt(i,o))})}}return r}function Pf(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Yc=function(r){Je(t,r);var e=Pf(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"_findBorderPositionBezier",value:function(i,n){var o,a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),c=10,m=.2,_=!1,E=1,S=0,A=this.to,D=this.options.endPointOffset?this.options.endPointOffset.to:0;i.id===this.from.id&&(A=this.from,_=!0,D=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(D=0);var R=0;do{a=.5*(S+E),o=this.getPoint(a,l);var H=Math.atan2(A.y-o.y,A.x-o.x),X=A.distanceToBorder(n,H)+D,z=Math.sqrt(Math.pow(o.x-A.x,2)+Math.pow(o.y-A.y,2)),B=X-z;if(Math.abs(B)<m)break;B<0?_===!1?S=a:E=a:_===!1?E=a:S=a,++R}while(S<=E&&R<c);return Zu(Zu({},o),{},{t:a})}},{key:"_getDistanceToBezierEdge",value:function(i,n,o,a,l,c,m){var _,E,S,A,D,R=1e9,H=i,X=n;for(E=1;E<10;E++)S=.1*E,A=Math.pow(1-S,2)*i+2*S*(1-S)*m.x+Math.pow(S,2)*o,D=Math.pow(1-S,2)*n+2*S*(1-S)*m.y+Math.pow(S,2)*a,E>0&&(R=(_=this._getDistanceToLine(H,X,A,D,l,c))<R?_:R),H=A,X=D;return R}},{key:"_bezierCurve",value:function(i,n,o,a){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),o!=null&&o.x!=null?a!=null&&a.x!=null?i.bezierCurveTo(o.x,o.y,a.x,a.y,this.toPoint.x,this.toPoint.y):i.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):i.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(i,n),this.enableShadow(i,n),i.stroke(),this.disableShadow(i,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(If);function Iv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Cf=function(r){Je(t,r);var e=Iv(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o)).via=a.via,a._boundFunction=function(){a.positionBezierNode()},a._body.emitter.on("_repositionBezierNodes",a._boundFunction),a}return ve(t,[{key:"setOptions",value:function(i){bf(be(t.prototype),"setOptions",this).call(this,i);var n=!1;this.options.physics!==i.physics&&(n=!0),this.options=i,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),n===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var i="edgeId:"+this.id,n=this._body.functions.createNode({id:i,shape:"circle",physics:!0,hidden:!0});this._body.nodes[i]=n,this.via=n,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(i,n,o){this._bezierCurve(i,n,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var o=this._getCircleData(),a=It(o,3),l=a[0],c=a[1],m=a[2],_=2*Math.PI*(1-i);return{x:l+m*Math.sin(_),y:c+m-m*(1-Math.cos(_))}}return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*n.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*n.y+Math.pow(i,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,n){return this._findBorderPositionBezier(i,n,this.via)}},{key:"_getDistanceToEdge",value:function(i,n,o,a,l,c){return this._getDistanceToBezierEdge(i,n,o,a,l,c,this.via)}}]),t}(Yc);function Pv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Af=function(r){Je(t,r);var e=Pv(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"_line",value:function(i,n,o){this._bezierCurve(i,n,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var i,n,o=this.options.smooth.roundness,a=this.options.smooth.type,l=Math.abs(this.from.x-this.to.x),c=Math.abs(this.from.y-this.to.y);if(a==="discrete"||a==="diagonalCross"){var m,_;m=_=l<=c?o*c:o*l,this.from.x>this.to.x&&(m=-m),this.from.y>=this.to.y&&(_=-_);var E=this.from.x+m,S=this.from.y+_;return a==="discrete"&&(l<=c?E=l<o*c?this.from.x:E:S=c<o*l?this.from.y:S),{x:E,y:S}}if(a==="straightCross"){var A=(1-o)*l,D=(1-o)*c;return l<=c?(A=0,this.from.y<this.to.y&&(D=-D)):(this.from.x<this.to.x&&(A=-A),D=0),{x:this.to.x+A,y:this.to.y+D}}if(a==="horizontal"){var R=(1-o)*l;return this.from.x<this.to.x&&(R=-R),{x:this.to.x+R,y:this.from.y}}if(a==="vertical"){var H=(1-o)*c;return this.from.y<this.to.y&&(H=-H),{x:this.from.x,y:this.to.y+H}}if(a==="curvedCW"){l=this.to.x-this.from.x,c=this.from.y-this.to.y;var X=Math.sqrt(l*l+c*c),z=Math.PI,B=(Math.atan2(c,l)+(.5*o+.5)*z)%(2*z);return{x:this.from.x+(.5*o+.5)*X*Math.sin(B),y:this.from.y+(.5*o+.5)*X*Math.cos(B)}}if(a==="curvedCCW"){l=this.to.x-this.from.x,c=this.from.y-this.to.y;var G=Math.sqrt(l*l+c*c),ne=Math.PI,K=(Math.atan2(c,l)+(.5*-o+.5)*ne)%(2*ne);return{x:this.from.x+(.5*o+.5)*G*Math.sin(K),y:this.from.y+(.5*o+.5)*G*Math.cos(K)}}i=n=l<=c?o*c:o*l,this.from.x>this.to.x&&(i=-i),this.from.y>=this.to.y&&(n=-n);var pe=this.from.x+i,Y=this.from.y+n;return l<=c?pe=this.from.x<=this.to.x?this.to.x<pe?this.to.x:pe:this.to.x>pe?this.to.x:pe:Y=this.from.y>=this.to.y?this.to.y>Y?this.to.y:Y:this.to.y<Y?this.to.y:Y,{x:pe,y:Y}}},{key:"_findBorderPosition",value:function(i,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(i,n,o.via)}},{key:"_getDistanceToEdge",value:function(i,n,o,a,l,c){var m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(i,n,o,a,l,c,m)}},{key:"getPoint",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),o=i,a=Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*n.x+Math.pow(o,2)*this.toPoint.x,l=Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*n.y+Math.pow(o,2)*this.toPoint.y;return{x:a,y:l}}}]),t}(Yc);function Df(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}function Mf(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Ud=function(r){Je(t,r);var e=Mf(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"_line",value:function(i,n,o){var a=o[0],l=o[1];this._bezierCurve(i,n,a,l)}},{key:"_getViaCoordinates",value:function(){var i,n,o,a,l=this.from.x-this.to.x,c=this.from.y-this.to.y,m=this.options.smooth.roundness;return(Math.abs(l)>Math.abs(c)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,a=this.to.y,i=this.from.x-m*l,o=this.to.x+m*l):(n=this.from.y-m*c,a=this.to.y+m*c,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:a}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(i,n){return this._findBorderPositionBezier(i,n)}},{key:"_getDistanceToEdge",value:function(i,n,o,a,l,c){var m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),_=It(m,2),E=_[0],S=_[1];return this._getDistanceToBezierEdge2(i,n,o,a,l,c,E,S)}},{key:"getPoint",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),o=It(n,2),a=o[0],l=o[1],c=i,m=[Math.pow(1-c,3),3*c*Math.pow(1-c,2),3*Math.pow(c,2)*(1-c),Math.pow(c,3)],_=m[0]*this.fromPoint.x+m[1]*a.x+m[2]*l.x+m[3]*this.toPoint.x,E=m[0]*this.fromPoint.y+m[1]*a.y+m[2]*l.y+m[3]*this.toPoint.y;return{x:_,y:E}}}]),t}(function(r){Je(t,r);var e=Df(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"_getDistanceToBezierEdge2",value:function(i,n,o,a,l,c,m,_){for(var E=1e9,S=i,A=n,D=[0,0,0,0],R=1;R<10;R++){var H=.1*R;D[0]=Math.pow(1-H,3),D[1]=3*H*Math.pow(1-H,2),D[2]=3*Math.pow(H,2)*(1-H),D[3]=Math.pow(H,3);var X=D[0]*i+D[1]*m.x+D[2]*_.x+D[3]*o,z=D[0]*n+D[1]*m.y+D[2]*_.y+D[3]*a;if(R>0){var B=this._getDistanceToLine(S,A,X,z,l,c);E=B<E?B:E}S=X,A=z}return E}}]),t}(Yc));function Cv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Ff=function(r){Je(t,r);var e=Cv(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"_line",value:function(i,n){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),i.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(i,n),i.stroke(),this.disableShadow(i,n)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(i){return{x:(1-i)*this.fromPoint.x+i*this.toPoint.x,y:(1-i)*this.fromPoint.y+i*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,n){var o=this.to,a=this.from;i.id===this.from.id&&(o=this.from,a=this.to);var l=Math.atan2(o.y-a.y,o.x-a.x),c=o.x-a.x,m=o.y-a.y,_=Math.sqrt(c*c+m*m),E=(_-i.distanceToBorder(n,l))/_;return{x:(1-E)*a.x+E*o.x,y:(1-E)*a.y+E*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(i,n,o,a,l,c){return this._getDistanceToLine(i,n,o,a,l,c)}}]),t}(If),Ls=function(){function r(e,t,i,n,o){if(ae(this,r),t===void 0)throw new Error("No body provided");this.options=Wr(n),this.globalOptions=n,this.defaultOptions=o,this.body=t,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Qu(this.body,this.options,!0),this.setOptions(e)}return ve(r,[{key:"setOptions",value:function(e){if(e){var t=e.physics!==void 0&&this.options.physics!==e.physics||e.hidden!==void 0&&(this.options.hidden||!1)!==(e.hidden||!1)||e.from!==void 0&&this.options.from!==e.from||e.to!==void 0&&this.options.to!==e.to;r.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=Te(e.value));var i=[e,this.options,this.defaultOptions];return this.chooser=Ke("edge",i),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,i=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var a=this.options.selectionWidth;typeof a=="function"?o.width=a(o.width):typeof a=="number"&&(o.width+=a),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var l=this.options.hoverWidth;typeof l=="function"?o.width=l(o.width):typeof l=="number"&&(o.width+=l),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,i=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Cf&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof Ud&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof Af&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof Ff&&e.type.enabled===!1)&&(i=!1),i===!0&&(t=this.cleanup())),i===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new Cf(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new Ud(this.options,this.body,this.labelModule):this.edgeType=new Af(this.options,this.body,this.labelModule):this.edgeType=new Ff(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,i){if(this.options.value!==void 0){var n=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*a}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,i),this.drawLabel(e,i)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}}},{key:"drawLabel",value:function(e,t){if(this.options.label!==void 0){var i,n=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=o.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,t),e.save();var a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var l=Ut(e,this.options.selfReference.angle,this.options.selfReference.size,n);i=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var i=this._getRotation();Ze(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}var n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,i=this.from.y,n=this.to.x,o=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(t,i,n,o,a,l)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;var o=this.from.y-this.to.y,a=this.from.x-this.to.x,l=Math.atan2(o,a);return(l<-1&&a<0||l>0&&a<0)&&(l+=Math.PI),n.angle=l,n}},{key:"_pointOnCircle",value:function(e,t,i,n){return{x:e+i*Math.cos(n),y:t-i*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(ea(a,e,t,i),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(k(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(k(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),ft(t.label)?e.label=t.label:ft(e.label)||(e.label=void 0),Mi(e,t,"smooth",n),Mi(e,t,"shadow",n),Mi(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:i===!0&&t.dashes===null&&(e.dashes=uo(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),Mi(e.scaling,t.scaling,"label",n.scaling)):i===!0&&t.scaling===null&&(e.scaling=uo(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){var l=t.arrows.toLowerCase();e.arrows.to.enabled=ct(l).call(l,"to")!=-1,e.arrows.middle.enabled=ct(l).call(l,"middle")!=-1,e.arrows.from.enabled=ct(l).call(l,"from")!=-1}else{if(kt(t.arrows)!=="object")throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+ei(t.arrows));Mi(e.arrows,t.arrows,"to",n.arrows),Mi(e.arrows,t.arrows,"middle",n.arrows),Mi(e.arrows,t.arrows,"from",n.arrows)}else i===!0&&t.arrows===null&&(e.arrows=uo(n.arrows));if(t.color!==void 0&&t.color!==null){var c=dr(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,m=e.color;if(o)Be(m,n.color,!1,i);else for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&delete m[_];if(dr(m))m.color=m,m.highlight=m,m.hover=m,m.inherit=!1,c.opacity===void 0&&(m.opacity=1);else{var E=!1;c.color!==void 0&&(m.color=c.color,E=!0),c.highlight!==void 0&&(m.highlight=c.highlight,E=!0),c.hover!==void 0&&(m.hover=c.hover,E=!0),c.inherit!==void 0&&(m.inherit=c.inherit),c.opacity!==void 0&&(m.opacity=Math.min(1,Math.max(0,c.opacity))),E===!0?m.inherit=!1:m.inherit===void 0&&(m.inherit="from")}}else i===!0&&t.color===null&&(e.color=Wr(n.color));i===!0&&t.font===null&&(e.font=Wr(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),r}(),Nf=function(){function r(e,t,i){var n,o=this;ae(this,r),this.body=e,this.images=t,this.groups=i,this.body.functions.createEdge=Z(n=this.create).call(n,this),this.edgesListeners={add:function(a,l){o.add(l.items)},update:function(a,l){o.update(l.items)},remove:function(a,l){o.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,l,c,m){if(l===a)return .5;var _=1/(l-a);return Math.max(0,(m-a)*_)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Be(this.options,this.defaultOptions),this.bindEventListeners()}return ve(r,[{key:"bindEventListeners",value:function(){var e,t,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];n==="dynamic"&&(n="continuous");var a=!1;for(var l in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,l)){var c=i.body.edges[l],m=i.body.data.edges.get(l);if(m!=null){var _=m.smooth;_!==void 0&&_.enabled===!0&&_.type==="dynamic"&&(n===void 0?c.setOptions({smooth:!1}):c.setOptions({smooth:{type:n}}),a=!0)}}o===!0&&a===!0&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){i.reconnectEdges()}),this.body.emitter.on("refreshEdges",Z(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Z(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){Qe(i.edgesListeners,function(n,o){i.body.data.edges&&i.body.data.edges.off(o,n)}),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){Ls.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(e.smooth!==void 0)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(t=this.body.edges[i].updateEdgeType()||t);if(e.font!==void 0)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();e.hidden===void 0&&e.physics===void 0&&t!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.body.data.edges;if(ue.isDataViewLike("id",e))this.body.data.edges=e;else if(ut(e))this.body.data.edges=new ue.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new ue.DataSet}if(n&&Qe(this.edgesListeners,function(a,l){n.off(l,a)}),this.body.edges={},this.body.data.edges){Qe(this.edgesListeners,function(a,l){t.body.data.edges.on(l,a)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.body.edges,n=this.body.data.edges,o=0;o<e.length;o++){var a=e[o],l=i[a];l&&l.disconnect();var c=n.get(a,{showInternalIds:!0});i[a]=this.create(c)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,i=this.body.data.edges,n=!1,o=0;o<e.length;o++){var a=e[o],l=i.get(a),c=t[a];c!==void 0?(c.disconnect(),n=c.setOptions(l)||n,c.connect()):(this.body.edges[a]=this.create(l),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e.length!==0){var i=this.body.edges;Qe(e,function(n){var o=i[n];o!==void 0&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;Qe(this.body.edges,function(t,i){var n=e.body.data.edges.get(i);n!==void 0&&t.setOptions(n)})}},{key:"create",value:function(e){return new Ls(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,i=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var n=i[e];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(this.body.edges[e]!==void 0){var i=this.body.edges[e];i.fromId!==void 0&&t.push(i.fromId),i.toId!==void 0&&t.push(i.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];Qe(this.body.edges,function(i,n){var o=e.body.nodes[i.toId],a=e.body.nodes[i.fromId];o!==void 0&&o.isCluster===!0||a!==void 0&&a.isCluster===!0||o!==void 0&&a!==void 0||t.push(n)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var t=this.body.edges,i=[];yt(e).call(e,function(n,o){t[o]===void 0&&i.push(o)}),this.add(i,!0)}}}]),r}(),Xc=function(){function r(e,t,i){ae(this,r),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(i),this._rng=Ps("BARNES HUT SOLVER")}return ve(r,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(t,i);this.barnesHutTree=o;for(var a=0;a<n;a++)(e=t[i[a]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var i=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,o=Math.sqrt(i*i+n*n);o*e.calcSize>this.thetaInversed?this._calculateForces(o,i,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,i,n,t,e)}}},{key:"_calculateForces",value:function(e,t,i,n,o){e===0&&(t=e=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var a=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),l=t*a,c=i*a;this.physicsBody.forces[n.id].x+=l,this.physicsBody.forces[n.id].y+=c}},{key:"_formBarnesHutTree",value:function(e,t){for(var i,n=t.length,o=e[t[0]].x,a=e[t[0]].y,l=e[t[0]].x,c=e[t[0]].y,m=1;m<n;m++){var _=e[t[m]],E=_.x,S=_.y;_.options.mass>0&&(E<o&&(o=E),E>l&&(l=E),S<a&&(a=S),S>c&&(c=S))}var A=Math.abs(l-o)-Math.abs(c-a);A>0?(a-=.5*A,c+=.5*A):(o+=.5*A,l-=.5*A);var D=Math.max(1e-5,Math.abs(l-o)),R=.5*D,H=.5*(o+l),X=.5*(a+c),z={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:H-R,maxX:H+R,minY:X-R,maxY:X+R},size:D,calcSize:1/D,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(z.root);for(var B=0;B<n;B++)(i=e[t[B]]).options.mass>0&&this._placeInTree(z.root,i);return z}},{key:"_updateBranchMass",value:function(e,t){var i=e.centerOfMass,n=e.mass+t.options.mass,o=1/n;i.x=i.x*e.mass+t.x*t.options.mass,i.x*=o,i.y=i.y*e.mass+t.y*t.options.mass,i.y*=o,e.mass=n;var a=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}},{key:"_placeInTree",value:function(e,t,i){i==1&&i!==void 0||this._updateBranchMass(e,t);var n,o=e.children.NW.range;n=o.maxX>t.x?o.maxY>t.y?"NW":"SW":o.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,n)}},{key:"_placeInRegion",value:function(e,t,i){var n=e.children[i];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t)}}},{key:"_splitBranch",value:function(e){var t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var i,n,o,a,l=.5*e.size;switch(t){case"NW":i=e.range.minX,n=e.range.minX+l,o=e.range.minY,a=e.range.minY+l;break;case"NE":i=e.range.minX+l,n=e.range.maxX,o=e.range.minY,a=e.range.minY+l;break;case"SW":i=e.range.minX,n=e.range.minX+l,o=e.range.minY+l,a=e.range.maxY;break;case"SE":i=e.range.minX+l,n=e.range.maxX,o=e.range.minY+l,a=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,i){i===void 0&&(i="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=i,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),r}(),Rf=function(){function r(e,t,i){ae(this,r),this._rng=Ps("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(i)}return ve(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,o,a,l,c,m=this.body.nodes,_=this.physicsBody.physicsNodeIndices,E=this.physicsBody.forces,S=this.options.nodeDistance,A=-2/3/S,D=0;D<_.length-1;D++){l=m[_[D]];for(var R=D+1;R<_.length;R++)e=(c=m[_[R]]).x-l.x,t=c.y-l.y,(i=Math.sqrt(e*e+t*t))===0&&(e=i=.1*this._rng()),i<2*S&&(a=i<.5*S?1:A*i+1.3333333333333333,n=e*(a/=i),o=t*a,E[l.id].x-=n,E[l.id].y-=o,E[c.id].x+=n,E[c.id].y+=o)}}}]),r}(),Vv=function(){function r(e,t,i){ae(this,r),this.body=e,this.physicsBody=t,this.setOptions(i)}return ve(r,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance,o=0;o<t.length-1;o++)for(var a=e[t[o]],l=o+1;l<t.length;l++){var c=e[t[l]];if(a.level===c.level){var m=n+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(c.shape.radius||0)/2),_=c.x-a.x,E=c.y-a.y,S=Math.sqrt(_*_+E*E),A=void 0;A=S<m?-Math.pow(.05*S,2)+Math.pow(.05*m,2):0,S!==0&&(A/=S);var D=_*A,R=E*A;i[a.id].x-=D,i[a.id].y-=R,i[c.id].x+=D,i[c.id].y+=R}}}}]),r}(),Vd=function(){function r(e,t,i){ae(this,r),this.body=e,this.physicsBody=t,this.setOptions(i)}return ve(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,o,a=this.physicsBody.physicsEdgeIndices,l=this.body.edges,c=0;c<a.length;c++)(t=l[a[c]]).connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,i=t.to,n=t.edgeType.via,o=t.from,this._calculateSpringForce(i,n,.5*e),this._calculateSpringForce(n,o,.5*e)):(e=t.options.length===void 0?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,i){var n=e.x-t.x,o=e.y-t.y,a=Math.max(Math.sqrt(n*n+o*o),.01),l=this.options.springConstant*(i-a)/a,c=n*l,m=o*l;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=c,this.physicsBody.forces[e.id].y+=m),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=c,this.physicsBody.forces[t.id].y-=m)}}]),r}(),Av=function(){function r(e,t,i){ae(this,r),this.body=e,this.physicsBody=t,this.setOptions(i)}return ve(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,o,a,l,c,m,_,E=this.body.edges,S=.5,A=this.physicsBody.physicsEdgeIndices,D=this.physicsBody.physicsNodeIndices,R=this.physicsBody.forces,H=0;H<D.length;H++){var X=D[H];R[X].springFx=0,R[X].springFy=0}for(var z=0;z<A.length;z++)(t=E[A[z]]).connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,i=t.from.x-t.to.x,n=t.from.y-t.to.y,c=(c=Math.sqrt(i*i+n*n))===0?.01:c,o=i*(l=this.options.springConstant*(e-c)/c),a=n*l,t.to.level!=t.from.level?(R[t.toId]!==void 0&&(R[t.toId].springFx-=o,R[t.toId].springFy-=a),R[t.fromId]!==void 0&&(R[t.fromId].springFx+=o,R[t.fromId].springFy+=a)):(R[t.toId]!==void 0&&(R[t.toId].x-=S*o,R[t.toId].y-=S*a),R[t.fromId]!==void 0&&(R[t.fromId].x+=S*o,R[t.fromId].y+=S*a)));l=1;for(var B=0;B<D.length;B++){var G=D[B];m=Math.min(l,Math.max(-l,R[G].springFx)),_=Math.min(l,Math.max(-l,R[G].springFy)),R[G].x+=m,R[G].y+=_}for(var ne=0,K=0,pe=0;pe<D.length;pe++){var Y=D[pe];ne+=R[Y].x,K+=R[Y].y}for(var Q=ne/D.length,q=K/D.length,Ne=0;Ne<D.length;Ne++){var Se=D[Ne];R[Se].x-=Q,R[Se].y-=q}}}]),r}(),_h=function(){function r(e,t,i){ae(this,r),this.body=e,this.physicsBody=t,this.setOptions(i)}return ve(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,n,o=this.body.nodes,a=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,c=0;c<a.length;c++)e=-(n=o[a[c]]).x,t=-n.y,i=Math.sqrt(e*e+t*t),this._calculateForces(i,e,t,l,n)}},{key:"_calculateForces",value:function(e,t,i,n,o){var a=e===0?0:this.options.centralGravity/e;n[o.id].x=t*a,n[o.id].y=i*a}}]),r}();function Dv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Mv=function(r){Je(t,r);var e=Dv(t);function t(i,n,o){var a;return ae(this,t),(a=e.call(this,i,n,o))._rng=Ps("FORCE ATLAS 2 BASED REPULSION SOLVER"),a}return ve(t,[{key:"_calculateForces",value:function(i,n,o,a,l){i===0&&(n=i=.1*this._rng()),this.overlapAvoidanceFactor<1&&a.shape.radius&&(i=Math.max(.1+this.overlapAvoidanceFactor*a.shape.radius,i-a.shape.radius));var c=a.edges.length+1,m=this.options.gravitationalConstant*l.mass*a.options.mass*c/Math.pow(i,2),_=n*m,E=o*m;this.physicsBody.forces[a.id].x+=_,this.physicsBody.forces[a.id].y+=E}}]),t}(Xc);function Fv(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Gd,jf=function(r){Je(t,r);var e=Fv(t);function t(i,n,o){return ae(this,t),e.call(this,i,n,o)}return ve(t,[{key:"_calculateForces",value:function(i,n,o,a,l){if(i>0){var c=l.edges.length+1,m=this.options.centralGravity*c*l.options.mass;a[l.id].x=n*m,a[l.id].y=o*m}}}]),t}(_h),Nv=function(){function r(e){ae(this,r),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},pt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return ve(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,ju(["stabilization"],this.options,e),Mi(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&((typeof t.x!="number"||f(t.x))&&(t.x=0),(typeof t.y!="number"||f(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Mv(this.body,this.physicsBody,e),this.edgesSolver=new Vd(this.body,this.physicsBody,e),this.gravitySolver=new jf(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Rf(this.body,this.physicsBody,e),this.edgesSolver=new Vd(this.body,this.physicsBody,e),this.gravitySolver=new _h(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Vv(this.body,this.physicsBody,e),this.edgesSolver=new Av(this.body,this.physicsBody,e),this.gravitySolver=new _h(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Xc(this.body,this.physicsBody,e),this.edgesSolver=new Vd(this.body,this.physicsBody,e),this.gravitySolver=new _h(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=Z(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=ms();this.physicsTick(),(ms()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Ai(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&e[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&t[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var a=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[a]={x:0,y:0},this.physicsBody.velocities[a]===void 0&&(this.physicsBody.velocities[a]={x:0,y:0})}for(var l in this.physicsBody.velocities)e[l]===void 0&&delete this.physicsBody.velocities[l]}},{key:"revert",value:function(){var e=Dt(this.previousStates),t=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<e.length;n++){var o=e[n];t[o]!==void 0?t[o].options.physics===!0&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var e,t,i=this.body.nodes,n=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-n[o].positions.x,t=i[o].y-n[o].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,i=0,n=0;n<e.length;n++){var o=e[n],a=this._performStep(o);t=Math.max(t,a),i+=a}this.adaptiveTimestepEnabled=i/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,i){e+=(t-this.modelOptions.damping*e)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(e)>n&&(e=e>0?n:-n),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,i.x,t.options.mass),t.x+=n.x*this.timestep):(i.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,i.y,t.options.mass),t.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var i=e[t].options.fixed;this.freezeCache[t]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;typeof t!="number"&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),this.physicsBody.physicsNodeIndices.length!==0?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Ai(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return this.startedStabilization!==!0&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},i=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&i();for(var n,o=0;t()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;i(),t()?Ai(Z(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var i=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[i],o=this.physicsBody.forces[i],a=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),l=Math.min(Math.max(5,a),15),c=3*l,m=Sn((180-180*Math.min(1,Math.max(0,.03*a)))/360,1,1),_={x:n.x+20*o.x,y:n.y+20*o.y};e.lineWidth=l,e.strokeStyle=m,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(_.x,_.y),e.stroke();var E=Math.atan2(o.y,o.x);e.fillStyle=m,Of.draw(e,{type:"arrow",point:_,angle:E,length:c}),Uo(e).call(e)}}}]),r}(),Rv=new Uint8Array(16);function zf(){if(!Gd&&!(Gd=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gd(Rv)}var jv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Bf(r){return typeof r=="string"&&jv.test(r)}for(var wi=[],Kc=0;Kc<256;++Kc)wi.push((Kc+256).toString(16).substr(1));function kh(r,e,t){var i=(r=r||{}).random||(r.rng||zf)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=i[n];return e}return function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=(wi[o[a+0]]+wi[o[a+1]]+wi[o[a+2]]+wi[o[a+3]]+"-"+wi[o[a+4]]+wi[o[a+5]]+"-"+wi[o[a+6]]+wi[o[a+7]]+"-"+wi[o[a+8]]+wi[o[a+9]]+"-"+wi[o[a+10]]+wi[o[a+11]]+wi[o[a+12]]+wi[o[a+13]]+wi[o[a+14]]+wi[o[a+15]]).toLowerCase();if(!Bf(l))throw TypeError("Stringified UUID is invalid");return l}(i)}var ji=function(){function r(){ae(this,r)}return ve(r,null,[{key:"getRange",value:function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,o=-1e9,a=1e9,l=-1e9;if(i.length>0)for(var c=0;c<i.length;c++)a>(t=e[i[c]]).shape.boundingBox.left&&(a=t.shape.boundingBox.left),l<t.shape.boundingBox.right&&(l=t.shape.boundingBox.right),n>t.shape.boundingBox.top&&(n=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return a===1e9&&l===-1e9&&n===1e9&&o===-1e9&&(n=0,o=0,a=0,l=0),{minX:a,maxX:l,minY:n,maxY:o}}},{key:"getRangeCore",value:function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,o=-1e9,a=1e9,l=-1e9;if(i.length>0)for(var c=0;c<i.length;c++)a>(t=e[i[c]]).x&&(a=t.x),l<t.x&&(l=t.x),n>t.y&&(n=t.y),o<t.y&&(o=t.y);return a===1e9&&l===-1e9&&n===1e9&&o===-1e9&&(n=0,o=0,a=0,l=0),{minX:a,maxX:l,minY:n,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var i={};return t===void 0||t==="node"?(Be(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):Be(i,e.options,!0),i}}]),r}();function Qc(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var Zc=function(r){Je(t,r);var e=Qc(t);function t(i,n,o,a,l,c){var m;return ae(this,t),(m=e.call(this,i,n,o,a,l,c)).isCluster=!0,m.containedNodes={},m.containedEdges={},m}return ve(t,[{key:"_openChildCluster",value:function(i){var n=this,o=this.body.nodes[i];if(this.containedNodes[i]===void 0)throw new Error("node with id: "+i+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+i+" is not a cluster");delete this.containedNodes[i],Qe(o.edges,function(a){delete n.containedEdges[a.id]}),Qe(o.containedNodes,function(a,l){n.containedNodes[l]=a}),o.containedNodes={},Qe(o.containedEdges,function(a,l){n.containedEdges[l]=a}),o.containedEdges={},Qe(o.edges,function(a){Qe(n.edges,function(l){var c,m,_=ct(c=l.clusteringEdgeReplacingIds).call(c,a.id);_!==-1&&(Qe(a.clusteringEdgeReplacingIds,function(E){l.clusteringEdgeReplacingIds.push(E),n.body.edges[E].edgeReplacedById=l.id}),En(m=l.clusteringEdgeReplacingIds).call(m,_,1))})}),o.edges=[]}}]),t}(An),zv=function(){function r(e){var t=this;ae(this,r),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},pt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return ve(r,[{key:"clusterByHubsize",value:function(e,t){e===void 0?e=this._getHubSize():kt(e)==="object"&&(t=this._checkOptions(e),e=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&i.push(o.id)}for(var a=0;a<i.length;a++)this.clusterByConnection(i[a],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(t.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var n={},o={};Qe(this.body.nodes,function(a,l){a.options&&t.joinCondition(a.options)===!0&&(n[l]=a,Qe(a.edges,function(c){e.clusteredEdges[c.id]===void 0&&(o[c.id]=c)}))}),this._cluster(n,o,t,i)}},{key:"clusterByEdgeCount",value:function(e,t){var i=this,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];t=this._checkOptions(t);for(var o,a,l,c=[],m={},_=function(A){var D={},R={},H=i.body.nodeIndices[A],X=i.body.nodes[H];if(m[H]===void 0){l=0,a=[];for(var z=0;z<X.edges.length;z++)o=X.edges[z],i.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&l++,a.push(o));if(l===e){for(var B=function(q){if(t.joinCondition===void 0||t.joinCondition===null)return!0;var Ne=ji.cloneOptions(q);return t.joinCondition(Ne)},G=!0,ne=0;ne<a.length;ne++){o=a[ne];var K=i._getConnectedId(o,H);if(!B(X)){G=!1;break}R[o.id]=o,D[H]=X,D[K]=i.body.nodes[K],m[H]=!0}if(Dt(D).length>0&&Dt(R).length>0&&G===!0){var pe=function(){for(var q=0;q<c.length;++q)for(var Ne in D)if(c[q].nodes[Ne]!==void 0)return c[q]}();if(pe!==void 0){for(var Y in D)pe.nodes[Y]===void 0&&(pe.nodes[Y]=D[Y]);for(var Q in R)pe.edges[Q]===void 0&&(pe.edges[Q]=R[Q])}else c.push({nodes:D,edges:R})}}}},E=0;E<this.body.nodeIndices.length;E++)_(E);for(var S=0;S<c.length;S++)this._cluster(c[S].nodes,c[S].edges,t,!1);n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var i,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];(t=this._checkOptions(t,o)).clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=o.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=o.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);var a={},l={},c=o.id,m=ji.cloneOptions(o);a[c]=o;for(var _=0;_<o.edges.length;_++){var E=o.edges[_];if(this.clusteredEdges[E.id]===void 0){var S=this._getConnectedId(E,c);if(this.clusteredNodes[S]===void 0)if(S!==c)if(t.joinCondition===void 0)l[E.id]=E,a[S]=this.body.nodes[S];else{var A=ji.cloneOptions(this.body.nodes[S]);t.joinCondition(m,A)===!0&&(l[E.id]=E,a[S]=this.body.nodes[S])}else l[E.id]=E}}var D=so(i=Dt(a)).call(i,function(B){return a[B].id});for(var R in a)if(Object.prototype.hasOwnProperty.call(a,R))for(var H=a[R],X=0;X<H.edges.length;X++){var z=H.edges[X];ct(D).call(D,this._getConnectedId(z,H.id))>-1&&(l[z.id]=z)}this._cluster(a,l,t,n)}},{key:"_createClusterEdges",value:function(e,t,i,n){for(var o,a,l,c,m,_,E=Dt(e),S=[],A=0;A<E.length;A++){l=e[a=E[A]];for(var D=0;D<l.edges.length;D++)o=l.edges[D],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?t[o.id]=o:o.toId==a?(c=i.id,_=m=o.fromId):(c=o.toId,m=i.id,_=c),e[_]===void 0&&S.push({edge:o,fromId:m,toId:c}))}for(var R=[],H=function(ne){for(var K=0;K<R.length;K++){var pe=R[K],Y=ne.fromId===pe.fromId&&ne.toId===pe.toId,Q=ne.fromId===pe.toId&&ne.toId===pe.fromId;if(Y||Q)return pe}return null},X=0;X<S.length;X++){var z=S[X],B=z.edge,G=H(z);G===null?(G=this._createClusteredEdge(z.fromId,z.toId,B,n),R.push(G)):G.clusteringEdgeReplacingIds.push(B.id),this.body.edges[B.id].edgeReplacedById=G.id,this._backupEdgeOptions(B),B.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,i){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&this.clusteredNodes[a]!==void 0&&o.push(a);for(var l=0;l<o.length;++l)delete e[o[l]];if(Dt(e).length!=0&&(Dt(e).length!=1||i.clusterNodeProperties.allowSingleNodeCluster==1)){var c=Be({},i.clusterNodeProperties);if(i.processProperties!==void 0){var m=[];for(var _ in e)if(Object.prototype.hasOwnProperty.call(e,_)){var E=ji.cloneOptions(e[_]);m.push(E)}var S=[];for(var A in t)if(Object.prototype.hasOwnProperty.call(t,A)&&A.substr(0,12)!=="clusterEdge:"){var D=ji.cloneOptions(t[A],"edge");S.push(D)}if(!(c=i.processProperties(c,m,S)))throw new Error("The processProperties function does not return properties!")}c.id===void 0&&(c.id="cluster:"+kh());var R=c.id;c.label===void 0&&(c.label="cluster");var H=void 0;c.x===void 0&&(H=this._getClusterPosition(e),c.x=H.x),c.y===void 0&&(H===void 0&&(H=this._getClusterPosition(e)),c.y=H.y),c.id=R;var X=this.body.functions.createNode(c,Zc);X.containedNodes=e,X.containedEdges=t,X.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[c.id]=X,this._clusterEdges(e,t,c,i.clusterEdgeProperties),c.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,i=Dt(e),n=e[i[0]].x,o=e[i[0]].x,a=e[i[0]].y,l=e[i[0]].y,c=1;c<i.length;c++)n=(t=e[i[c]]).x<n?t.x:n,o=t.x>o?t.x:o,a=t.y<a?t.y:a,l=t.y>l?t.y:l;return{x:.5*(n+o),y:.5*(a+l)}}},{key:"openCluster",value:function(e,t){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),a=ct(o).call(o,e)-1;if(a>=0){var l=o[a],c=this.body.nodes[l];return c._openChildCluster(e),delete this.body.nodes[e],void(i===!0&&this.body.emitter.emit("_dataChanged"))}var m=n.containedNodes,_=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){var E={},S={x:n.x,y:n.y};for(var A in m)if(Object.prototype.hasOwnProperty.call(m,A)){var D=this.body.nodes[A];E[A]={x:D.x,y:D.y}}var R=t.releaseFunction(S,E);for(var H in m)if(Object.prototype.hasOwnProperty.call(m,H)){var X=this.body.nodes[H];R[H]!==void 0&&(X.x=R[H].x===void 0?n.x:R[H].x,X.y=R[H].y===void 0?n.y:R[H].y)}}else Qe(m,function(vt){vt.options.fixed.x===!1&&(vt.x=n.x),vt.options.fixed.y===!1&&(vt.y=n.y)});for(var z in m)if(Object.prototype.hasOwnProperty.call(m,z)){var B=this.body.nodes[z];B.vx=n.vx,B.vy=n.vy,B.setOptions({physics:!0}),delete this.clusteredNodes[z]}for(var G=[],ne=0;ne<n.edges.length;ne++)G.push(n.edges[ne]);for(var K=0;K<G.length;K++){for(var pe=G[K],Y=this._getConnectedId(pe,e),Q=this.clusteredNodes[Y],q=0;q<pe.clusteringEdgeReplacingIds.length;q++){var Ne=pe.clusteringEdgeReplacingIds[q],Se=this.body.edges[Ne];if(Se!==void 0)if(Q!==void 0){var He=this.body.nodes[Q.clusterId];He.containedEdges[Se.id]=Se,delete _[Se.id];var et=Se.fromId,lt=Se.toId;Se.toId==Y?lt=Q.clusterId:et=Q.clusterId,this._createClusteredEdge(et,lt,Se,He.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Se)}pe.remove()}for(var Et in _)Object.prototype.hasOwnProperty.call(_,Et)&&this._restoreEdge(_[Et]);delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(this.isCluster(e)===!0){var i=this.body.nodes[e].containedNodes;for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.push(this.body.nodes[n].id)}return t}},{key:"findNode",value:function(e){for(var t,i=[],n=0;this.clusteredNodes[e]!==void 0&&n<100;){if((t=this.body.nodes[e])===void 0)return[];i.push(t.id),e=this.clusteredNodes[e].clusterId,n++}return(t=this.body.nodes[e])===void 0?[]:(i.push(t.id),qo(i).call(i),i)}},{key:"updateClusteredNode",value:function(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(e),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],i=0;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return qo(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],i=[],n=[],o=0;t.length>0&&o<100;){var a=t.pop();if(a!==void 0){var l=this.body.edges[a];if(l!==void 0){o++;var c=l.clusteringEdgeReplacingIds;if(c===void 0)n.push(a);else for(var m=0;m<c.length;++m){var _=c[m];ct(t).call(t,c)===-1&&ct(i).call(i,c)===-1&&t.push(_)}i.push(a)}}}return n}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,i=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var a=this.body.nodes[this.body.nodeIndices[o]];a.edges.length>n&&(n=a.edges.length),e+=a.edges.length,t+=Math.pow(a.edges.length,2),i+=1}e/=i;var l=(t/=i)-Math.pow(e,2),c=Math.sqrt(l),m=Math.floor(e+2*c);return m>n&&(m=n),m}},{key:"_createClusteredEdge",value:function(e,t,i,n,o){var a=ji.cloneOptions(i,"edge");Be(a,n),a.from=e,a.to=t,a.id="clusterEdge:"+kh(),o!==void 0&&Be(a,o);var l=this.body.functions.createEdge(a);return l.clusteringEdgeReplacingIds=[i.id],l.connect(),this.body.edges[l.id]=l,l}},{key:"_clusterEdges",value:function(e,t,i,n){if(t instanceof Ls){var o=t,a={};a[o.id]=o,t=a}if(e instanceof An){var l=e,c={};c[l.id]=l,e=c}if(i==null)throw new Error("_clusterEdges: parameter clusterNode required");for(var m in n===void 0&&(n=i.clusterEdgeProperties),this._createClusterEdges(e,t,i,n),t)if(Object.prototype.hasOwnProperty.call(t,m)&&this.body.edges[m]!==void 0){var _=this.body.edges[m];this._backupEdgeOptions(_),_.setOptions({physics:!1})}for(var E in e)Object.prototype.hasOwnProperty.call(e,E)&&(this.clusteredNodes[E]={clusterId:i.id,node:this.body.nodes[E]},this.body.nodes[E].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var t=this.clusteredNodes[e];if(t!==void 0){var i=t.clusterId;if(i!==void 0)return this.body.nodes[i]}}}},{key:"_filter",value:function(e,t){var i=[];return Qe(e,function(n){t(n)&&i.push(n)}),i}},{key:"_updateState",value:function(){var e,t=this,i=[],n={},o=function(_){Qe(t.body.nodes,function(E){E.isCluster===!0&&_(E)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&this.body.nodes[e]===void 0&&i.push(e);o(function(_){for(var E=0;E<i.length;E++)delete _.containedNodes[i[E]]});for(var a=0;a<i.length;a++)delete this.clusteredNodes[i[a]];Qe(this.clusteredEdges,function(_){var E=t.body.edges[_];E!==void 0&&E.endPointsValid()||(n[_]=_)}),o(function(_){Qe(_.containedEdges,function(E,S){E.endPointsValid()||n[S]||(n[S]=S)})}),Qe(this.body.edges,function(_,E){var S=!0,A=_.clusteringEdgeReplacingIds;if(A!==void 0){var D=0;Qe(A,function(R){var H=t.body.edges[R];H!==void 0&&H.endPointsValid()&&(D+=1)}),S=D>0}_.endPointsValid()&&S||(n[E]=E)}),o(function(_){Qe(n,function(E){delete _.containedEdges[E],Qe(_.edges,function(S,A){S.id!==E?S.clusteringEdgeReplacingIds=t._filter(S.clusteringEdgeReplacingIds,function(D){return!n[D]}):_.edges[A]=null}),_.edges=t._filter(_.edges,function(S){return S!==null})})}),Qe(n,function(_){delete t.clusteredEdges[_]}),Qe(n,function(_){delete t.body.edges[_]}),Qe(Dt(this.body.edges),function(_){var E=t.body.edges[_],S=t._isClusteredNode(E.fromId)||t._isClusteredNode(E.toId);if(S!==t._isClusteredEdge(E.id))if(S){var A=t._getClusterNodeForNode(E.fromId);A!==void 0&&t._clusterEdges(t.body.nodes[E.fromId],E,A);var D=t._getClusterNodeForNode(E.toId);D!==void 0&&t._clusterEdges(t.body.nodes[E.toId],E,D)}else delete t._clusterEdges[_],t._restoreEdge(E)});for(var l=!1,c=!0,m=function(){var _=[];o(function(S){var A=Dt(S.containedNodes).length,D=S.options.allowSingleNodeCluster===!0;(D&&A<1||!D&&A<2)&&_.push(S.id)});for(var E=0;E<_.length;++E)t.openCluster(_[E],{},!1);c=_.length>0,l=l||c};c;)m();l&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),r}();function Bv(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return Lf(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Lf(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function Lf(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}var Lv=function(){function r(e,t){var i;ae(this,r),window!==void 0&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=i===void 0?function(n){n()}:i,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},pt(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return ve(r,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=Ai(function(){var i;t.zooming=!1,Z(i=t._requestRedraw).call(i,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Z(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){e!==void 0&&ea(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window!="undefined"){var i,n=window;return this.requiresTimeout===!0?i=Ai(e,t):n.requestAnimationFrame&&(i=n.requestAnimationFrame(e)),i}}},{key:"_startRendering",value:function(){var e;this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(Z(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};this.canvas.frame.canvas.width!==0&&this.canvas.frame.canvas.height!==0||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),this.canvas.frame.clientWidth===0)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(i),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var a=this._drawNodes(i,e),l=a.drawExternalLabels;t.drawExternalLabels=l}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(i),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),e===!0&&i.clearRect(0,0,n,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,i=this.body.nodes;for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&((t=i[n]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,i,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=this.body.nodes,a=this.body.nodeIndices,l=[],c=[],m=20,_=this.canvas.DOMtoCanvas({x:-m,y:-m}),E=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+m,y:this.canvas.frame.canvas.clientHeight+m}),S={top:_.y,left:_.x,bottom:E.y,right:E.x},A=[],D=0;D<a.length;D++)if((t=o[a[D]]).hover)c.push(a[D]);else if(t.isSelected())l.push(a[D]);else if(n===!0){var R=t.draw(e);R.drawExternalLabel!=null&&A.push(R.drawExternalLabel)}else if(t.isBoundingBoxOverlappingWith(S)===!0){var H=t.draw(e);H.drawExternalLabel!=null&&A.push(H.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var X=l.length,z=c.length;for(i=0;i<X;i++){var B=(t=o[l[i]]).draw(e);B.drawExternalLabel!=null&&A.push(B.drawExternalLabel)}for(i=0;i<z;i++){var G=(t=o[c[i]]).draw(e);G.drawExternalLabel!=null&&A.push(G.drawExternalLabel)}return{drawExternalLabels:function(){var ne,K=Bv(A);try{for(K.s();!(ne=K.n()).done;)(0,ne.value)()}catch(pe){K.e(pe)}finally{K.f()}}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,n=0;n<i.length;n++){var o=t[i[n]];o.connected===!0&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,n=0;n<i.length;n++){var o=t[i[n]];o.connected===!0&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window!="undefined"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(ct(e).call(e,"msie 9.0")!=-1||ct(e).call(e,"safari")!=-1&&ct(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),r}(),_i=je.setInterval;function Ju(r,e){e.inputHandler=function(t){t.isFirst&&e(t)},r.on("hammer.input",e.inputHandler)}function Hf(r,e){return e.inputHandler=function(t){t.isFinal&&e(t)},r.on("hammer.input",e.inputHandler)}var Hv=function(){function r(e){ae(this,r),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},pt(this.options,this.defaultOptions),this.bindEventListeners()}return ve(r,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(i){i.width!==0&&(t.body.view.translation.x=.5*i.width),i.height!==0&&(t.body.view.translation.y=.5*i.height)}),this.body.emitter.on("setSize",Z(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t,i,n,o,a,l=this;if(e!==void 0&&ea(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var c;if(window.ResizeObserver){var m=new ResizeObserver(function(){l.setSize()===!0&&l.body.emitter.emit("_requestRedraw")}),_=this.frame;m.observe(_),this._cleanupCallbacks.push(function(){m.unobserve(_)})}else{var E=_i(function(){l.setSize()===!0&&l.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(E)})}var S=Z(c=this._onResize).call(c,this);t=window,i="resize",n=S,t.addEventListener?(o===void 0&&(o=!1),i==="mousewheel"&&xn(a=navigator.userAgent).call(a,"Firefox")&&(i="DOMMouseScroll"),t.addEventListener(i,n,o)):t.attachEvent("on"+i,n),this._cleanupCallbacks.push(function(){(function(A,D,R,H){var X;A.removeEventListener?(H===void 0&&(H=!1),D==="mousewheel"&&xn(X=navigator.userAgent).call(X,"Firefox")&&(D="DOMMouseScroll"),A.removeEventListener(D,R,H)):A.detachEvent("on"+D,R)})(window,"resize",S)})}}},{key:"_cleanUp",value:function(){var e,t,i;yt(e=qo(t=En(i=this._cleanupCallbacks).call(i,0)).call(t)).call(e,function(n){try{n()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;e!=1&&t!=1?i=.5*this.cameraState.scale*(e+t):e!=1?i=this.cameraState.scale*e:t!=1&&(i=this.cameraState.scale*t),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ct(e).call(e,"%")!==-1||ct(e).call(e,"px")!==-1)return e;if(ct(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Ni(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Ni.DIRECTION_ALL}),Ju(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new Ni(this.frame),Hf(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var i=!1,n=this.frame.canvas.width,o=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),c=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===l&&this.frame.canvas.height===c||this._getCameraState(a),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,i=!0),this.frame.canvas.height!==c&&(this.frame.canvas.height=c,i=!0)}return i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var t=1;return typeof window!="undefined"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),r}();function Yd(r,e){var t=pt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},r??{});if(!ut(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}var $f=function(){function r(e,t){var i,n,o=this;ae(this,r),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Z(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Z(n=this.releaseNode).call(n,this))}return ve(r,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];e=Yd(e,this.body.nodeIndices);var i,n,o=this.canvas.frame.canvas.clientWidth,a=this.canvas.frame.canvas.clientHeight;if(o===0||a===0)n=1,i=ji.getRange(this.body.nodes,e.nodes);else if(t===!0){var l=0;for(var c in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,c)){var m=this.body.nodes[c];m.predefinedPosition===!0&&(l+=1)}if(l>.5*this.body.nodeIndices.length)return void this.fit(e,!1);i=ji.getRange(this.body.nodes,e.nodes);var _=this.body.nodeIndices.length;n=12.662/(_+7.4147)+.0964822;var E=Math.min(o/600,a/600);n*=E}else{this.body.emitter.emit("_resizeNodes"),i=ji.getRange(this.body.nodes,e.nodes);var S=1.1*Math.abs(i.maxX-i.minX),A=1.1*Math.abs(i.maxY-i.minY),D=o/S,R=a/A;n=D<=R?D:R}n>e.maxZoomLevel?n=e.maxZoomLevel:n<e.minZoomLevel&&(n=e.minZoomLevel);var H=ji.findCenter(i),X={position:H,scale:n,animation:e.animation};this.moveTo(X)}},{key:"focus",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=i,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e!==void 0){if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!k(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!k(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!k(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!k(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,i,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=n.x-e.position.x,a=n.y-e.position.y;this.targetTranslation={x:this.sourceTranslation.x+o*this.targetScale+e.offset.x,y:this.sourceTranslation.y+a*this.targetScale+e.offset.y},e.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=Z(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Z(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=i.x-e,o=i.y-t,a=this.body.view.translation,l={x:a.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:a.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=l}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var t=ia[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){var i;this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=Z(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),r}();function Xd(r){var e,t=r&&r.preventDefault||!1,i=r&&r.container||window,n={},o={keydown:{},keyup:{}},a={};for(e=97;e<=122;e++)a[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)a[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)a[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)a["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)a["num"+e]={code:96+e,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var l=function(_){m(_,"keydown")},c=function(_){m(_,"keyup")},m=function(_,E){if(o[E][_.keyCode]!==void 0){for(var S=o[E][_.keyCode],A=0;A<S.length;A++)(S[A].shift===void 0||S[A].shift==1&&_.shiftKey==1||S[A].shift==0&&_.shiftKey==0)&&S[A].fn(_);t==1&&_.preventDefault()}};return n.bind=function(_,E,S){if(S===void 0&&(S="keydown"),a[_]===void 0)throw new Error("unsupported key: "+_);o[S][a[_].code]===void 0&&(o[S][a[_].code]=[]),o[S][a[_].code].push({fn:E,shift:a[_].shift})},n.bindAll=function(_,E){for(var S in E===void 0&&(E="keydown"),a)a.hasOwnProperty(S)&&n.bind(S,_,E)},n.getKey=function(_){for(var E in a)if(a.hasOwnProperty(E)&&(_.shiftKey==1&&a[E].shift==1&&_.keyCode==a[E].code||_.shiftKey==0&&a[E].shift==0&&_.keyCode==a[E].code||_.keyCode==a[E].code&&E=="shift"))return E;return"unknown key, currently not supported"},n.unbind=function(_,E,S){if(S===void 0&&(S="keydown"),a[_]===void 0)throw new Error("unsupported key: "+_);if(E!==void 0){var A=[],D=o[S][a[_].code];if(D!==void 0)for(var R=0;R<D.length;R++)D[R].fn==E&&D[R].shift==a[_].shift||A.push(o[S][a[_].code][R]);o[S][a[_].code]=A}else o[S][a[_].code]=[]},n.reset=function(){o={keydown:{},keyup:{}}},n.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",l,!0),i.removeEventListener("keyup",c,!0)},i.addEventListener("keydown",l,!0),i.addEventListener("keyup",c,!0),n}var Gv=function(){function r(e,t){var i=this;ae(this,r),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){i.keycharm!==void 0&&i.keycharm.destroy()}),this.options={}}return ve(r,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<t.length;n++){this.navigationDOM[t[n]]=document.createElement("div"),this.navigationDOM[t[n]].className="vis-button vis-"+t[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[n]]);var o,a,l=new Ni(this.navigationDOM[t[n]]);i[n]==="_fit"?Ju(l,Z(o=this._fit).call(o,this)):Ju(l,Z(a=this.bindToRedraw).call(a,this,i[n])),this.navigationHammers.push(l)}var c=new Ni(this.canvas.frame);Hf(c,function(){e._stopMovement()}),this.navigationHammers.push(c),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;this.boundFunctions[e]===void 0&&(this.boundFunctions[e]=Z(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,a=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,a=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,i,n,o,a,l,c,m,_,E,S,A,D,R,H,X,z,B,G,ne,K,pe,Y,Q=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=Xd({container:window,preventDefault:!0}):this.keycharm=Xd({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(Z(e=this.keycharm).call(e,"up",function(){Q.bindToRedraw("_moveUp")},"keydown"),Z(t=this.keycharm).call(t,"down",function(){Q.bindToRedraw("_moveDown")},"keydown"),Z(i=this.keycharm).call(i,"left",function(){Q.bindToRedraw("_moveLeft")},"keydown"),Z(n=this.keycharm).call(n,"right",function(){Q.bindToRedraw("_moveRight")},"keydown"),Z(o=this.keycharm).call(o,"=",function(){Q.bindToRedraw("_zoomIn")},"keydown"),Z(a=this.keycharm).call(a,"num+",function(){Q.bindToRedraw("_zoomIn")},"keydown"),Z(l=this.keycharm).call(l,"num-",function(){Q.bindToRedraw("_zoomOut")},"keydown"),Z(c=this.keycharm).call(c,"-",function(){Q.bindToRedraw("_zoomOut")},"keydown"),Z(m=this.keycharm).call(m,"[",function(){Q.bindToRedraw("_zoomOut")},"keydown"),Z(_=this.keycharm).call(_,"]",function(){Q.bindToRedraw("_zoomIn")},"keydown"),Z(E=this.keycharm).call(E,"pageup",function(){Q.bindToRedraw("_zoomIn")},"keydown"),Z(S=this.keycharm).call(S,"pagedown",function(){Q.bindToRedraw("_zoomOut")},"keydown"),Z(A=this.keycharm).call(A,"up",function(){Q.unbindFromRedraw("_moveUp")},"keyup"),Z(D=this.keycharm).call(D,"down",function(){Q.unbindFromRedraw("_moveDown")},"keyup"),Z(R=this.keycharm).call(R,"left",function(){Q.unbindFromRedraw("_moveLeft")},"keyup"),Z(H=this.keycharm).call(H,"right",function(){Q.unbindFromRedraw("_moveRight")},"keyup"),Z(X=this.keycharm).call(X,"=",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),Z(z=this.keycharm).call(z,"num+",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),Z(B=this.keycharm).call(B,"num-",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),Z(G=this.keycharm).call(G,"-",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),Z(ne=this.keycharm).call(ne,"[",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),Z(K=this.keycharm).call(K,"]",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),Z(pe=this.keycharm).call(pe,"pageup",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),Z(Y=this.keycharm).call(Y,"pagedown",function(){Q.unbindFromRedraw("_zoomOut")},"keyup")))}}]),r}();function $v(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return Wf(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Wf(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function Wf(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}var Jc=function(){function r(e,t,i){var n,o,a,l,c,m,_,E,S,A,D,R,H;ae(this,r),this.body=e,this.canvas=t,this.selectionHandler=i,this.navigationHandler=new Gv(e,t),this.body.eventListeners.onTap=Z(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=Z(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Z(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=Z(l=this.onHold).call(l,this),this.body.eventListeners.onDragStart=Z(c=this.onDragStart).call(c,this),this.body.eventListeners.onDrag=Z(m=this.onDrag).call(m,this),this.body.eventListeners.onDragEnd=Z(_=this.onDragEnd).call(_,this),this.body.eventListeners.onMouseWheel=Z(E=this.onMouseWheel).call(E,this),this.body.eventListeners.onPinch=Z(S=this.onPinch).call(S,this),this.body.eventListeners.onMouseMove=Z(A=this.onMouseMove).call(A,this),this.body.eventListeners.onRelease=Z(D=this.onRelease).call(D,this),this.body.eventListeners.onContext=Z(R=this.onContext).call(R,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Z(H=this.getPointer).call(H,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},pt(this.options,this.defaultOptions),this.bindEventListeners()}return ve(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){e!==void 0&&(ju(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Mi(this.options,e,"keyboard"),e.tooltip&&(pt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=hh(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-Nc(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,i),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,i),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];t===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var i=function(n,o){for(var a=[],l=0;l<n.length;l++){var c=n[l];ct(o).call(o,c)===-1&&a.push(c)}return a};return{nodes:i(e.nodes,t.nodes),edges:i(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=pt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var n,o=$v(this.selectionHandler.getSelectedNodes());try{for(o.s();!(n=o.n()).done;){var a=n.value,l={id:a.id,node:a,x:a.x,y:a.y,xFixed:a.options.fixed.x,yFixed:a.options.fixed.y};a.options.fixed.x=!0,a.options.fixed.y=!0,this.drag.selection.push(l)}}catch(c){o.e(c)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var i=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,i);var o=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;yt(n).call(n,function(m){var _=m.node;m.xFixed===!1&&(_.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(m.x)+o)),m.yFixed===!1&&(_.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(m.y)+a))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);var l=i.x-this.drag.pointer.x,c=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+l,y:this.drag.translation.y+c},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var n=this.body.selectionBox.position,o={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},a=Pi(i=this.body.nodeIndices).call(i,function(m){var _=t.body.nodes[m];return _.x>=o.minX&&_.x<=o.maxX&&_.y>=o.minY&&_.y<=o.maxY});yt(a).call(a,function(m){return t.selectionHandler.selectObject(t.body.nodes[m])});var l=this.getPointer(e.center);this.selectionHandler.commitAndEmit(l,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var c=this.drag.selection;c&&c.length?(yt(c).call(c,function(m){m.node.options.fixed.x=m.xFixed,m.node.options.fixed.y=m.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var i=this.pinch.scale*e.scale;this.zoom(i,t)}},{key:"zoom",value:function(e,t){if(this.options.zoomView===!0){var i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var n=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,a=e/i,l=(1-a)*t.x+o.x*a,c=(1-a)*t.y+o.y*a;if(this.body.view.scale=e,this.body.view.translation={x:l,y:c},n!=null){var m=this.canvas.canvasToDOM(n);this.drag.pointer.x=m.x,this.drag.pointer.y=m.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,i)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,i=this.getPointer({x:e.clientX,y:e.clientY}),n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Ai(function(){return t._checkShowPopup(i)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,i)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:i,right:t,bottom:i},o=this.popupObj===void 0?void 0:this.popupObj.id,a=!1,l="node";if(this.popupObj===void 0){for(var c,m=this.body.nodeIndices,_=this.body.nodes,E=[],S=0;S<m.length;S++)(c=_[m[S]]).isOverlappingWith(n)===!0&&(a=!0,c.getTitle()!==void 0&&E.push(m[S]));E.length>0&&(this.popupObj=_[E[E.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){for(var A,D=this.body.edgeIndices,R=this.body.edges,H=[],X=0;X<D.length;X++)(A=R[D[X]]).isOverlappingWith(n)===!0&&A.connected===!0&&A.getTitle()!==void 0&&H.push(D[X]);H.length>0&&(this.popupObj=R[H[H.length-1]],l="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new na(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),i=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))===!0){var n=this.selectionHandler.getNodeAt(e);i=n!==void 0&&n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),r}();pr("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Rs);var zi=je.Set,ed=Fs.getWeakData,qf=qi.set,Kd=qi.getterFor,Uf=Ir.find,Vf=Ir.findIndex,Qd=0,td=function(r){return r.frozen||(r.frozen=new Zd)},Zd=function(){this.entries=[]},Jd=function(r,e){return Uf(r.entries,function(t){return t[0]===e})};Zd.prototype={get:function(r){var e=Jd(this,r);if(e)return e[1]},has:function(r){return!!Jd(this,r)},set:function(r,e){var t=Jd(this,r);t?t[1]=e:this.entries.push([r,e])},delete:function(r){var e=Vf(this.entries,function(t){return t[0]===r});return~e&&this.entries.splice(e,1),!!~e}};var Gf={getConstructor:function(r,e,t,i){var n=r(function(l,c){bo(l,n,e),qf(l,{type:e,id:Qd++,frozen:void 0}),c!=null&&Tn(c,l[i],{that:l,AS_ENTRIES:t})}),o=Kd(e),a=function(l,c,m){var _=o(l),E=ed(At(c),!0);return E===!0?td(_).set(c,m):E[_.id]=m,l};return Ns(n.prototype,{delete:function(l){var c=o(this);if(!Ue(l))return!1;var m=ed(l);return m===!0?td(c).delete(l):m&&Ye(m,c.id)&&delete m[c.id]},has:function(l){var c=o(this);if(!Ue(l))return!1;var m=ed(l);return m===!0?td(c).has(l):m&&Ye(m,c.id)}}),Ns(n.prototype,t?{get:function(l){var c=o(this);if(Ue(l)){var m=ed(l);return m===!0?td(c).get(l):m?m[c.id]:void 0}},set:function(l,c){return a(this,l,c)}}:{add:function(l){return a(this,l,!0)}}),n}};_e(function(r){var e,t=qi.enforce,i=!J.ActiveXObject&&"ActiveXObject"in J,n=Object.isExtensible,o=function(S){return function(){return S(this,arguments.length?arguments[0]:void 0)}},a=r.exports=pr("WeakMap",o,Gf);if(Mh&&i){e=Gf.getConstructor(o,"WeakMap",!0),Fs.REQUIRED=!0;var l=a.prototype,c=l.delete,m=l.has,_=l.get,E=l.set;Ns(l,{delete:function(S){if(Ue(S)&&!n(S)){var A=t(this);return A.frozen||(A.frozen=new e),c.call(this,S)||A.frozen.delete(S)}return c.call(this,S)},has:function(S){if(Ue(S)&&!n(S)){var A=t(this);return A.frozen||(A.frozen=new e),m.call(this,S)||A.frozen.has(S)}return m.call(this,S)},get:function(S){if(Ue(S)&&!n(S)){var A=t(this);return A.frozen||(A.frozen=new e),m.call(this,S)?_.call(this,S):A.frozen.get(S)}return _.call(this,S)},set:function(S,A){if(Ue(S)&&!n(S)){var D=t(this);D.frozen||(D.frozen=new e),m.call(this,S)?E.call(this,S,A):D.frozen.set(S,A)}else E.call(this,S,A);return this}})}});var Hs,Vn,Xa,Ka,Eh,xh=je.WeakMap;function Pt(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function ef(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}function id(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return Yf(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Yf(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function Yf(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function s(r,e){var t,i=new zi,n=id(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.has(o)||i.add(o)}}catch(a){n.e(a)}finally{n.f()}return i}var h=function(){function r(){ae(this,r),Hs.set(this,new zi),Vn.set(this,new zi)}return ve(r,[{key:"size",get:function(){return Pt(this,Vn).size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var n=0,o=t;n<o.length;n++){var a=o[n];Pt(this,Vn).add(a)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var n=0,o=t;n<o.length;n++){var a=o[n];Pt(this,Vn).delete(a)}}},{key:"clear",value:function(){Pt(this,Vn).clear()}},{key:"getSelection",value:function(){return ar(Pt(this,Vn))}},{key:"getChanges",value:function(){return{added:ar(s(Pt(this,Hs),Pt(this,Vn))),deleted:ar(s(Pt(this,Vn),Pt(this,Hs))),previous:ar(new zi(Pt(this,Hs))),current:ar(new zi(Pt(this,Vn)))}}},{key:"commit",value:function(){var e=this.getChanges();ef(this,Hs,Pt(this,Vn)),ef(this,Vn,new zi(Pt(this,Hs)));var t,i=id(e.added);try{for(i.s();!(t=i.n()).done;)t.value.select()}catch(a){i.e(a)}finally{i.f()}var n,o=id(e.deleted);try{for(o.s();!(n=o.n()).done;)n.value.unselect()}catch(a){o.e(a)}finally{o.f()}return e}}]),r}();Hs=new xh,Vn=new xh;var p=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};ae(this,r),Xa.set(this,new h),Ka.set(this,new h),Eh.set(this,void 0),ef(this,Eh,e)}return ve(r,[{key:"sizeNodes",get:function(){return Pt(this,Xa).size}},{key:"sizeEdges",get:function(){return Pt(this,Ka).size}},{key:"getNodes",value:function(){return Pt(this,Xa).getSelection()}},{key:"getEdges",value:function(){return Pt(this,Ka).getSelection()}},{key:"addNodes",value:function(){var e;(e=Pt(this,Xa)).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Pt(this,Ka)).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Pt(this,Xa).delete(e)}},{key:"deleteEdges",value:function(e){Pt(this,Ka).delete(e)}},{key:"clear",value:function(){Pt(this,Xa).clear(),Pt(this,Ka).clear()}},{key:"commit",value:function(){for(var e,t,i={nodes:Pt(this,Xa).commit(),edges:Pt(this,Ka).commit()},n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=Pt(this,Eh)).call.apply(e,Ar(t=[this,i]).call(t,o)),i}}]),r}();function g(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return y(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return y(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function y(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}Xa=new xh,Ka=new xh,Eh=new xh;var w=function(){function r(e,t){var i=this;ae(this,r),this.body=e,this.canvas=t,this._selectionAccumulator=new p,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},pt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return ve(r,[{key:"setOptions",value:function(e){e!==void 0&&ea(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),i!==void 0&&(t=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);i!==void 0&&(t=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var i={};return i.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},i.event=e,i}},{key:"generateClickEvent",value:function(e,t,i,n){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=this._initBaseEvent(t,i);if(o===!0)a.nodes=[],a.edges=[];else{var l=this.getSelection();a.nodes=l.nodes,a.edges=l.edges}n!==void 0&&(a.previousSelection=n),e=="click"&&(a.items=this.getClickedItems(i)),t.controlEdge!==void 0&&(a.controlEdge=t.controlEdge),this.body.emitter.emit(e,a)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof An){var i;t===!0&&(i=this._selectionAccumulator).addEdges.apply(i,ar(e.edges)),this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];i[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(i);return n.length>0?t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];i[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this.canvas.DOMtoCanvas(e),n=10,o=null,a=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var c=this.body.edgeIndices[l],m=a[c];if(m.connected){var _=m.from.x,E=m.from.y,S=m.to.x,A=m.to.y,D=m.edgeType.getDistanceToEdge(_,E,S,A,i.x,i.y);D<n&&(o=c,n=D)}}return o!==null?t===!0?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(e){e instanceof An?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof An?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,ar(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(e,t,i){var n=this._initBaseEvent(e,t);i.hover===!0&&(i.hover=!1,i instanceof An?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(e,t,i){var n=this._initBaseEvent(e,t),o=!1;return i.hover===!1&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof An?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}},{key:"hoverObject",value:function(e,t){var i=this.getNodeAt(t);i===void 0&&(i=this.getEdgeAt(t));var n=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(i===void 0||i instanceof An&&i.id!=o||i instanceof Ls)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(var a in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,a)&&(n===!0?(this.hoverObj.edges[a].hover=!1,delete this.hoverObj.edges[a]):(i===void 0||i instanceof Ls&&i.id!=a||i instanceof An&&!i.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[a]),delete this.hoverObj.edges[a],n=!0));if(i!==void 0){var l=Dt(this.hoverObj.edges).length,c=Dt(this.hoverObj.nodes).length;(n||i instanceof Ls&&l===0&&c===0||i instanceof An&&l===0&&c===0)&&(n=this.emitHoverEvent(e,t,i)),i instanceof An&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(i)}n===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var i=!1,n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),i=!0),i===!0&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return so(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return so(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes){var i,n=g(e.nodes);try{for(n.s();!(i=n.n()).done;){var o=i.value,a=this.body.nodes[o];if(!a)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(a,t.highlightEdges)}}catch(E){n.e(E)}finally{n.f()}}if(e.edges){var l,c=g(e.edges);try{for(c.s();!(l=c.n()).done;){var m=l.value,_=this.body.edges[m];if(!_)throw new RangeError('Edge with id "'+m+'" not found');this.selectObject(_)}}catch(E){c.e(E)}finally{c.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),i=[],n=this.body.nodeIndices,o=this.body.nodes,a=n.length-1;a>=0;a--){var l=o[n[a]].getItemsOnPoint(t);i.push.apply(i,l)}for(var c=this.body.edgeIndices,m=this.body.edges,_=c.length-1;_>=0;_--){var E=m[c[_]].getItemsOnPoint(t);i.push.apply(i,E)}return i}}]),r}(),x=[],P=x.sort,T=re(function(){x.sort(void 0)}),M=re(function(){x.sort(null)}),N=bs("sort");ke({target:"Array",proto:!0,forced:T||!M||!N},{sort:function(r){return r===void 0?P.call(Mt(this)):P.call(Mt(this),dn(r))}});var j=nt("Array").sort,$=Array.prototype,ce=function(r){var e=r.sort;return r===$||r instanceof Array&&e===$.sort?j:e},Re=function(r){return function(e,t,i,n){dn(t);var o=Mt(e),a=Yr(o),l=Gt(o.length),c=r?l-1:0,m=r?-1:1;if(i<2)for(;;){if(c in a){n=a[c],c+=m;break}if(c+=m,r?c<0:l<=c)throw TypeError("Reduce of empty array with no initial value")}for(;r?c>=0:l>c;c+=m)c in a&&(n=t(n,a[c],c,o));return n}},$e={left:Re(!1),right:Re(!0)}.left,rt=bs("reduce");ke({target:"Array",proto:!0,forced:!rt||!al&&io>79&&io<83},{reduce:function(r){return $e(this,r,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Ae=nt("Array").reduce,wt=Array.prototype,vi=function(r){var e=r.reduce;return r===wt||r instanceof Array&&e===wt.reduce?Ae:e},St=_e(function(r,e){(function(t){function i(z,B){if(!(z instanceof B))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.sort=X;var n=32,o=7,a=256,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function c(z){return z<1e5?z<100?z<10?0:1:z<1e4?z<1e3?2:3:4:z<1e7?z<1e6?5:6:z<1e9?z<1e8?7:8:9}function m(z,B){if(z===B)return 0;if(~~z===z&&~~B===B){if(z===0||B===0)return z<B?-1:1;if(z<0||B<0){if(B>=0)return-1;if(z>=0)return 1;z=-z,B=-B}var G=c(z),ne=c(B),K=0;return G<ne?(z*=l[ne-G-1],B/=10,K=-1):G>ne&&(B*=l[G-ne-1],z/=10,K=1),z===B?K:z<B?-1:1}var pe=String(z),Y=String(B);return pe===Y?0:pe<Y?-1:1}function _(z){for(var B=0;z>=n;)B|=1&z,z>>=1;return z+B}function E(z,B,G,ne){var K=B+1;if(K===G)return 1;if(ne(z[K++],z[B])<0){for(;K<G&&ne(z[K],z[K-1])<0;)K++;S(z,B,K)}else for(;K<G&&ne(z[K],z[K-1])>=0;)K++;return K-B}function S(z,B,G){for(G--;B<G;){var ne=z[B];z[B++]=z[G],z[G--]=ne}}function A(z,B,G,ne,K){for(ne===B&&ne++;ne<G;ne++){for(var pe=z[ne],Y=B,Q=ne;Y<Q;){var q=Y+Q>>>1;K(pe,z[q])<0?Q=q:Y=q+1}var Ne=ne-Y;switch(Ne){case 3:z[Y+3]=z[Y+2];case 2:z[Y+2]=z[Y+1];case 1:z[Y+1]=z[Y];break;default:for(;Ne>0;)z[Y+Ne]=z[Y+Ne-1],Ne--}z[Y]=pe}}function D(z,B,G,ne,K,pe){var Y=0,Q=0,q=1;if(pe(z,B[G+K])>0){for(Q=ne-K;q<Q&&pe(z,B[G+K+q])>0;)Y=q,(q=1+(q<<1))<=0&&(q=Q);q>Q&&(q=Q),Y+=K,q+=K}else{for(Q=K+1;q<Q&&pe(z,B[G+K-q])<=0;)Y=q,(q=1+(q<<1))<=0&&(q=Q);q>Q&&(q=Q);var Ne=Y;Y=K-q,q=K-Ne}for(Y++;Y<q;){var Se=Y+(q-Y>>>1);pe(z,B[G+Se])>0?Y=Se+1:q=Se}return q}function R(z,B,G,ne,K,pe){var Y=0,Q=0,q=1;if(pe(z,B[G+K])<0){for(Q=K+1;q<Q&&pe(z,B[G+K-q])<0;)Y=q,(q=1+(q<<1))<=0&&(q=Q);q>Q&&(q=Q);var Ne=Y;Y=K-q,q=K-Ne}else{for(Q=ne-K;q<Q&&pe(z,B[G+K+q])>=0;)Y=q,(q=1+(q<<1))<=0&&(q=Q);q>Q&&(q=Q),Y+=K,q+=K}for(Y++;Y<q;){var Se=Y+(q-Y>>>1);pe(z,B[G+Se])<0?q=Se:Y=Se+1}return q}var H=function(){function z(B,G){i(this,z),this.array=null,this.compare=null,this.minGallop=o,this.length=0,this.tmpStorageLength=a,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=B,this.compare=G,this.length=B.length,this.length<2*a&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return z.prototype.pushRun=function(B,G){this.runStart[this.stackSize]=B,this.runLength[this.stackSize]=G,this.stackSize+=1},z.prototype.mergeRuns=function(){for(;this.stackSize>1;){var B=this.stackSize-2;if(B>=1&&this.runLength[B-1]<=this.runLength[B]+this.runLength[B+1]||B>=2&&this.runLength[B-2]<=this.runLength[B]+this.runLength[B-1])this.runLength[B-1]<this.runLength[B+1]&&B--;else if(this.runLength[B]>this.runLength[B+1])break;this.mergeAt(B)}},z.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var B=this.stackSize-2;B>0&&this.runLength[B-1]<this.runLength[B+1]&&B--,this.mergeAt(B)}},z.prototype.mergeAt=function(B){var G=this.compare,ne=this.array,K=this.runStart[B],pe=this.runLength[B],Y=this.runStart[B+1],Q=this.runLength[B+1];this.runLength[B]=pe+Q,B===this.stackSize-3&&(this.runStart[B+1]=this.runStart[B+2],this.runLength[B+1]=this.runLength[B+2]),this.stackSize--;var q=R(ne[Y],ne,K,pe,0,G);K+=q,(pe-=q)!=0&&(Q=D(ne[K+pe-1],ne,Y,Q,Q-1,G))!==0&&(pe<=Q?this.mergeLow(K,pe,Y,Q):this.mergeHigh(K,pe,Y,Q))},z.prototype.mergeLow=function(B,G,ne,K){var pe=this.compare,Y=this.array,Q=this.tmp,q=0;for(q=0;q<G;q++)Q[q]=Y[B+q];var Ne=0,Se=ne,He=B;if(Y[He++]=Y[Se++],--K!=0)if(G!==1){for(var et=this.minGallop;;){var lt=0,Et=0,vt=!1;do if(pe(Y[Se],Q[Ne])<0){if(Y[He++]=Y[Se++],Et++,lt=0,--K==0){vt=!0;break}}else if(Y[He++]=Q[Ne++],lt++,Et=0,--G==1){vt=!0;break}while((lt|Et)<et);if(vt)break;do{if((lt=R(Y[Se],Q,Ne,G,0,pe))!==0){for(q=0;q<lt;q++)Y[He+q]=Q[Ne+q];if(He+=lt,Ne+=lt,(G-=lt)<=1){vt=!0;break}}if(Y[He++]=Y[Se++],--K==0){vt=!0;break}if((Et=D(Q[Ne],Y,Se,K,0,pe))!==0){for(q=0;q<Et;q++)Y[He+q]=Y[Se+q];if(He+=Et,Se+=Et,(K-=Et)==0){vt=!0;break}}if(Y[He++]=Q[Ne++],--G==1){vt=!0;break}et--}while(lt>=o||Et>=o);if(vt)break;et<0&&(et=0),et+=2}if(this.minGallop=et,et<1&&(this.minGallop=1),G===1){for(q=0;q<K;q++)Y[He+q]=Y[Se+q];Y[He+K]=Q[Ne]}else{if(G===0)throw new Error("mergeLow preconditions were not respected");for(q=0;q<G;q++)Y[He+q]=Q[Ne+q]}}else{for(q=0;q<K;q++)Y[He+q]=Y[Se+q];Y[He+K]=Q[Ne]}else for(q=0;q<G;q++)Y[He+q]=Q[Ne+q]},z.prototype.mergeHigh=function(B,G,ne,K){var pe=this.compare,Y=this.array,Q=this.tmp,q=0;for(q=0;q<K;q++)Q[q]=Y[ne+q];var Ne=B+G-1,Se=K-1,He=ne+K-1,et=0,lt=0;if(Y[He--]=Y[Ne--],--G!=0)if(K!==1){for(var Et=this.minGallop;;){var vt=0,gr=0,tl=!1;do if(pe(Q[Se],Y[Ne])<0){if(Y[He--]=Y[Ne--],vt++,gr=0,--G==0){tl=!0;break}}else if(Y[He--]=Q[Se--],gr++,vt=0,--K==1){tl=!0;break}while((vt|gr)<Et);if(tl)break;do{if((vt=G-R(Q[Se],Y,B,G,G-1,pe))!=0){for(G-=vt,lt=1+(He-=vt),et=1+(Ne-=vt),q=vt-1;q>=0;q--)Y[lt+q]=Y[et+q];if(G===0){tl=!0;break}}if(Y[He--]=Q[Se--],--K==1){tl=!0;break}if((gr=K-D(Y[Ne],Q,0,K,K-1,pe))!=0){for(K-=gr,lt=1+(He-=gr),et=1+(Se-=gr),q=0;q<gr;q++)Y[lt+q]=Q[et+q];if(K<=1){tl=!0;break}}if(Y[He--]=Y[Ne--],--G==0){tl=!0;break}Et--}while(vt>=o||gr>=o);if(tl)break;Et<0&&(Et=0),Et+=2}if(this.minGallop=Et,Et<1&&(this.minGallop=1),K===1){for(lt=1+(He-=G),et=1+(Ne-=G),q=G-1;q>=0;q--)Y[lt+q]=Y[et+q];Y[He]=Q[Se]}else{if(K===0)throw new Error("mergeHigh preconditions were not respected");for(et=He-(K-1),q=0;q<K;q++)Y[et+q]=Q[q]}}else{for(lt=1+(He-=G),et=1+(Ne-=G),q=G-1;q>=0;q--)Y[lt+q]=Y[et+q];Y[He]=Q[Se]}else for(et=He-(K-1),q=0;q<K;q++)Y[et+q]=Q[q]},z}();function X(z,B,G,ne){if(!Array.isArray(z))throw new TypeError("Can only sort arrays");B?typeof B!="function"&&(ne=G,G=B,B=m):B=m,G||(G=0),ne||(ne=z.length);var K=ne-G;if(!(K<2)){var pe=0;if(K<n)A(z,G,ne,G+(pe=E(z,G,ne,B)),B);else{var Y=new H(z,B),Q=_(K);do{if((pe=E(z,G,ne,B))<Q){var q=K;q>Q&&(q=Q),A(z,G,G+q,G+pe,B),pe=q}Y.pushRun(G,pe),Y.mergeRuns(),K-=pe,G+=pe}while(K!==0);Y.forceMergeRuns()}}}})(e)});function pi(r){var e=function(){if(typeof Reflect=="undefined"||!L||L.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(L(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=be(r);if(e){var n=be(this).constructor;t=L(i,arguments,n)}else t=i.apply(this,arguments);return Ce(this,t)}}var ki=function(){function r(){ae(this,r)}return ve(r,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,i),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),r}(),Gr=function(r){Je(t,r);var e=pi(t);function t(i){var n;return ae(this,t),(n=e.call(this)).layout=i,n}return ve(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(i){return i.x}},{key:"setPosition",value:function(i,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(i,o),i.x=n}},{key:"getTreeSize",value:function(i){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:n.min_x,max:n.max_x}}},{key:"sort",value:function(i){St.sort(i,function(n,o){return n.x-o.x})}},{key:"fix",value:function(i,n){i.y=this.layout.options.hierarchical.levelSeparation*n,i.options.fixed.y=!0}},{key:"shift",value:function(i,n){this.layout.body.nodes[i].x+=n}}]),t}(ki),Bi=function(r){Je(t,r);var e=pi(t);function t(i){var n;return ae(this,t),(n=e.call(this)).layout=i,n}return ve(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(i){return i.y}},{key:"setPosition",value:function(i,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(i,o),i.y=n}},{key:"getTreeSize",value:function(i){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:n.min_y,max:n.max_y}}},{key:"sort",value:function(i){St.sort(i,function(n,o){return n.y-o.y})}},{key:"fix",value:function(i,n){i.x=this.layout.options.hierarchical.levelSeparation*n,i.options.fixed.x=!0}},{key:"shift",value:function(i,n){this.layout.body.nodes[i].y+=n}}]),t}(ki),Qa=Ir.every,ua=bs("every");ke({target:"Array",proto:!0,forced:!ua},{every:function(r){return Qa(this,r,arguments.length>1?arguments[1]:void 0)}});var $s=nt("Array").every,la=Array.prototype,nd=function(r){var e=r.every;return r===la||r instanceof Array&&e===la.every?$s:e};function el(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return rd(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return rd(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function rd(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function tf(r,e){var t=new zi;return yt(r).call(r,function(i){var n;yt(n=i.edges).call(n,function(o){o.connected&&t.add(o)})}),yt(t).call(t,function(i){var n=i.from.id,o=i.to.id;e[n]==null&&(e[n]=0),(e[o]==null||e[n]>=e[o])&&(e[o]=e[n]+1)}),e}function nf(r,e,t,i){var n,o,a=uo(null),l=vi(n=ar(ln(i).call(i))).call(n,function(A,D){return A+1+D.edges.length},0),c=t+"Id",m=t==="to"?1:-1,_=el(i);try{var E=function(){var A=It(o.value,2),D=A[0],R=A[1];if(!i.has(D)||!r(R))return"continue";a[D]=0;for(var H=[R],X=0,z=void 0,B=function(){var ne,K;if(!i.has(D))return"continue";var pe=a[z.id]+m;if(yt(ne=Pi(K=z.edges).call(K,function(Y){return Y.connected&&Y.to!==Y.from&&Y[t]!==z&&i.has(Y.toId)&&i.has(Y.fromId)})).call(ne,function(Y){var Q=Y[c],q=a[Q];(q==null||e(pe,q))&&(a[Q]=pe,H.push(Y[t]))}),X>l)return{v:{v:tf(i,a)}};++X};z=H.pop();){var G=B();if(G!=="continue"&&kt(G)==="object")return G.v}};for(_.s();!(o=_.n()).done;){var S=E();if(S!=="continue"&&kt(S)==="object")return S.v}}catch(A){_.e(A)}finally{_.f()}return a}var ge=function(){function r(){ae(this,r),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return ve(r,[{key:"addRelation",value:function(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,i={};return function n(o){if(i[o]!==void 0)return i[o];var a=t.levels[o];if(t.childrenReference[o]){var l=t.childrenReference[o];if(l.length>0)for(var c=0;c<l.length;c++)a=Math.max(a,n(l[c]))}return i[o]=a,a}(e)}},{key:"levelDownstream",value:function(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.levels[i]!==void 0&&(t=Math.min(this.levels[i],t));for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.levels[n]!==void 0&&(this.levels[n]-=t)}},{key:"getTreeSize",value:function(e,t){var i=1e9,n=-1e9,o=1e9,a=-1e9;for(var l in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,l)&&this.trees[l]===t){var c=e[l];i=Math.min(c.x,i),n=Math.max(c.x,n),o=Math.min(c.y,o),a=Math.max(c.y,a)}return{min_x:i,max_x:n,min_y:o,max_y:a}}},{key:"hasSameParent",value:function(e,t){var i=this.parentReference[e.id],n=this.parentReference[t.id];if(i===void 0||n===void 0)return!1;for(var o=0;o<i.length;o++)for(var a=0;a<n.length;a++)if(i[o]==n[a])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return Dt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);var i=!1,n=this.distributionOrdering[t];for(var o in n)if(n[o]===e){i=!0;break}i||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),r}(),oe=function(){function r(e){ae(this,r),this.body=e,this._resetRNG(Math.random()+":"+ms()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},pt(this.options,this.defaultOptions),this.bindEventListeners()}return ve(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(e!==void 0){var i=this.options.hierarchical,n=i.enabled;if(ea(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Mi(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),i.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),i.direction==="RL"||i.direction==="DU"?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),Be(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Ps(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0||t.enabled,t.solver=t.solver||"barnesHut"):kt(e.physics)==="object"?(t.enabled=e.physics.enabled===void 0||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{var n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(i=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0||n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0||n.enabled,type:i,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,i=0;i<e.length;i++){var n=e[i],o=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(o)),n.y===void 0&&(n.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,t=0,i=0;i<e.length;i++)this.body.nodes[e[i]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){var n=0,o=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var l=e.length;e.length>o&&n<=10;){n+=1;var c=e.length;if(n%3==0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a),c==e.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var m=0;m<e.length;m++){var _=this.body.nodes[e[m]];_.predefinedPosition===!1&&(_.x+=70*(.5-this._rng()),_.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=ji.getRangeCore(this.body.nodes,this.body.nodeIndices),t=ji.findCenter(e),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=t.x,n.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,t,i=!1,n=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new ge,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&((e=this.body.nodes[t]).options.level!==void 0?(i=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(n===!0){var o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(var a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);var l=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(l),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,i={},n=function(S,A){var D=e.hierarchical.trees;for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&D[R]===S&&e.direction.shift(R,A)},o=function(){for(var S=[],A=0;A<e.hierarchical.numTrees();A++)S.push(e.direction.getTreeSize(A));return S},a=function S(A,D){if(!D[A.id]&&(D[A.id]=!0,e.hierarchical.childrenReference[A.id])){var R=e.hierarchical.childrenReference[A.id];if(R.length>0)for(var H=0;H<R.length;H++)S(e.body.nodes[R[H]],D)}},l=function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,D=1e9,R=1e9,H=1e9,X=-1e9;for(var z in S)if(Object.prototype.hasOwnProperty.call(S,z)){var B=e.body.nodes[z],G=e.hierarchical.levels[B.id],ne=e.direction.getPosition(B),K=e._getSpaceAroundNode(B,S),pe=It(K,2),Y=pe[0],Q=pe[1];D=Math.min(Y,D),R=Math.min(Q,R),G<=A&&(H=Math.min(ne,H),X=Math.max(ne,X))}return[H,X,D,R]},c=function(S,A){var D=e.hierarchical.getMaxLevel(S.id),R=e.hierarchical.getMaxLevel(A.id);return Math.min(D,R)},m=function(S,A,D){for(var R=e.hierarchical,H=0;H<A.length;H++){var X=A[H],z=R.distributionOrdering[X];if(z.length>1)for(var B=0;B<z.length-1;B++){var G=z[B],ne=z[B+1];R.hasSameParent(G,ne)&&R.inSameSubNetwork(G,ne)&&S(G,ne,D)}}},_=function(S,A){var D=arguments.length>2&&arguments[2]!==void 0&&arguments[2],R=e.direction.getPosition(S),H=e.direction.getPosition(A),X=Math.abs(H-R),z=e.options.hierarchical.nodeSpacing;if(X>z){var B={},G={};a(S,B),a(A,G);var ne=c(S,A),K=l(B,ne),pe=l(G,ne),Y=K[1],Q=pe[0],q=pe[2],Ne=Math.abs(Y-Q);if(Ne>z){var Se=Y-Q+z;Se<-q+z&&(Se=-q+z),Se<0&&(e._shiftBlock(A.id,Se),t=!0,D===!0&&e._centerParent(A))}}},E=function(S,A){for(var D=A.id,R=A.edges,H=e.hierarchical.levels[A.id],X=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,z={},B=[],G=0;G<R.length;G++){var ne=R[G];if(ne.toId!=ne.fromId){var K=ne.toId==D?ne.from:ne.to;z[R[G].id]=K,e.hierarchical.levels[K.id]<H&&B.push(ne)}}var pe=function(Ne,Se){for(var He=0,et=0;et<Se.length;et++)if(z[Se[et].id]!==void 0){var lt=e.direction.getPosition(z[Se[et].id])-Ne;He+=lt/Math.sqrt(lt*lt+X)}return He},Y=function(Ne,Se){for(var He=0,et=0;et<Se.length;et++)if(z[Se[et].id]!==void 0){var lt=e.direction.getPosition(z[Se[et].id])-Ne;He-=X*Math.pow(lt*lt+X,-1.5)}return He},Q=function(Ne,Se){for(var He=e.direction.getPosition(A),et={},lt=0;lt<Ne;lt++){var Et=pe(He,Se),vt=Y(He,Se);if(et[He-=Math.max(-40,Math.min(40,Math.round(Et/vt)))]!==void 0)break;et[He]=lt}return He},q=Q(S,B);(function(Ne){var Se=e.direction.getPosition(A);if(i[A.id]===void 0){var He={};a(A,He),i[A.id]=He}var et=l(i[A.id]),lt=et[2],Et=et[3],vt=Ne-Se,gr=0;vt>0?gr=Math.min(vt,Et-e.options.hierarchical.nodeSpacing):vt<0&&(gr=-Math.min(-vt,lt-e.options.hierarchical.nodeSpacing)),gr!=0&&(e._shiftBlock(A.id,gr),t=!0)})(q),function(Ne){var Se=e.direction.getPosition(A),He=It(e._getSpaceAroundNode(A),2),et=He[0],lt=He[1],Et=Ne-Se,vt=Se;Et>0?vt=Math.min(Se+(lt-e.options.hierarchical.nodeSpacing),Ne):Et<0&&(vt=Math.max(Se-(et-e.options.hierarchical.nodeSpacing),Ne)),vt!==Se&&(e.direction.setPosition(A,vt),t=!0)}(q=Q(S,R))};this.options.hierarchical.blockShifting===!0&&(function(S){var A=e.hierarchical.getLevels();A=qo(A).call(A);for(var D=0;D<S&&(t=!1,m(_,A,!0),t===!0);D++);}(5),function(){for(var S in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,S)&&e._centerParent(e.body.nodes[S])}()),this.options.hierarchical.edgeMinimization===!0&&function(S){var A=e.hierarchical.getLevels();A=qo(A).call(A);for(var D=0;D<S;D++){t=!1;for(var R=0;R<A.length;R++)for(var H=A[R],X=e.hierarchical.distributionOrdering[H],z=0;z<X.length;z++)E(1e3,X[z]);if(t!==!0)break}}(20),this.options.hierarchical.parentCentralization===!0&&function(){var S=e.hierarchical.getLevels();S=qo(S).call(S);for(var A=0;A<S.length;A++)for(var D=S[A],R=e.hierarchical.distributionOrdering[D],H=0;H<R.length;H++)e._centerParent(R[H])}(),function(){for(var S=o(),A=0,D=0;D<S.length-1;D++)A+=S[D].max-S[D+1].min+e.options.hierarchical.treeSpacing,n(D+1,A)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var i=!0;t===void 0&&(i=!1);var n=this.hierarchical.levels[e.id];if(n!==void 0){var o=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),l=this.hierarchical.distributionOrdering[n],c=1e9,m=1e9;if(o!==0){var _=l[o-1];(i===!0&&t[_.id]===void 0||i===!1)&&(c=a-this.direction.getPosition(_))}if(o!=l.length-1){var E=l[o+1];if(i===!0&&t[E.id]===void 0||i===!1){var S=this.direction.getPosition(E);m=Math.min(m,S-a)}}return[c,m]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],i=0;i<t.length;i++){var n=t[i],o=this.body.nodes[n],a=this.hierarchical.childrenReference[n];if(a!==void 0){var l=this._getCenterPosition(a),c=this.direction.getPosition(o),m=It(this._getSpaceAroundNode(o),2),_=m[0],E=m[1],S=c-l;(S<0&&Math.abs(S)<E-this.options.hierarchical.nodeSpacing||S>0&&Math.abs(S)<_-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,l)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var i,n=Dt(e[t]);n=this._indexArrayToNodes(n),ce(i=this.direction).call(i,n);for(var o=0,a=0;a<n.length;a++){var l=n[a];if(this.positionedNodes[l.id]===void 0){var c=this.options.hierarchical.nodeSpacing,m=c*o;o>0&&(m=this.direction.getPosition(n[a-1])+c),this.direction.setPosition(l,m,t),this._validatePositionAndContinue(l,t,m),o++}}}}},{key:"_placeBranchNodes",value:function(e,t){var i,n=this.hierarchical.childrenReference[e];if(n!==void 0){for(var o=[],a=0;a<n.length;a++)o.push(this.body.nodes[n[a]]);ce(i=this.direction).call(i,o);for(var l=0;l<o.length;l++){var c=o[l],m=this.hierarchical.levels[c.id];if(!(m>t&&this.positionedNodes[c.id]===void 0))return;var _=this.options.hierarchical.nodeSpacing,E=void 0;E=l===0?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(o[l-1])+_,this.direction.setPosition(c,E,m),this._validatePositionAndContinue(c,m,E)}var S=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],S,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,i){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(i-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-i,a=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(a.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],i=0;i<e.length;i++)t.push(this.body.nodes[e[i]]);return t}},{key:"_getDistribution",value:function(){var e,t,i={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){t=this.body.nodes[e];var n=this.hierarchical.levels[e]===void 0?0:this.hierarchical.levels[e];this.direction.fix(t,n),i[n]===void 0&&(i[n]={}),i[n][e]=t}return i}},{key:"_getActiveEdges",value:function(e){var t=this,i=[];return Qe(e.edges,function(n){var o;ct(o=t.body.edgeIndices).call(o,n.id)!==-1&&i.push(n)}),i}},{key:"_getHubSizes",value:function(){var e=this,t={};Qe(this.body.nodeIndices,function(n){var o=e.body.nodes[n],a=e._getActiveEdges(o).length;t[a]=!0});var i=[];return Qe(t,function(n){i.push(Number(n))}),ce(St).call(St,i,function(n,o){return o-n}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(a,l){e.hierarchical.levelDownstream(a,l)},i=this._getHubSizes(),n=function(a){var l=i[a];if(l===0)return"break";Qe(e.body.nodeIndices,function(c){var m=e.body.nodes[c];l===e._getActiveEdges(m).length&&e._crawlNetwork(t,c)})},o=0;o<i.length&&n(o)!=="break";++o);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,i,n){var o=e.hierarchical.levels[t.id];o===void 0&&(o=e.hierarchical.levels[t.id]=1e5);var a=(ji.cloneOptions(t,"node"),ji.cloneOptions(i,"node"),void ji.cloneOptions(n,"edge"));e.hierarchical.levels[i.id]=o+a}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,t=this,i=vi(e=this.body.nodeIndices).call(e,function(n,o){return n.set(o,t.body.nodes[o]),n},new u);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=function(n){return nf(function(o){var a,l;return nd(a=Pi(l=o.edges).call(l,function(c){return n.has(c.toId)})).call(a,function(c){return c.from===o})},function(o,a){return a<o},"to",n)}(i):this.hierarchical.levels=function(n){return nf(function(o){var a,l;return nd(a=Pi(l=o.edges).call(l,function(c){return n.has(c.toId)})).call(a,function(c){return c.to===o})},function(o,a){return a>o},"from",n)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,i){e.hierarchical.levels[i.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,n={},o=function E(S,A){if(n[S.id]===void 0){var D;e.hierarchical.setTreeIndex(S,A),n[S.id]=!0;for(var R=e._getActiveEdges(S),H=0;H<R.length;H++){var X=R[H];X.connected===!0&&(D=X.toId==S.id?X.from:X.to,S.id!=D.id&&(t(S,D,X),E(D,A)))}}};if(i===void 0)for(var a=0,l=0;l<this.body.nodeIndices.length;l++){var c=this.body.nodeIndices[l];if(n[c]===void 0){var m=this.body.nodes[c];o(m,a),a+=1}}else{var _=this.body.nodes[i];if(_===void 0)return void console.error("Node not found:",i);o(_)}}},{key:"_shiftBlock",value:function(e,t){var i=this,n={};(function o(a){if(!n[a]){n[a]=!0,i.direction.shift(a,t);var l=i.hierarchical.childrenReference[a];if(l!==void 0)for(var c=0;c<l.length;c++)o(l[c])}})(e)}},{key:"_findCommonParent",value:function(e,t){var i=this,n={};return function o(a,l){var c=i.hierarchical.parentReference[l];if(c!==void 0)for(var m=0;m<c.length;m++){var _=c[m];a[_]=!0,o(a,_)}}(n,e),function o(a,l){var c=i.hierarchical.parentReference[l];if(c!==void 0)for(var m=0;m<c.length;m++){var _=c[m];if(a[_]!==void 0)return{foundParent:_,withChild:l};var E=o(a,_);if(E.foundParent!==null)return E}return{foundParent:null,withChild:l}}(n,t)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";this.direction=e?new Gr(this):new Bi(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,i=-1e9,n=0;n<e.length;n++){var o=void 0;if(e[n].id!==void 0)o=e[n];else{var a=e[n];o=this.body.nodes[a]}var l=this.direction.getPosition(o);t=Math.min(t,l),i=Math.max(i,l)}return .5*(t+i)}}]),r}();function Ee(r,e){var t;if(sr===void 0||Lt(r)==null){if(ut(r)||(t=function(c,m){var _;if(!!c){if(typeof c=="string")return Ge(c,m);var E=Ot(_=Object.prototype.toString.call(c)).call(_,8,-1);if(E==="Object"&&c.constructor&&(E=c.constructor.name),E==="Map"||E==="Set")return Nn(c);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Ge(c,m)}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,l=!1;return{s:function(){t=gn(r)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,o=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw o}}}}function Ge(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}var We=function(){function r(e,t,i,n){var o,a,l=this;ae(this,r),this.body=e,this.canvas=t,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},pt(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){l._clean()}),this.body.emitter.on("_dataChanged",Z(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Z(a=this._restore).call(a,this))}return ve(r,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,i){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=i.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=i.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Be(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=i+n,a=this.options.locales[this.options.locale],l=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),l=!0),this.options.addEdge!==!1&&(l===!0?this._createSeperator(1):l=!0,this._createAddEdgeButton(a)),i===1&&typeof this.options.editNode=="function"?(l===!0?this._createSeperator(2):l=!0,this._createEditNodeButton(a)):n===1&&i===0&&this.options.editEdge!==!1&&(l===!0?this._createSeperator(3):l=!0,this._createEditEdgeButton(a)),o!==0&&(i>0&&this.options.deleteNode!==!1||i===0&&this.options.deleteEdge!==!1)&&(l===!0&&this._createSeperator(4),this._createDeleteButton(a)),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Z(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Z(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",Z(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(t!==void 0){if(this.inMode="editNode",typeof this.options.editNode!="function")throw new Error("No function has been configured to handle the editing of nodes.");if(t.isCluster!==!0){var i=Be({},t.options,!1);if(i.x=t.x,i.y=t.y,this.options.editNode.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(n){n!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(n),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,i,n,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Z(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",Z(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Z(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",Z(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Z(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",Z(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",kt(this.options.editEdge)!=="object"||typeof this.options.editEdge.editWithoutDrag!="function"||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId===void 0)){if(this.guiEnabled===!0){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var i,n,o,a,l=this.body.edges[this.edgeBeingEditedId],c=this._getNewTargetNode(l.from.x,l.from.y),m=this._getNewTargetNode(l.to.x,l.to.y);this.temporaryIds.nodes.push(c.id),this.temporaryIds.nodes.push(m.id),this.body.nodes[c.id]=c,this.body.nodeIndices.push(c.id),this.body.nodes[m.id]=m,this.body.nodeIndices.push(m.id),this._temporaryBindUI("onTouch",Z(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",Z(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Z(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",Z(a=this._controlNodeDragEnd).call(a,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(E){var S=l.edgeType.findBorderPositions(E);c.selected===!1&&(c.x=S.from.x,c.y=S.from.y),m.selected===!1&&(m.x=S.to.x,m.y=S.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var _=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(_.from.id,_.to.id)}}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),n=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(this.body.nodes[t[o]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else i.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){var a={nodes:t,edges:i};if(n.length!==2)throw new Error("The function for delete does not support two arguments (data, callback)");n(a,function(l){l!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(l.edges),e.body.data.nodes.getDataSet().remove(l.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var i=Be({},this.options.controlNodeStyle);i.id="targetNode"+kh(),i.hidden=!1,i.physics=!1,i.x=e,i.y=t;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},Hr(this.editModeDiv);var t=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Z(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(Hr(this.editModeDiv),Hr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,i=Ee(En(e=this._domEventListenerCleanupQueue).call(e,0));try{for(i.s();!(t=i.n()).done;)(0,t.value)()}catch(n){i.e(n)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Hr(this.manipulationDiv),Hr(this.editModeDiv),Hr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";var n=this._createButton("delete",i,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(this.body.eventListeners[e]===void 0)throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+ei(Dt(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,i)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var i=new Ni(e,{});Ju(i,t),this._domEventListenerCleanupQueue.push(function(){i.destroy()});var n=function(o){var a=o.keyCode,l=o.key;l!=="Enter"&&l!==" "&&a!==13&&a!==32||t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",n,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var i,n=ct(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);n!==-1&&En(i=this.body.edgeIndices).call(i,n,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var a;delete this.body.nodes[this.temporaryIds.nodes[o]];var l,c=ct(a=this.body.nodeIndices).call(a,this.temporaryIds.nodes[o]);c!==-1&&En(l=this.body.nodeIndices).call(l,c,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=pt({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var a=i.isOverlappingWith(t),l=n.isOverlappingWith(t);a===!0?(this.selectedControlNode=i,o.edgeType.from=i):l===!0&&(this.selectedControlNode=n,o.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),a=void 0,l=o.length-1;l>=0;l--)if(o[l]!==this.selectedControlNode.id){a=this.body.nodes[o[l]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var c=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===c.id?this._performEditEdge(a.id,n.to.id):this._performEditEdge(n.from.id,a.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=pt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.lastTouch,i=this.selectionHandler.getNodeAt(t);if(i!==void 0)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+kh(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),n=void 0;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),a=void 0,l=o.length-1;l>=0;l--){var c;if(ct(c=this.temporaryIds.nodes).call(c,o[l])===-1){a=this.body.nodes[o[l]];break}}if(e.controlEdge={from:n,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){var m=this.body.nodes[this.temporaryIds.nodes[0]];m.x=this.canvas._XconvertDOMtoCanvas(t.x),m.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),n=void 0;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),a=void 0,l=o.length-1;l>=0;l--){var c;if(ct(c=this.temporaryIds.nodes).call(c,o[l])===-1){a=this.body.nodes[o[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(n,a.id)),e.controlEdge={from:n,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,i={id:kh(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function"){if(this.options.addNode.length!==2)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(n){n!=null&&t.inMode==="addNode"&&t.body.data.nodes.getDataSet().add(n),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var i=this,n={from:e,to:t};if(typeof this.options.addEdge=="function"){if(this.options.addEdge.length!==2)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(o){o!=null&&i.inMode==="addEdge"&&(i.body.data.edges.getDataSet().add(o),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var i=this,n={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if(kt(o)==="object"&&(o=o.editWithoutDrag),typeof o=="function"){if(o.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(a){a==null||i.inMode!=="editEdge"?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(a),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}(),te="string",ie="boolean",V="number",Li="array",we="object",Oh=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Ws={borderWidth:{number:V},borderWidthSelected:{number:V,undefined:"undefined"},brokenImage:{string:te,undefined:"undefined"},chosen:{label:{boolean:ie,function:"function"},node:{boolean:ie,function:"function"},__type__:{object:we,boolean:ie}},color:{border:{string:te},background:{string:te},highlight:{border:{string:te},background:{string:te},__type__:{object:we,string:te}},hover:{border:{string:te},background:{string:te},__type__:{object:we,string:te}},__type__:{object:we,string:te}},opacity:{number:V,undefined:"undefined"},fixed:{x:{boolean:ie},y:{boolean:ie},__type__:{object:we,boolean:ie}},font:{align:{string:te},color:{string:te},size:{number:V},face:{string:te},background:{string:te},strokeWidth:{number:V},strokeColor:{string:te},vadjust:{number:V},multi:{boolean:ie,string:te},bold:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},boldital:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},ital:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},mono:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},__type__:{object:we,string:te}},group:{string:te,number:V,undefined:"undefined"},heightConstraint:{minimum:{number:V},valign:{string:te},__type__:{object:we,boolean:ie,number:V}},hidden:{boolean:ie},icon:{face:{string:te},code:{string:te},size:{number:V},color:{string:te},weight:{string:te,number:V},__type__:{object:we}},id:{string:te,number:V},image:{selected:{string:te,undefined:"undefined"},unselected:{string:te,undefined:"undefined"},__type__:{object:we,string:te}},imagePadding:{top:{number:V},right:{number:V},bottom:{number:V},left:{number:V},__type__:{object:we,number:V}},label:{string:te,undefined:"undefined"},labelHighlightBold:{boolean:ie},level:{number:V,undefined:"undefined"},margin:{top:{number:V},right:{number:V},bottom:{number:V},left:{number:V},__type__:{object:we,number:V}},mass:{number:V},physics:{boolean:ie},scaling:{min:{number:V},max:{number:V},label:{enabled:{boolean:ie},min:{number:V},max:{number:V},maxVisible:{number:V},drawThreshold:{number:V},__type__:{object:we,boolean:ie}},customScalingFunction:{function:"function"},__type__:{object:we}},shadow:{enabled:{boolean:ie},color:{string:te},size:{number:V},x:{number:V},y:{number:V},__type__:{object:we,boolean:ie}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ie,array:Li},borderRadius:{number:V},interpolation:{boolean:ie},useImageSize:{boolean:ie},useBorderWithImage:{boolean:ie},coordinateOrigin:{string:["center","top-left"]},__type__:{object:we}},size:{number:V},title:{string:te,dom:"dom",undefined:"undefined"},value:{number:V,undefined:"undefined"},widthConstraint:{minimum:{number:V},maximum:{number:V},__type__:{object:we,boolean:ie,number:V}},x:{number:V},y:{number:V},__type__:{object:we}},Za={configure:{enabled:{boolean:ie},filter:{boolean:ie,string:te,array:Li,function:"function"},container:{dom:"dom"},showButton:{boolean:ie},__type__:{object:we,boolean:ie,string:te,array:Li,function:"function"}},edges:{arrows:{to:{enabled:{boolean:ie},scaleFactor:{number:V},type:{string:Oh},imageHeight:{number:V},imageWidth:{number:V},src:{string:te},__type__:{object:we,boolean:ie}},middle:{enabled:{boolean:ie},scaleFactor:{number:V},type:{string:Oh},imageWidth:{number:V},imageHeight:{number:V},src:{string:te},__type__:{object:we,boolean:ie}},from:{enabled:{boolean:ie},scaleFactor:{number:V},type:{string:Oh},imageWidth:{number:V},imageHeight:{number:V},src:{string:te},__type__:{object:we,boolean:ie}},__type__:{string:["from","to","middle"],object:we}},endPointOffset:{from:{number:V},to:{number:V},__type__:{object:we,number:V}},arrowStrikethrough:{boolean:ie},background:{enabled:{boolean:ie},color:{string:te},size:{number:V},dashes:{boolean:ie,array:Li},__type__:{object:we,boolean:ie}},chosen:{label:{boolean:ie,function:"function"},edge:{boolean:ie,function:"function"},__type__:{object:we,boolean:ie}},color:{color:{string:te},highlight:{string:te},hover:{string:te},inherit:{string:["from","to","both"],boolean:ie},opacity:{number:V},__type__:{object:we,string:te}},dashes:{boolean:ie,array:Li},font:{color:{string:te},size:{number:V},face:{string:te},background:{string:te},strokeWidth:{number:V},strokeColor:{string:te},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:V},multi:{boolean:ie,string:te},bold:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},boldital:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},ital:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},mono:{color:{string:te},size:{number:V},face:{string:te},mod:{string:te},vadjust:{number:V},__type__:{object:we,string:te}},__type__:{object:we,string:te}},hidden:{boolean:ie},hoverWidth:{function:"function",number:V},label:{string:te,undefined:"undefined"},labelHighlightBold:{boolean:ie},length:{number:V,undefined:"undefined"},physics:{boolean:ie},scaling:{min:{number:V},max:{number:V},label:{enabled:{boolean:ie},min:{number:V},max:{number:V},maxVisible:{number:V},drawThreshold:{number:V},__type__:{object:we,boolean:ie}},customScalingFunction:{function:"function"},__type__:{object:we}},selectionWidth:{function:"function",number:V},selfReferenceSize:{number:V},selfReference:{size:{number:V},angle:{number:V},renderBehindTheNode:{boolean:ie},__type__:{object:we}},shadow:{enabled:{boolean:ie},color:{string:te},size:{number:V},x:{number:V},y:{number:V},__type__:{object:we,boolean:ie}},smooth:{enabled:{boolean:ie},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:V},forceDirection:{string:["horizontal","vertical","none"],boolean:ie},__type__:{object:we,boolean:ie}},title:{string:te,undefined:"undefined"},width:{number:V},widthConstraint:{maximum:{number:V},__type__:{object:we,boolean:ie,number:V}},value:{number:V,undefined:"undefined"},__type__:{object:we}},groups:{useDefaultGroups:{boolean:ie},__any__:Ws,__type__:{object:we}},interaction:{dragNodes:{boolean:ie},dragView:{boolean:ie},hideEdgesOnDrag:{boolean:ie},hideEdgesOnZoom:{boolean:ie},hideNodesOnDrag:{boolean:ie},hover:{boolean:ie},keyboard:{enabled:{boolean:ie},speed:{x:{number:V},y:{number:V},zoom:{number:V},__type__:{object:we}},bindToWindow:{boolean:ie},__type__:{object:we,boolean:ie}},multiselect:{boolean:ie},navigationButtons:{boolean:ie},selectable:{boolean:ie},selectConnectedEdges:{boolean:ie},hoverConnectedEdges:{boolean:ie},tooltipDelay:{number:V},zoomView:{boolean:ie},zoomSpeed:{number:V},__type__:{object:we}},layout:{randomSeed:{undefined:"undefined",number:V,string:te},improvedLayout:{boolean:ie},clusterThreshold:{number:V},hierarchical:{enabled:{boolean:ie},levelSeparation:{number:V},nodeSpacing:{number:V},treeSpacing:{number:V},blockShifting:{boolean:ie},edgeMinimization:{boolean:ie},parentCentralization:{boolean:ie},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:we,boolean:ie}},__type__:{object:we}},manipulation:{enabled:{boolean:ie},initiallyActive:{boolean:ie},addNode:{boolean:ie,function:"function"},addEdge:{boolean:ie,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:we,boolean:ie,function:"function"}},deleteNode:{boolean:ie,function:"function"},deleteEdge:{boolean:ie,function:"function"},controlNodeStyle:Ws,__type__:{object:we,boolean:ie}},nodes:Ws,physics:{enabled:{boolean:ie},barnesHut:{theta:{number:V},gravitationalConstant:{number:V},centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:we}},forceAtlas2Based:{theta:{number:V},gravitationalConstant:{number:V},centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:we}},repulsion:{centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},nodeDistance:{number:V},damping:{number:V},__type__:{object:we}},hierarchicalRepulsion:{centralGravity:{number:V},springLength:{number:V},springConstant:{number:V},nodeDistance:{number:V},damping:{number:V},avoidOverlap:{number:V},__type__:{object:we}},maxVelocity:{number:V},minVelocity:{number:V},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ie},iterations:{number:V},updateInterval:{number:V},onlyDynamicEdges:{boolean:ie},fit:{boolean:ie},__type__:{object:we,boolean:ie}},timestep:{number:V},adaptiveTimestep:{boolean:ie},wind:{x:{number:V},y:{number:V},__type__:{object:we}},__type__:{object:we,boolean:ie}},autoResize:{boolean:ie},clickToUse:{boolean:ie},locale:{string:te},locales:{__any__:{any:"any"},__type__:{object:we}},height:{string:te},width:{string:te},__type__:{object:we}},Wv={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Yv=function(r,e,t){var i;return!(!xn(r).call(r,"physics")||!xn(i=Wv.physics.solver).call(i,e)||t.physics.solver===e||e==="wind")},_p=Object.freeze({__proto__:null,configuratorHideOption:Yv,allOptions:Za,configureOptions:Wv}),kp=function(){function r(){ae(this,r)}return ve(r,[{key:"getDistances",value:function(e,t,i){for(var n={},o=e.edges,a=0;a<t.length;a++){var l={};n[t[a]]=l;for(var c=0;c<t.length;c++)l[t[c]]=a==c?0:1e9}for(var m=0;m<i.length;m++){var _=o[i[m]];_.connected===!0&&n[_.fromId]!==void 0&&n[_.toId]!==void 0&&(n[_.fromId][_.toId]=1,n[_.toId][_.fromId]=1)}for(var E=t.length,S=0;S<E;S++)for(var A=t[S],D=n[A],R=0;R<E-1;R++)for(var H=t[R],X=n[H],z=R+1;z<E;z++){var B=t[z],G=n[B],ne=Math.min(X[B],X[A]+D[B]);X[B]=ne,G[H]=ne}return n}}]),r}(),Ep=function(){function r(e,t,i){ae(this,r),this.body=e,this.springLength=t,this.springConstant=i,this.distanceSolver=new kp}return ve(r,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var o=.01,a=1,l=0,c=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),m=5,_=1e9,E=0,S=0,A=0,D=0,R=0;_>o&&l<c;){l+=1;var H=this._getHighestEnergyNode(i),X=It(H,4);for(E=X[0],_=X[1],S=X[2],A=X[3],D=_,R=0;D>a&&R<m;){R+=1,this._moveNode(E,S,A);var z=this._getEnergy(E),B=It(z,3);D=B[0],S=B[1],A=B[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,n=0,o=t[0],a=0,l=0,c=0;c<t.length;c++){var m=t[c];if(i[m].predefinedPosition!==!0||i[m].isCluster===!0&&e===!0||i[m].options.fixed.x!==!0||i[m].options.fixed.y!==!0){var _=It(this._getEnergy(m),3),E=_[0],S=_[1],A=_[2];n<E&&(n=E,o=m,a=S,l=A)}}return[o,n,a,l]}},{key:"_getEnergy",value:function(e){var t=It(this.E_sums[e],2),i=t[0],n=t[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(e,t,i){for(var n=this.body.nodeIndices,o=this.body.nodes,a=0,l=0,c=0,m=o[e].x,_=o[e].y,E=this.K_matrix[e],S=this.L_matrix[e],A=0;A<n.length;A++){var D=n[A];if(D!==e){var R=o[D].x,H=o[D].y,X=E[D],z=S[D],B=1/Math.pow(Math.pow(m-R,2)+Math.pow(_-H,2),1.5);a+=X*(1-z*Math.pow(_-H,2)*B),l+=X*(z*(m-R)*(_-H)*B),c+=X*(1-z*Math.pow(m-R,2)*B)}}var G=(t/a+i/l)/(l/a-c/l),ne=-(l*G+t)/a;o[e].x+=ne,o[e].y+=G,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[n]][t[o]]=i*e[t[n]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[n]][t[o]]=i*Math.pow(e[t[n]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(var n=0;n<e.length;n++){for(var o=e[n],a=t[o].x,l=t[o].y,c=0,m=0,_=n;_<e.length;_++){var E=e[_];if(E!==o){var S=t[E].x,A=t[E].y,D=1/Math.sqrt(Math.pow(a-S,2)+Math.pow(l-A,2));this.E_matrix[o][_]=[this.K_matrix[o][E]*(a-S-this.L_matrix[o][E]*(a-S)*D),this.K_matrix[o][E]*(l-A-this.L_matrix[o][E]*(l-A)*D)],this.E_matrix[E][n]=this.E_matrix[o][_],c+=this.E_matrix[o][_][0],m+=this.E_matrix[o][_][1]}}this.E_sums[o]=[c,m]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],a=this.L_matrix[e],l=i[e].x,c=i[e].y,m=0,_=0,E=0;E<t.length;E++){var S=t[E];if(S!==e){var A=n[E],D=A[0],R=A[1],H=i[S].x,X=i[S].y,z=1/Math.sqrt(Math.pow(l-H,2)+Math.pow(c-X,2)),B=o[S]*(l-H-a[S]*(l-H)*z),G=o[S]*(c-X-a[S]*(c-X)*z);n[E]=[B,G],m+=B,_+=G;var ne=this.E_sums[S];ne[0]+=B-D,ne[1]+=G-R}}this.E_sums[e]=[m,_]}}]),r}();function Ie(r,e,t){var i,n,o,a,l=this;if(!(this instanceof Ie))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:gh,clickToUse:!1},pt(this.options,this.defaultOptions),this.body={container:r,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Z(i=this.on).call(i,this),off:Z(n=this.off).call(n,this),emit:Z(o=this.emit).call(o,this),once:Z(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Yu(function(){return l.body.emitter.emit("_requestRedraw")}),this.groups=new d,this.canvas=new Hv(this.body),this.selectionHandler=new w(this.body,this.canvas),this.interactionHandler=new Jc(this.body,this.canvas,this.selectionHandler),this.view=new $f(this.body,this.canvas),this.renderer=new Lv(this.body,this.canvas),this.physics=new Nv(this.body),this.layoutEngine=new oe(this.body),this.clustering=new zv(this.body),this.manipulation=new We(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new yf(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Nf(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Ep(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}_r(Ie.prototype),Ie.prototype.setOptions=function(r){var e=this;if(r===null&&(r=void 0),r!==void 0){if(Cs.validate(r,Za)===!0&&console.error("%cErrors have been found in the supplied options object.",La),ea(["locale","locales","clickToUse"],this.options,r),r.locale!==void 0&&(r.locale=function(i,n){try{var o=It(n.split(/[-_ /]/,2),2),a=o[0],l=o[1],c=a!=null?a.toLowerCase():null,m=l!=null?l.toUpperCase():null;if(c&&m){var _,E=c+"-"+m;if(Object.prototype.hasOwnProperty.call(i,E))return E;console.warn(Ar(_="Unknown variant ".concat(m," of language ")).call(_,c,"."))}if(c){var S=c;if(Object.prototype.hasOwnProperty.call(i,S))return S;console.warn("Unknown language ".concat(c))}return console.warn("Unknown locale ".concat(n,", falling back to English.")),"en"}catch(A){return console.error(A),console.warn("Unexpected error while normalizing locale ".concat(n,", falling back to English.")),"en"}}(r.locales||this.options.locales,r.locale)),r=this.layoutEngine.setOptions(r.layout,r),this.canvas.setOptions(r),this.groups.setOptions(r.groups),this.nodesHandler.setOptions(r.nodes),this.edgesHandler.setOptions(r.edges),this.physics.setOptions(r.physics),this.manipulation.setOptions(r.manipulation,r,this.options),this.interactionHandler.setOptions(r.interaction),this.renderer.setOptions(r.interaction),this.selectionHandler.setOptions(r.interaction),r.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in r&&(this.configurator||(this.configurator=new jc(this,this.body.container,Wv,this.canvas.pixelRatio,Yv)),this.configurator.setOptions(r.configure)),this.configurator&&this.configurator.options.enabled===!0){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Be(t.nodes,this.nodesHandler.options),Be(t.edges,this.edgesHandler.options),Be(t.layout,this.layoutEngine.options),Be(t.interaction,this.selectionHandler.options),Be(t.interaction,this.renderer.options),Be(t.interaction,this.interactionHandler.options),Be(t.manipulation,this.manipulation.options),Be(t.physics,this.physics.options),Be(t.global,this.canvas.options),Be(t.global,this.options),this.configurator.setModuleOptions(t)}r.clickToUse!==void 0?r.clickToUse===!0?this.activator===void 0&&(this.activator=new fh(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Ie.prototype._updateVisibleIndices=function(){var r=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],r)Object.prototype.hasOwnProperty.call(r,t)&&(this.clustering._isClusteredNode(t)||r[t].options.hidden!==!1||this.body.nodeIndices.push(r[t].id));for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=e[i],o=r[n.fromId],a=r[n.toId],l=o!==void 0&&a!==void 0;!this.clustering._isClusteredEdge(i)&&n.options.hidden===!1&&l&&o.options.hidden===!1&&a.options.hidden===!1&&this.body.edgeIndices.push(n.id)}},Ie.prototype.bindEventListeners=function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.edgesHandler._updateState(),r.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){r.clustering._updateState(),r._updateVisibleIndices(),r._updateValueRange(r.body.nodes),r._updateValueRange(r.body.edges),r.body.emitter.emit("startSimulation"),r.body.emitter.emit("_requestRedraw")})},Ie.prototype.setData=function(r){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),r&&r.dot&&(r.nodes||r.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(r&&r.options),r&&r.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Vu(r.dot);this.setData(e)}else if(r&&r.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=Ms(r.gephi);this.setData(t)}else this.nodesHandler.setData(r&&r.nodes,!0),this.edgesHandler.setData(r&&r.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Ie.prototype.destroy=function(){for(var r in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&delete this.body.nodes[r];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];Hr(this.body.container)},Ie.prototype._updateValueRange=function(r){var e,t=void 0,i=void 0,n=0;for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){var o=r[e].getValue();o!==void 0&&(t=t===void 0?o:Math.min(o,t),i=i===void 0?o:Math.max(o,i),n+=o)}if(t!==void 0&&i!==void 0)for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&r[e].setValueRange(t,i,n)},Ie.prototype.isActive=function(){return!this.activator||this.activator.active},Ie.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Ie.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Ie.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Ie.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Ie.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Ie.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Ie.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Ie.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Ie.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Ie.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Ie.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},Ie.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},Ie.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},Ie.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},Ie.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},Ie.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Ie.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Ie.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Ie.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Ie.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Ie.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Ie.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Ie.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Ie.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Ie.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Ie.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Ie.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},Ie.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Ie.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Ie.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Ie.prototype.getConnectedNodes=function(r){return this.body.nodes[r]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Ie.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Ie.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Ie.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Ie.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Ie.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Ie.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Ie.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},Ie.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},Ie.prototype.getNodeAt=function(){var r=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r},Ie.prototype.getEdgeAt=function(){var r=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r},Ie.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Ie.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Ie.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},Ie.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Ie.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Ie.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Ie.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Ie.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Ie.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Ie.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Ie.prototype.getOptionsFromConfigurator=function(){var r={};return this.configurator&&(r=this.configurator.getOptions.apply(this.configurator)),r};var xp=Vu;fe.Network=Ie,fe.NetworkImages=Yu,fe.networkDOTParser=Gu,fe.networkGephiParser=ti,fe.networkOptions=_p,fe.parseDOTNetwork=xp,fe.parseGephiNetwork=Ms,Object.defineProperty(fe,"__esModule",{value:!0})})});var hp=Sh((Zp,lp)=>{var Tp="refers",Ip={refers:["refers","refer","reference"],requires:["requires","depends on","depends","needs"],required_by:["required by","needed by"],resolves:["resolve","resolves","resolved"],closes:["close","closes","closed"],fixes:["fixes","fix","fixed"],part_of:["part of"],superseded_by:["superseded by"]},sp=Object.fromEntries(Object.entries(Ip).flatMap(([fe,ue])=>ue.map(le=>[le,fe]))),Pp=new RegExp(Object.keys(sp).filter(fe=>fe).join("|")),up=/https:\/\/github.com\/(?<urlOwner>[-a-zA-Z0-9_]+)\/(?<urlRepo>[-a-zA-Z0-9_]+)\/(?<urlType>issues|pull)\/(?<urlNumber>\d+)/,Cp=/(?<shortOwner>[-a-zA-Z0-9_]+)\/(?<shortRepo>[-a-zA-Z0-9_]+)#(?<shortNumber>\d+)/,Ap=/#(?<localNumber>\d+)/,Dp=new RegExp(`(?:(?<name>${Pp.source}):? )?(?:(?<short>${Cp.source})|(?<local>${Ap.source})|(?<url>${up.source}))`,"ig");function Mp(fe){let ue=up.exec(fe),{urlOwner:le,urlRepo:_e,urlNumber:ee}=ue.groups;return{owner:le,repo:_e,number:parseInt(ee,10)}}function Fp({owner:fe,repo:ue,text:le}){return[...le.matchAll(Dp)].map(_e=>{let ee=_e.groups,{name:J,short:re,local:tt,url:Gn}=ee,{owner:Hi,repo:_t,number:jt}=tt?{owner:fe,repo:ue,number:parseInt(ee.localNumber,10)}:re?{owner:ee.shortOwner,repo:ee.shortRepo,number:parseInt(ee.shortNumber,10)}:Gn?{owner:ee.urlOwner,repo:ee.urlRepo,number:parseInt(ee.urlNumber,10)}:null;return{name:J&&sp[J.toLowerCase()]||Tp,target:{owner:Hi,repo:_t,number:jt}}})}lp.exports={parseGitHubUrl:Mp,getReferences:Fp}});var vp=Sh((Jp,fp)=>{var cp="a2ae08b0ac8be98aa2ae",dp="994a627b52b2080b1eb5249d88bf21c91fc64bc5";async function Np(fe){let ue=new URLSearchParams({client_id:cp,client_secret:dp,code:fe}),_e=await(await fetch("https://d5pweeyzg2.execute-api.us-east-1.amazonaws.com/login/oauth/access_token",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.toString()})).text();console.log(_e);let ee=new URLSearchParams(_e);if(console.log(ee),ee.get("error")){let J=new URL(window.location.href),re=new URL(window.location.origin+window.location.pathname);return re.searchParams.set("url",J.searchParams.get("url")),window.location.href=re.toString(),null}return ee.get("access_token")}async function Rp(){let fe=new URL(window.location.href),ue=fe.searchParams.get("token");if(ue)return ue;let le=fe.searchParams.get("code");if(le)return await Np(le);let _e=fe.searchParams.get("state"),ee=new URL(window.location.origin+window.location.pathname);ee.searchParams.set("url",fe.searchParams.get("url"));let J=new URLSearchParams({client_id:cp,client_secret:dp,redirect_uri:ee.toString(),scope:"repo",state:""});return window.location.href=`https://github.com/login/oauth/authorize?${J.toString()}`,null}fp.exports={getAccessToken:Rp}});var{GitHubClient:jp}=ep(),{DataSet:pp}=ip(),{Network:zp}=ap(),{parseGitHubUrl:Bp,getReferences:gp}=hp(),{getAccessToken:Lp}=vp(),yp,mp=Symbol("node"),rf={},qv=[];function Zf(fe){let{owner:ue,repo:le,number:_e,depth:ee}=fe;console.assert(ue),console.assert(le),console.assert(_e);let J=`${ue}/${le}#${_e}`;if(rf[J]){rf[J].depth>ee&&(rf[J].depth=ee,rf[J][mp].level=ee);return}rf[J]=fe,qv.unshift(fe)}async function Hp(){for(;qv.length;){let fe=qv.pop();await Wp(fe)}}async function $p(fe,ue){try{return await fe()}catch(le){return await ue(le)}}async function Wp(fe){let{owner:ue,repo:le,number:_e,depth:ee}=fe,{result:J,error:re}=await $p(async()=>({result:await yp.getIssueOrPullRequest({owner:ue,repo:le,number:_e})}),async _t=>({error:_t}));if(re){Jf.add({id:`${ue}/${le}#${_e}`,title:re.toString(),label:`${ue}/${le}#${_e}`,color:"white"});return}let tt=qp({owner:ue,repo:le,number:_e,...J});fe[mp]=tt,Jf.add(tt);for(let _t of J.timelineItems.nodes){let jt=_t.source,Ct=jt.repository.owner.login,cn=jt.repository.name,gi=jt.number;Zf({owner:Ct,repo:cn,number:gi,depth:ee+1})}let Gn=new Set(["requires","required_by","part_of","fixes","resolves","closes"]),Hi=gp({owner:ue,repo:le,text:J.body});for(let _t of Hi)!Gn.has(_t.name)||(Zf({..._t.target,depth:ee+1}),Uv.add(bp({owner:ue,repo:le,number:_e},_t.name,_t.target)));for(let _t of J.comments.nodes){let jt=gp({owner:ue,repo:le,text:_t.body});for(let Ct of jt)!Gn.has(Ct.name)||(Zf({...Ct.target,depth:ee+1}),Uv.add(bp({owner:ue,repo:le,number:_e},Ct.name,Ct.target)))}}function bp(fe,ue,le){if(["required_by","part_of","fixes","resolves","closes"].includes(ue)){let _e=le;le=fe,fe=_e}return{from:`${fe.owner}/${fe.repo}#${fe.number}`,to:`${le.owner}/${le.repo}#${le.number}`,arrows:{to:{enabled:!0}}}}function Th(fe,ue,le){let _e=document.createElement(fe);for(let[ee,J]of Object.entries(ue))_e.setAttribute(ee,J);for(let ee of le)_e.appendChild(ee);return _e}function qp({depth:fe,issueState:ue,pullRequestState:le,isDraft:_e,owner:ee,repo:J,number:re,title:tt,body:Gn,author:Hi}){let _t=!!le,jt=le?`https://github.com/${ee}/${J}/pull/${re}`:`https://github.com/${ee}/${J}/issues/${re}`,cn=`https://raw.githubusercontent.com/primer/octicons/main/icons/${_t?_e?"git-pull-request-draft":{OPEN:"git-pull-request",CLOSED:"git-pull-request-closed",MERGED:"git-merge"}[le]:{OPEN:"issue-opened",CLOSED:"issue-closed"}[ue]}-24.svg`,gi=Th("div",{},[Th("div",{},[document.createTextNode(`${ee}/${J}`)]),Th("h1",{class:"title"},[document.createTextNode(tt),Th("span",{class:"number"},[document.createTextNode(`#${re}`)])]),Th("div",{class:"author"},[document.createTextNode("by "),Th("img",{src:Hi.avatarUrl,class:"avatar"},[]),Th("span",{class:"name"},[document.createTextNode(`@${Hi.login}`)])])]);return{id:`${ee}/${J}#${re}`,title:gi,label:`${ee}/${J}#${re}`,url:jt,shape:"circularImage",image:cn,imagePadding:10,level:fe,color:_e?"#6a737d":{CLOSED:"#d73a49",MERGED:"#6f42c1",OPEN:"#28a745"}[ue||le]}}var Up=document.getElementById("root"),Jf=new pp([]),Uv=new pp([]),Vp={nodes:Jf,edges:Uv},Gp={interaction:{hover:!0,hoverConnectedEdges:!0,tooltipDelay:300},nodes:{shadow:!0},edges:{shadow:!0}},wp=new zp(Up,Vp,Gp);wp.on("hoverNode",()=>{});wp.on("doubleClick",({nodes:fe})=>{if(fe.length){let ue=fe[0],le=Jf.get(ue);window.open(le.url,"_blank")}});async function Yp(){let fe=await Lp();console.log(fe),yp=new jp({token:fe});let le=new URL(window.location.href).searchParams.get("url"),_e={...Bp(le),depth:0};Zf(_e),Hp()}Yp();})();
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */
/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.2
 * @date    2021-01-08T20:37:11.601Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.0.4
 * @date    2021-03-16T05:41:40.818Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
